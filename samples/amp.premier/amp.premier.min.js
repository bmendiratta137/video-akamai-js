!function(e){var r=e.babelHelpers={};r.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r.jsx=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(r,t,n,o){var i=r&&r.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&i)for(var a in i)void 0===t[a]&&(t[a]=i[a]);else t||(t=i||{});if(1===u)t.children=o;else if(u>1){for(var f=Array(u),l=0;l<u;l++)f[l]=arguments[l+3];t.children=f}return{$$typeof:e,type:r,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}}(),r.asyncIterator=function(e){if("function"==typeof Symbol){if(Symbol.asyncIterator){var r=e[Symbol.asyncIterator];if(null!=r)return r.call(e)}if(Symbol.iterator)return e[Symbol.iterator]()}throw new TypeError("Object is not async iterable")},r.asyncGenerator=function(){function e(e){this.value=e}function r(r){function t(e,r){return new Promise(function(t,o){var a={key:e,arg:r,resolve:t,reject:o,next:null};u?u=u.next=a:(i=u=a,n(e,r))})}function n(t,i){try{var u=r[t](i),a=u.value;a instanceof e?Promise.resolve(a.value).then(function(e){n("next",e)},function(e){n("throw",e)}):o(u.done?"return":"normal",u.value)}catch(e){o("throw",e)}}function o(e,r){switch(e){case"return":i.resolve({value:r,done:!0});break;case"throw":i.reject(r);break;default:i.resolve({value:r,done:!1})}i=i.next,i?n(i.key,i.arg):u=null}var i,u;this._invoke=t,"function"!=typeof r.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(r.prototype[Symbol.asyncIterator]=function(){return this}),r.prototype.next=function(e){return this._invoke("next",e)},r.prototype.throw=function(e){return this._invoke("throw",e)},r.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new r(e.apply(this,arguments))}},await:function(r){return new e(r)}}}(),r.asyncGeneratorDelegate=function(e,r){function t(t,n){return o=!0,n=new Promise(function(r){r(e[t](n))}),{done:!1,value:r(n)}}var n={},o=!1;return"function"==typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return this}),n.next=function(e){return o?(o=!1,e):t("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(o)throw o=!1,e;return t("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return t("return",e)}),n},r.asyncToGenerator=function(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(o,i){try{var u=r[o](i),a=u.value}catch(e){return void t(e)}return u.done?void e(a):Promise.resolve(a).then(function(e){n("next",e)},function(e){n("throw",e)})}return n("next")})}},r.classCallCheck=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")},r.createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),r.defineEnumerableProperties=function(e,r){for(var t in r){var n=r[t];n.configurable=n.enumerable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t,n)}return e},r.defaults=function(e,r){for(var t=Object.getOwnPropertyNames(r),n=0;n<t.length;n++){var o=t[n],i=Object.getOwnPropertyDescriptor(r,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e},r.defineProperty=function(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e},r.extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},r.get=function e(r,t,n){null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,t);if(void 0===o){var i=Object.getPrototypeOf(r);return null===i?void 0:e(i,t,n)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(n)},r.inherits=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)},r.instanceof=function(e,r){return null!=r&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](e):e instanceof r},r.interopRequireDefault=function(e){return e&&e.__esModule?e:{default:e}},r.interopRequireWildcard=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r},r.newArrowCheck=function(e,r){if(e!==r)throw new TypeError("Cannot instantiate an arrow function")},r.objectDestructuringEmpty=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},r.objectWithoutProperties=function(e,r){var t={};for(var n in e)r.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},r.possibleConstructorReturn=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r},r.selfGlobal="undefined"==typeof e?self:e,r.set=function e(r,t,n,o){var i=Object.getOwnPropertyDescriptor(r,t);if(void 0===i){var u=Object.getPrototypeOf(r);null!==u&&e(u,t,n,o)}else if("value"in i&&i.writable)i.value=n;else{var a=i.set;void 0!==a&&a.call(o,n)}return n},r.slicedToArray=function(){function e(e,r){var t=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(t.push(u.value),!r||t.length!==r);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r.slicedToArrayLoose=function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var t,n=[],o=e[Symbol.iterator]();!(t=o.next()).done&&(n.push(t.value),!r||n.length!==r););return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},r.taggedTemplateLiteral=function(e,r){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))},r.taggedTemplateLiteralLoose=function(e,r){return e.raw=r,e},r.temporalRef=function(e,r,t){if(e===t)throw new ReferenceError(r+" is not defined - temporal dead zone");return e},r.temporalUndefined={},r.toArray=function(e){return Array.isArray(e)?e:Array.from(e)},r.toConsumableArray=function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}}("undefined"==typeof global?self:global);
try{var ce=new window.CustomEvent("test");ce.preventDefault();if(!0!==ce.defaultPrevented)throw Error("Could not prevent default");}catch(e){var CustomEvent=function(d,a){var b,c;a=a||{bubbles:!1,cancelable:!1,detail:void 0};b=document.createEvent("CustomEvent");b.initCustomEvent(d,a.bubbles,a.cancelable,a.detail);c=b.preventDefault;b.preventDefault=function(){c.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(f){this.defaultPrevented=!0}};return b};CustomEvent.prototype=
window.Event.prototype;window.CustomEvent=CustomEvent};
/*! DOMTokenlist shim | Copyright 2016 Jonathan Wilsson and Bogdan Chadkin. */
"undefined"!=typeof window&&function(e){"use strict";if(e.DOMTokenList){var t=document.createElement("a").classList,n=DOMTokenList.prototype,i=n.add,o=n.remove,r=n.toggle;t.add("c1","c2");var s=function(e){return function(){var t,n=arguments;for(t=0;t<n.length;t+=1)e.call(this,n[t])}};t.contains("c2")||(n.add=s(i),n.remove=s(o)),t.toggle("c1",!0)||(n.toggle=function(e,t){return void 0===t?r.call(this,e):((t?i:o).call(this,e),!!t)})}}(window),"undefined"!=typeof window&&function(e){"use strict";var t=[],n=function(e,n){var i;if(t.indexOf)return t.indexOf.call(e,n);for(i=0;i<e.length;i++)if(e[i]===n)return i;return-1},i=function(e){var t=/[\u0009\u000A\u000C\u000D\u0020]/;if(""===e||t.test(e))throw new Error("Token must not be empty or contain whitespace.")},o=function(e,t){var n,i=this,o=[];if(e&&t&&(i.element=e,i.prop=t,e[t]))for(o=e[t].replace(/^\s+|\s+$/g,"").split(/\s+/),n=0;n<o.length;n++)i[n]=o[n];i.length=o.length};o.prototype={add:function(){var e,n=this,o=arguments;for(e=0;e<o.length;e++)i(o[e]),n.contains(o[e])||t.push.call(n,o[e]);n.element&&(n.element[n.prop]=n)},contains:function(e){return i(e),-1!==n(this,e)},item:function(e){return this[e]||null},remove:function(){var e,o,r=arguments,s=this;for(o=0;o<r.length;o++)i(r[o]),e=n(s,r[o]),-1!==e&&t.splice.call(s,e,1);s.element&&(s.element[s.prop]=s)},toggle:function(e,t){var n=this;return n.contains(e)?t?!0:(n.remove(e),!1):t===!1?!1:(n.add(e),!0)},toString:function(){return t.join.call(this," ")}},e.DOMTokenList=o}(window),"undefined"!=typeof window&&function(){"use strict";"classList"in document.createElement("a")||Object.defineProperty(Element.prototype,"classList",{get:function(){return new DOMTokenList(this,"className")}})}(),"undefined"!=typeof window&&function(){"use strict";if(!("relList"in document.createElement("a"))){var e,t=[HTMLAnchorElement,HTMLAreaElement,HTMLLinkElement],n=function(){return new DOMTokenList(this,"rel")};for(e=0;e<t.length;e++)Object.defineProperty(t[e].prototype,"relList",{get:n})}}(),"undefined"!=typeof window&&function(){"use strict";if("undefined"!=typeof SVGElement){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");"classList"in e&&!window.QUnit||Object.defineProperty(SVGElement.prototype,"classList",{get:function(){return"string"==typeof this.className?new DOMTokenList(this,"className"):"string"==typeof this.className.baseVal?new DOMTokenList(this.className,"baseVal"):void 0}})}}();

!function(t,e){if(!t.ES6Promise){t.ES6Promise=e();t.ES6Promise.polyfill()}}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){I=t}function r(t){J=t}function o(){return function(){return process.nextTick(a)}}function i(){return"undefined"!=typeof H?function(){H(a)}:c()}function s(){var t=0,e=new V(a),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=a,function(){return t.port2.postMessage(0)}}function c(){var t=setTimeout;return function(){return t(a,1)}}function a(){for(var t=0;t<G;t+=2){var e=$[t],n=$[t+1];e(n),$[t]=void 0,$[t+1]=void 0}G=0}function f(){try{var t=require,e=t("vertx");return H=e.runOnLoop||e.runOnContext,i()}catch(n){return c()}}function l(t,e){var n=arguments,r=this,o=new this.constructor(p);void 0===o[et]&&k(o);var i=r._state;return i?!function(){var t=n[i-1];J(function(){return x(i,o,t,r._result)})}():E(r,o,t,e),o}function h(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(p);return g(n,t),n}function p(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function _(t){try{return t.then}catch(e){return it.error=e,it}}function y(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function m(t,e,n){J(function(t){var r=!1,o=y(n,e,function(n){r||(r=!0,e!==n?g(t,n):S(t,n))},function(e){r||(r=!0,j(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,j(t,o))},t)}function b(t,e){e._state===rt?S(t,e._result):e._state===ot?j(t,e._result):E(e,void 0,function(e){return g(t,e)},function(e){return j(t,e)})}function w(t,n,r){n.constructor===t.constructor&&r===l&&n.constructor.resolve===h?b(t,n):r===it?j(t,it.error):void 0===r?S(t,n):e(r)?m(t,n,r):S(t,n)}function g(e,n){e===n?j(e,v()):t(n)?w(e,n,_(n)):S(e,n)}function A(t){t._onerror&&t._onerror(t._result),P(t)}function S(t,e){t._state===nt&&(t._result=e,t._state=rt,0!==t._subscribers.length&&J(P,t))}function j(t,e){t._state===nt&&(t._state=ot,t._result=e,J(A,t))}function E(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+rt]=n,o[i+ot]=r,0===i&&t._state&&J(P,t)}function P(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?x(n,r,o,i):o(i);t._subscribers.length=0}}function T(){this.error=null}function M(t,e){try{return t(e)}catch(n){return st.error=n,st}}function x(t,n,r,o){var i=e(r),s=void 0,u=void 0,c=void 0,a=void 0;if(i){if(s=M(r,o),s===st?(a=!0,u=s.error,s=null):c=!0,n===s)return void j(n,d())}else s=o,c=!0;n._state!==nt||(i&&c?g(n,s):a?j(n,u):t===rt?S(n,s):t===ot&&j(n,s))}function C(t,e){try{e(function(e){g(t,e)},function(e){j(t,e)})}catch(n){j(t,n)}}function O(){return ut++}function k(t){t[et]=ut++,t._state=void 0,t._result=void 0,t._subscribers=[]}function Y(t,e){this._instanceConstructor=t,this.promise=new t(p),this.promise[et]||k(this.promise),B(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):j(this.promise,q())}function q(){return new Error("Array Methods must be provided an Array")}function F(t){return new Y(this,t).promise}function D(t){var e=this;return new e(B(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function K(t){var e=this,n=new e(p);return j(n,t),n}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function N(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function U(t){this[et]=O(),this._result=this._state=void 0,this._subscribers=[],p!==t&&("function"!=typeof t&&L(),this instanceof U?C(this,t):N())}function W(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(e){}if("[object Promise]"===r&&!n.cast)return}t.Promise=U}var z=void 0;z=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var B=z,G=0,H=void 0,I=void 0,J=function(t,e){$[G]=t,$[G+1]=e,G+=2,2===G&&(I?I(a):tt())},Q="undefined"!=typeof window?window:void 0,R=Q||{},V=R.MutationObserver||R.WebKitMutationObserver,X="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,$=new Array(1e3),tt=void 0;tt=X?o():V?s():Z?u():void 0===Q&&"function"==typeof require?f():c();var et=Math.random().toString(36).substring(16),nt=void 0,rt=1,ot=2,it=new T,st=new T,ut=0;return Y.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===nt&&n<t;n++)this._eachEntry(e[n],n)},Y.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===h){var o=_(t);if(o===l&&t._state!==nt)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===U){var i=new n(p);w(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},Y.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===nt&&(this._remaining--,t===ot?j(r,n):this._result[e]=n),0===this._remaining&&S(r,this._result)},Y.prototype._willSettleAt=function(t,e){var n=this;E(t,void 0,function(t){return n._settledAt(rt,e,t)},function(t){return n._settledAt(ot,e,t)})},U.all=F,U.race=D,U.resolve=h,U.reject=K,U._setScheduler=n,U._setAsap=r,U._asap=J,U.prototype={constructor:U,then:l,"catch":function(t){return this.then(null,t)}},U.polyfill=W,U.Promise=U,U});
"function"!=typeof Object.assign&&(Object.assign=function(c){if(null==c)throw new TypeError("Cannot convert undefined or null to object");c=Object(c);for(var e=1;e<arguments.length;e++){var b=arguments[e];if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d])}return c});
Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(c,e){if(null==this)throw new TypeError('"this" is null or not defined');var b=Object(this),d=b.length>>>0;if("function"!==typeof c)throw new TypeError("predicate must be a function");for(var a=0;a<d;){if(c.call(e,b[a],a,b))return a;a++}return-1}});
Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(c,e){if(null==this)throw new TypeError('"this" is null or not defined');var b=Object(this),d=b.length>>>0;if(0===d)return!1;var a=e|0;for(a=Math.max(0<=a?a:d-Math.abs(a),0);a<d;){var f=b[a],g=c;if(f===g||"number"===typeof f&&"number"===typeof g&&isNaN(f)&&isNaN(g))return!0;a++}return!1}});

(function(n){function i(a,d){this.setNotifyMethod(a);this.setNotifyContext(d)}function j(a,d,b){this.name=a;this.body=d;this.type=b}function k(){}function m(){}function l(){this.subCommands=[];this.initializeMacroCommand()}function g(a,d){this.mediatorName=a||this.constructor.NAME;this.viewComponent=d}function h(a,d){this.proxyName=a||this.constructor.NAME;null!=d&&this.setData(d)}function b(a){if(null!=b.instanceMap[a])throw Error(b.MULTITON_MSG);this.initializeNotifier(a);b.instanceMap[a]=this;
this.initializeFacade()}function c(a){if(null!=c.instanceMap[a])throw Error(c.MULTITON_MSG);this.multitonKey=a;c.instanceMap[this.multitonKey]=this;this.mediatorMap=[];this.observerMap=[];this.initializeView()}function e(a){if(e.instanceMap[a])throw Error(e.MULTITON_MSG);this.multitonKey=a;e.instanceMap[a]=this;this.proxyMap=[];this.initializeModel()}function f(a){if(null!=f.instanceMap[a])throw Error(f.MULTITON_MSG);this.multitonKey=a;f.instanceMap[this.multitonKey]=this;this.commandMap=[];this.initializeController()}
function p(a,d,b){for(var a=a.split("."),b=b||o.global,c,e,f=0,g=a.length;f<g;f++)c=b,e=a[f],b=null==b[e]?b[e]={}:b[e];return null==d?b:c[e]=d}null==n&&(n=window);if(!n.puremvc){i.prototype.setNotifyMethod=function(a){this.notify=a};i.prototype.setNotifyContext=function(a){this.context=a};i.prototype.getNotifyMethod=function(){return this.notify};i.prototype.getNotifyContext=function(){return this.context};i.prototype.notifyObserver=function(a){this.getNotifyMethod().call(this.getNotifyContext(),
a)};i.prototype.compareNotifyContext=function(a){return a===this.context};i.prototype.notify=null;i.prototype.context=null;j.prototype.getName=function(){return this.name};j.prototype.setBody=function(a){this.body=a};j.prototype.getBody=function(){return this.body};j.prototype.setType=function(a){this.type=a};j.prototype.getType=function(){return this.type};j.prototype.toString=function(){var a="Notification Name: "+this.getName(),a=a+("\nBody:"+(null==this.body?"null":this.body.toString()));return a+=
"\nType:"+(null==this.type?"null":this.type)};j.prototype.name=null;j.prototype.type=null;j.prototype.body=null;k.prototype.sendNotification=function(a,d,b){var c=this.getFacade();c&&c.sendNotification(a,d,b)};k.prototype.initializeNotifier=function(a){this.multitonKey=""+a;this.facade=this.getFacade()};k.prototype.getFacade=function(){if(null==this.multitonKey)throw Error(k.MULTITON_MSG);return b.getInstance(this.multitonKey)};k.prototype.multitonKey=null;k.MULTITON_MSG="multitonKey for this Notifier not yet initialized!";
m.prototype=new k;m.prototype.constructor=m;m.prototype.execute=function(){};l.prototype=new k;l.prototype.constructor=l;l.prototype.subCommands=null;l.prototype.initializeMacroCommand=function(){};l.prototype.addSubCommand=function(a){this.subCommands.push(a)};l.prototype.execute=function(a){for(;0<this.subCommands.length;){var d=new (this.subCommands.shift());d.initializeNotifier(this.multitonKey);d.execute(a)}};g.NAME="Mediator";g.prototype=new k;g.prototype.constructor=g;g.prototype.getMediatorName=
function(){return this.mediatorName};g.prototype.setViewComponent=function(a){this.viewComponent=a};g.prototype.getViewComponent=function(){return this.viewComponent};g.prototype.listNotificationInterests=function(){return[]};g.prototype.handleNotification=function(){};g.prototype.onRegister=function(){};g.prototype.onRemove=function(){};g.prototype.mediatorName=null;g.prototype.viewComponent=null;h.NAME="Proxy";h.prototype=new k;h.prototype.constructor=h;h.prototype.getProxyName=function(){return this.proxyName};
h.prototype.setData=function(a){this.data=a};h.prototype.getData=function(){return this.data};h.prototype.onRegister=function(){};h.prototype.onRemove=function(){};h.prototype.proxyName=null;h.prototype.data=null;b.prototype.initializeFacade=function(){this.initializeModel();this.initializeController();this.initializeView()};b.getInstance=function(a){if(null==a)return null;null==b.instanceMap[a]&&(b.instanceMap[a]=new b(a));return b.instanceMap[a]};b.prototype.initializeController=function(){if(null==
this.controller)this.controller=f.getInstance(this.multitonKey)};b.prototype.initializeModel=function(){if(null==this.model)this.model=e.getInstance(this.multitonKey)};b.prototype.initializeView=function(){if(null==this.view)this.view=c.getInstance(this.multitonKey)};b.prototype.registerCommand=function(a,d){this.controller.registerCommand(a,d)};b.prototype.removeCommand=function(a){this.controller.removeCommand(a)};b.prototype.hasCommand=function(a){return this.controller.hasCommand(a)};b.prototype.registerProxy=
function(a){this.model.registerProxy(a)};b.prototype.retrieveProxy=function(a){return this.model.retrieveProxy(a)};b.prototype.removeProxy=function(a){var d=null;null!=this.model&&(d=this.model.removeProxy(a));return d};b.prototype.hasProxy=function(a){return this.model.hasProxy(a)};b.prototype.registerMediator=function(a){null!=this.view&&this.view.registerMediator(a)};b.prototype.retrieveMediator=function(a){return this.view.retrieveMediator(a)};b.prototype.removeMediator=function(a){var d=null;
null!=this.view&&(d=this.view.removeMediator(a));return d};b.prototype.hasMediator=function(a){return this.view.hasMediator(a)};b.prototype.sendNotification=function(a,d,b){this.notifyObservers(new j(a,d,b))};b.prototype.notifyObservers=function(a){null!=this.view&&this.view.notifyObservers(a)};b.prototype.initializeNotifier=function(a){this.multitonKey=a};b.hasCore=function(a){return null!=b.instanceMap[a]};b.removeCore=function(a){null!=b.instanceMap[a]&&(e.removeModel(a),c.removeView(a),f.removeController(a),
delete b.instanceMap[a])};b.prototype.controller=null;b.prototype.model=null;b.prototype.view=null;b.prototype.multitonKey=null;b.instanceMap=[];b.MULTITON_MSG="Facade instance for this Multiton key already constructed!";c.prototype.initializeView=function(){};c.getInstance=function(a){if(null==a)return null;null==c.instanceMap[a]&&(c.instanceMap[a]=new c(a));return c.instanceMap[a]};c.prototype.registerObserver=function(a,d){null!=this.observerMap[a]?this.observerMap[a].push(d):this.observerMap[a]=
[d]};c.prototype.notifyObservers=function(a){if(null!=this.observerMap[a.getName()]){for(var d=this.observerMap[a.getName()],b=[],c,e=0;e<d.length;e++)c=d[e],b.push(c);for(e=0;e<b.length;e++)c=b[e],c.notifyObserver(a)}};c.prototype.removeObserver=function(a,d){for(var b=this.observerMap[a],c=0;c<b.length;c++)if(!0==b[c].compareNotifyContext(d)){b.splice(c,1);break}0==b.length&&delete this.observerMap[a]};c.prototype.registerMediator=function(a){if(null==this.mediatorMap[a.getMediatorName()]){a.initializeNotifier(this.multitonKey);
this.mediatorMap[a.getMediatorName()]=a;var d=a.listNotificationInterests();if(0<d.length)for(var b=new i(a.handleNotification,a),c=0;c<d.length;c++)this.registerObserver(d[c],b);a.onRegister()}};c.prototype.retrieveMediator=function(a){return this.mediatorMap[a]};c.prototype.removeMediator=function(a){var d=this.mediatorMap[a];if(d){for(var b=d.listNotificationInterests(),c=0;c<b.length;c++)this.removeObserver(b[c],d);delete this.mediatorMap[a];d.onRemove()}return d};c.prototype.hasMediator=function(a){return null!=
this.mediatorMap[a]};c.removeView=function(a){delete c.instanceMap[a]};c.prototype.mediatorMap=null;c.prototype.observerMap=null;c.instanceMap=[];c.prototype.multitonKey=null;c.MULTITON_MSG="View instance for this Multiton key already constructed!";e.prototype.initializeModel=function(){};e.getInstance=function(a){if(null==a)return null;null==e.instanceMap[a]&&(e.instanceMap[a]=new e(a));return e.instanceMap[a]};e.prototype.registerProxy=function(a){a.initializeNotifier(this.multitonKey);this.proxyMap[a.getProxyName()]=
a;a.onRegister()};e.prototype.retrieveProxy=function(a){return this.proxyMap[a]};e.prototype.hasProxy=function(a){return null!=this.proxyMap[a]};e.prototype.removeProxy=function(a){var b=this.proxyMap[a];b&&(this.proxyMap[a]=null,b.onRemove());return b};e.removeModel=function(a){delete e.instanceMap[a]};e.prototype.proxyMap=null;e.instanceMap=[];e.MULTITON_MSG="Model instance for this Multiton key already constructed!";f.prototype.initializeController=function(){this.view=c.getInstance(this.multitonKey)};
f.getInstance=function(a){if(null==a)return null;null==this.instanceMap[a]&&(this.instanceMap[a]=new this(a));return this.instanceMap[a]};f.prototype.executeCommand=function(a){var b=this.commandMap[a.getName()];null!=b&&(b=new b,b.initializeNotifier(this.multitonKey),b.execute(a))};f.prototype.registerCommand=function(a,b){null==this.commandMap[a]&&this.view.registerObserver(a,new i(this.executeCommand,this));this.commandMap[a]=b};f.prototype.hasCommand=function(a){return null!=this.commandMap[a]};
f.prototype.removeCommand=function(a){this.hasCommand(a)&&(this.view.removeObserver(a,this),this.commandMap[a]=null)};f.removeController=function(a){delete this.instanceMap[a]};f.prototype.view=null;f.prototype.commandMap=null;f.prototype.multitonKey=null;f.instanceMap=[];f.MULTITON_MSG="controller key for this Multiton key already constructed";var o={global:function(){return this}(),extend:function(a,b){if("function"!==typeof a)throw new TypeError("#extend- child should be Function");if("function"!==
typeof b)throw new TypeError("#extend- parent should be Function");if(b!==a){var c=new Function;c.prototype=b.prototype;a.prototype=new c;return a.prototype.constructor=a}},decorate:function(a,b){for(var c in b)a[c]=b[c];return a}};n.puremvc={View:c,Model:e,Controller:f,SimpleCommand:m,MacroCommand:l,Facade:b,Mediator:g,Observer:i,Notification:j,Notifier:k,Proxy:h,define:function(a,b,c){a||(a={});var e=a.name,f=a.parent,g="function"===typeof f,h=a.scope||null;if("parent"in a&&!g)throw new TypeError("Class parent must be Function");
if(a.hasOwnProperty("constructor")){if(a=a.constructor,"function"!==typeof a)throw new TypeError("Class constructor must be Function");}else a=g?function(){f.apply(this,arguments)}:new Function;g&&o.extend(a,f);if(b)g=a.prototype,o.decorate(g,b),g.constructor=a;c&&o.decorate(a,c);if(e){if("string"!==typeof e)throw new TypeError("Class name must be primitive string");p(e,a,h)}return a},declare:p}}})(this);

(function(){function uf(){var a,b,c,e=this;b=null;this.getSDK=function(){return b};this.setSDK=function(c){var e;b=c;a();for(e in b)c=b[e],window[e]=c;return b};this.saveSDK=function(a,b){var e,d;if(null!=b&&null!=a&&""!==a){if(null==b.main)for(e in b)if(d=b[e],(null!=d?d.VERSION:void 0)===a){b.main=d;break}null==b.version&&(b.version=a);c.push(b);return this[a]=b}};c=[];this.getVersions=function(){return c.slice()};this.getVersion=function(a){return this[a]};this.setVersion=function(a){b=this.getVersion(a);
if(null==b)return null;this.setSDK(b);return b};this.revert=function(){return this.setSDK(c[0])};this.noConflict=function(){var a;a=this.getSDK();this.revert();return a};this.create=function(){var a;a=function(a,b){this.prototype=a.prototype;return a.apply(this,b)};return function(c){return new a(b.main,arguments)}}();a=function(){var a,c,d;if(null!=(c=window.com)&&null!=(d=c.akamai)&&d.amp)for(a in window)if(c=window[a],(c===window.AMP||c===window.AMPremier)&&null!=(null!=c?c.VERSION:void 0)&&""!==
c.VERSION&&c.VERSION!==(null!=b?b.version:void 0)&&null==e[c.VERSION]){a={};a.main=c;a.com=window.com;window.AMP&&(a.AMP=window.AMP);window.AMPPremier&&(a.AMPremier=window.AMPPremier);window.Utils&&(a.Utils=window.Utils);window.QueryString&&(a.QueryString=window.QueryString);window.QueryParams&&(a.QueryParams=window.QueryParams);e.saveSDK(c.VERSION,a);break}};a()}var Dc;null==window.AKAMAI_MEDIA_PLAYER&&(window.AKAMAI_MEDIA_PLAYER=new uf);if(null==window.AKAMAI_MEDIA_PLAYER["AMP Premier v2.94.5"]){Dc=
window.AKAMAI_MEDIA_PLAYER["AMP Premier v2.94.5"]={};var vf=function(a){return{}.hasOwnProperty(a)},f=function(a,b){function c(){this.constructor=a}for(var e in b)vf.call(b,e)&&(a[e]=b[e]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a},ud=function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},wf=function(a,b){return function(){return a.apply(b,arguments)}},Ea=function(){};Ea.construct=function(){var a,b,c;c=this.decode(window.location.search);
Ea.typed={};for(a in c)b=c[a],Ea[a]=b,Ea.typed[a]=this.parse(b);return!0};Ea.encode=function(a,b){var c,e,h,J;h=[];for(e in a)J=a[e],null!=J&&(c=b?b+"["+e+"]":e,h.push("object"===typeof J?this.encode(J,c):encodeURIComponent(c)+"\x3d"+encodeURIComponent(J)));return h.join("\x26")};Ea.decode=function(a){var b,c=this;null!=a&&(b={},a=a.replace(/^[^?]*\?/,""),a.replace(/([^?=&]+)(=([^&]*))?/g,function(a,h,J,d){a=decodeURIComponent(h);d=decodeURIComponent(d);/~/.test(d)&&(d=c.decodeObject(d));b[a]=d}));
return b};Ea.decodeObject=function(a){var b,c=this;null!=a&&(b={},a.replace(/([^:~]+)(:([^~]*))?/g,function(a,h,J,d){b[decodeURIComponent(h)]=c.parse(decodeURIComponent(d))}));return b};Ea.parse=function(a){var b;if("object"===typeof a)return a;if("undefined"===a)return!0;b=a.toLowerCase();if("true"===b||"false"===b)return"true"===b;if("null"===b)return null;b=parseFloat(a);if(!isNaN(b))return b;try{return b=JSON.parse(a)}catch(c){return a}};Ea.constructed=Ea.construct();var F=function(a,b){this.config=
a;F.__super__.constructor.call(this,b)};f(F,puremvc.Proxy);F.NAME="ModuleProxy";F.prototype.defaults=null;F.prototype.config=null;F.prototype.initializeNotifier=function(a){F.__super__.initializeNotifier.call(this,a);this.createData()};F.prototype.createData=function(){this.setData(this.config)};F.prototype.getDefaults=function(){return this.defaults||{}};F.prototype.setData=function(a){var b,c,e,h;null==a&&(a={});e={};h=this.getDefaults();for(c in h)b=h[c],b=c in a?a[c]:b,e[c]=b;F.__super__.setData.call(this,
e);return a};F.prototype.destroy=function(){};var E=function(a){this.viewComponent=a;this.performance={init:Date.now()};E.__super__.constructor.call(this,this.getModuleName()+"-"+g.createUID());this.dispatcher=new Fa(this);this.transformer=new ic;this.logger=Y.instance;this.moduleMap={}};f(E,puremvc.Facade);E.prototype.logger=null;E.prototype.config=null;E.prototype.moduleName=null;E.prototype.moduleMap=null;E.prototype.viewComponent=null;E.prototype.dispatcher=null;E.prototype.oninitialized=null;
E.prototype.onerror=null;E.prototype.parentModule=null;E.prototype.performance=null;E.prototype.transformer=null;E.prototype.initialize=function(a,b){this.config=a;this.parentModule=b;this.loadModuleResources().then(this.resourcesLoaded.bind(this))["catch"](this.resourcesError.bind(this))};E.prototype.loadModuleResources=function(a){var b,c,e;null==a&&(a=this.config.resources);if(0<!(null!=a&&a.length))return Promise.resolve();c=0;for(e=a.length;c<e;c++)b=a[c],b.src=this.evaluatePaths(b.src),null!=
b.debug&&(b.debug=this.evaluatePaths(b.debug));return r.addResources(a)};E.prototype.evaluatePaths=function(a){var b,c,e;if(null!=a)return b=this.config.paths||(null!=(c=this.parentModule)?null!=(e=c.config)?e.paths:void 0:void 0),null!=b&&(a=Wa.eval(a,{paths:b})),a};E.prototype.resourcesError=function(a){if("function"===typeof this.onerror)this.onerror(this)};E.prototype.resourcesLoaded=function(){this.createFramework();if("function"===typeof this.oninitialized)this.oninitialized(this)};E.prototype.createFramework=
function(){this.createModel();this.createController();this.createView()};E.prototype.createModel=function(){this.registerProxy(new F(this.config))};E.prototype.createView=function(){};E.prototype.createController=function(){this.registerCommand(d.DISPATCH_EVENT,vd)};E.prototype.getModuleName=function(){return this.moduleName};E.prototype.getConfig=function(){return this.config};E.prototype.hasModule=function(a){return null!=this.moduleMap[a]};E.prototype.getModules=function(){var a,b,c,e;b={};e=this.moduleMap;
for(a in e)c=e[a],b[a]=c.module;return b};E.prototype.registerModule=function(a){var b,c;c=a.getModuleName();null!=a&&null==this.moduleMap[c]&&(b=new jb(a),this.moduleMap[c]=b,this.registerMediator(b),a.onRegister())};E.prototype.retrieveModule=function(a){return this.moduleMap[a].module};E.prototype.removeModule=function(a){var b;b=this.moduleMap[a];if(null!=b)return delete this.moduleMap[a],this.removeMediator(a),a=b.module,a.onRemove.call(a),a};E.prototype.listNotificationInterests=function(){return[]};
E.prototype.listNotificationPublications=function(){return[]};E.prototype.getViewComponent=function(){return this.viewComponent};E.prototype.setViewComponent=function(a){return this.viewComponent=a};E.prototype.onRegister=function(){};E.prototype.onRemove=function(){};E.prototype.destroy=function(){var a,b,c,e;if(null!=this.getModules())for(a in c=this.getModules(),c)b=c[a],this.removeModule(a),b.destroy();null!=(e=this.retrieveProxy(F.NAME))&&"function"===typeof e.destroy&&e.destroy();puremvc.Facade.removeCore(this.multitonKey);
null!=this.viewComponent&&(this.viewComponent.innerHTML="",this.viewComponent.className="");for(a in this){try{this[a]=null}catch(h){}delete this[a]}};E.prototype.addEventListener=function(a,b){this.dispatcher.addEventListener(a,b)};E.prototype.once=function(a,b){this.dispatcher.once(a,b)};E.prototype.logEvent=function(a){var b;!0!==/(timeupdate|progress|fragmentloaded|fragmentloadstart)/.test(a.type)&&(b=this.getModuleName().toUpperCase(),a.dispatcher&&(b+=" "+a.dispatcher),this.logger.log("["+b+
" EVENT] "+a.type,a))};E.prototype.dispatchEvent=function(a){this.logEvent(a);this.dispatcher.dispatchEvent(a)};E.prototype.dispatch=function(a,b){this.dispatchEvent(new D(a,b))};E.prototype.removeEventListener=function(a,b){this.dispatcher.removeEventListener(a,b)};E.prototype.addTransform=function(a,b){return this.transformer.addTransform(a,b)};E.prototype.transform=function(a,b){return this.transformer.transform(a,b)};E.prototype.removeTransform=function(a,b){return this.transformer.removeTransform(a,
tranform)};var Fa=function(a){this._target=null!=a?a:this;this._listenerMap={}};Fa.prototype.addEventListener=function(a,b,c){null!=b&&null!=a&&(null==this._listenerMap[a]&&(this._listenerMap[a]=[]),-1===this._listenerMap[a].indexOf(b)&&this._listenerMap[a].push(b))};Fa.prototype.once=function(a,b){b.once=!0;this.addEventListener(a,b)};Fa.prototype.dispatchEvent=function(a){var b,c,e,h,J,d;e=this._listenerMap[a.type];c=this._target["on"+a.type];a.target=this._target;null!=c&&c.apply(this._target,
[a]);if(null!=e)for(d=e.slice(),b=h=0,J=d.length;h<J;b=++h)c=d[b],c.apply(this._target,[a]),!0===c.once&&e.splice(b,1)};Fa.prototype.dispatch=function(a,b){this.dispatchEvent(new D(a,b))};Fa.prototype.removeEventListener=function(a,b,c){if(null!=b&&null!=a&&(a=this._listenerMap[a],null!=a&&(b=null!=a?a.indexOf(b):void 0,-1!==b)))return a.splice(b,1)};var Ra=function(a){this.list=null!=a?a:[];Ra.__super__.constructor.call(this);this.dispatcher=new Fa(this);this.handlers={change:this.changeHandler.bind(this)}};
f(Ra,Array);Ra.prototype.onchange=null;Ra.prototype.changeHandler=function(a){this.dispatchEvent(a)};Ra.prototype.addEventListener=function(a,b,c){this.dispatcher.addEventListener(a,b,c)};Ra.prototype.dispatchEvent=function(a){this.dispatcher.dispatchEvent(a)};Ra.prototype.removeEventListener=function(a,b,c){return this.dispatcher.removeEventListener(a,b,c)};Ra.prototype.add=function(a,b){null==b&&(b=!0);this.push(a);a.addEventListener("change",this.handlers.change);!0===b&&this.dispatchEvent({type:"addtrack"})};
Ra.prototype.remove=function(a,b){var c;null==b&&(b=!0);c=this.indexOf(a);if(-1!==c)return this.splice(c,1),a.removeEventListener("change",this.handlers.change),!0===b&&this.dispatchEvent({type:"removetrack"}),a};Ra.prototype.clear=function(){var a,b;if(0!==this.length){a=0;for(b=this.length;a<b;a++)this.remove(this[this.length-1],!1);this.dispatchEvent({type:"removetrack"})}};Ra.prototype.getTrackById=function(a){var b,c,e;c=0;for(e=this.length;c<e;c++)if(b=this[c],b.id===a)return b};var of=function(a){a.className=
wd.PREFIX+"player";a=Xa.create("install-flash",a);Xa.create(null,a,"p","To view this page ensure that Adobe Flash Player version 10.2.0 or greater is installed.");a=Xa.create(null,a,"a");a.href="http://www.adobe.com/go/getflashplayer";a=Xa.create(null,a,"img");a.src="//www.adobe.com/images/shared/download_buttons/get_flash_player.gif";a.alt="Get Adobe Flash player"};of.prototype.initialize=function(){};of.prototype.getModules=function(){return[]};var Yb=function(){this.map={}};Yb.prototype.map=null;
Yb.prototype.add=function(a,b){this.map[a]=b};Yb.prototype.item=function(a){return this.map[a]};Yb.prototype.remove=function(a){var b;b=this.map[a];null!=b&&(this.map[a]=null,delete this.map[a]);return b};var xd=function(a,b,c){this.key=a;this.token=b;this.expiration=c};xd.prototype.key=null;xd.prototype.token=null;xd.prototype.expiration=null;var kb=function(){kb.__super__.constructor.call(this)};f(kb,Yb);kb.prototype.js=function(a,b){return g.loadScript(a,document.body)};kb.prototype.css=function(a,
b){return new Promise(function(c,e){try{g.loadStyleSheet(a)}catch(h){e()}c(b)})};kb.prototype.json=function(a,b){return g.requestJson(b.src).then(function(a){b.data=a;return b})};kb.prototype.require=function(a){var b;b=this.item(a);return null==b?"string"===typeof a?this.add({src:a}):null!=a.src?this.add(a):Promise.resolve(a):"function"===typeof b?(Yb.prototype.add.call(this,a,null),Promise.resolve().then(function(){return b()})):"function"===typeof b.then?b:Promise.resolve(b)};kb.prototype.add=
function(a){var b,c,e,h,J=this;if(!1===a.enabled)return Promise.resolve();h=Y.instance.enabled&&null!=a.debug?a.debug:a.src;b=a.id||h;if(!0===a.defer)return a.defer=!1,kb.__super__.add.call(this,b,this.add.bind(this,a)),Promise.resolve();c=this.item(b);if(null!=c)return"function"===typeof c.then?c:Promise.resolve(c);c=a.type||g.getMimeType(h);c===g.mimeTypes.js||/javascript/.test(c)?e=this.js(h,a):c===g.mimeTypes.css?e=this.css(h,a):c===g.mimeTypes.json||/json/.test(c)?e=this.json(h,a):c!==g.mimeTypes.swf&&
(e=g.request(h));if(null==e)return Promise.resolve();e=e.then(function(a){Yb.prototype.add.call(J,b,a);return a});kb.__super__.add.call(this,b,e);return e};kb.prototype.addResources=function(a){var b,c,e,h,J;if(0<!(null!=a&&a.length))return Promise.resolve();c=[];b=[];h=0;for(J=a.length;h<J;h++)e=a[h],e instanceof Array?c.push(this.addResources.bind(this,e)):!0===e.async?b.push(this.add(e)):c.push(this.add.bind(this,e));return(0<b.length?Promise.all(b):Promise.resolve()).then(function(){return g.chain(c)})};
var Ec=function(){Ec.__super__.constructor.call(this)};f(Ec,puremvc.SimpleCommand);Ec.prototype.execute=function(a){this.facade.performance.ready=Date.now();this.sendNotification(d.READY,this.facade.config)};var C=function(){C.__super__.constructor.call(this)};f(C,puremvc.SimpleCommand);C.prototype.applicationState=null;C.prototype.media=null;C.prototype.player=null;C.prototype.playback=null;C.prototype.config=null;C.prototype.logger=null;C.prototype.bindings=null;C.prototype.params=null;C.prototype.playerCore=
null;C.prototype.security=null;C.prototype.tracks=null;C.prototype.initializeNotifier=function(a){var b;C.__super__.initializeNotifier.call(this,a);this.player=this.facade.player||this.facade;this.applicationState=this.player.appState;this.media=this.player.mediaProxy;this.config=this.player.configuration;this.logger=this.player.logger;this.bindings=this.player.bindings;this.params=this.player.params;this.playerCore=this.player.playerCore;this.security=this.player.security;this.tracks=this.player.tracks;
this.playback=(null!=(b=this.player.playerCore)?b.getActivePlaybackCore():void 0)||this.player.playback};var Fc=function(){Fc.__super__.constructor.call(this)};f(Fc,C);Fc.prototype.execute=function(a){var b;if(!this.applicationState.getSeeking()){switch(this.applicationState.getPlayState()){case U.ENDED:b=d.REPLAY;break;case U.PAUSED:case U.READY:b=d.PLAY;break;case U.PLAYING:b=d.PAUSE}this.applicationState.getWaiting()&&!0===this.facade.getMediaElement().paused&&(b=d.PLAY);this.sendNotification(b,
!0)}};var yd=function(){yd.__super__.constructor.call(this)};f(yd,C);yd.prototype.execute=function(a){a=this.applicationState.getDisplayState()===V.FULL_SCREEN?V.NORMAL:V.FULL_SCREEN;this.sendNotification(d.CHANGE_DISPLAY_STATE,a)};var v=function(){v.__super__.constructor.call(this)};f(v,C);v.prototype.dispatchEvent=function(a,b){var c;"string"!==typeof a&&(b=null!=a.getBody()?a.getBody():{},a=a.getName());c=new D(a.toLowerCase(),b);this.sendNotification(d.DISPATCH_EVENT,c)};v.prototype.dispatchEventAfterCommand=
function(a,b){var c=this;return new Promise(function(e,h){return setTimeout(function(){try{c.dispatchEvent(a,b),e()}catch(J){c.facade.logger.error(J),h(J)}},0)})};v.prototype.execute=function(a){this.dispatchEvent(a)};var Gc=function(){Gc.__super__.constructor.call(this)};f(Gc,v);Gc.prototype.execute=function(a){!0!==this.applicationState.getIsUserActive()&&(0===this.facade.getMediaElement().currentTime&&!1===this.media.started&&!1===this.applicationState.getSeeking()&&(this.media.started=!0,this.sendNotification(d.MEDIA_SEQUENCE_STARTED)),
this.applicationState.getPlayState()===U.PLAYING?Gc.__super__.execute.call(this,a):this.sendNotification(d.CHANGE_PLAY_STATE,U.PLAYING))};var Zb=function(){Zb.__super__.constructor.call(this)};f(Zb,v);Zb.prototype.execute=function(a){this.playback.pause();this.sendNotification(d.CHANGE_ACTIVE_STATE,ub.ACTIVE);Zb.__super__.execute.call(this,a)};var zd=function(){zd.__super__.constructor.call(this)};f(zd,C);zd.prototype.execute=function(a){this.config.setAutoplay(a.getBody())};var Ad=function(){Ad.__super__.constructor.call(this)};
f(Ad,C);Ad.prototype.execute=function(a){this.config.setLoop(a.getBody())};var Bd=function(){Bd.__super__.constructor.call(this)};f(Bd,C);Bd.prototype.execute=function(a){a=g.clamp(a.getBody(),0,1);this.playback.getVolume()!==a&&this.playback.setVolume(a)};var Hc=function(){Hc.__super__.constructor.call(this)};f(Hc,C);Hc.prototype.execute=function(a){var b,c,e,h,J=this;a=a.getBody();c=this.facade.getMediaElement();this.sendNotification(d.MEDIA_CHANGE,a);"amp"===this.applicationState.getPlaybackTarget()&&
(a=!1===this.applicationState.getLocked()&&!0===this.facade.getAutoplay(),e=this.config.getPlaysInline(),null!=e&&(c.playsInline=e),c=this.config.getMuted(),null!=c&&this.playback.setMuted(c),a&&c&&(b=this.facade.getContainer(),h=function(){J.config.setMuted(!1);J.facade.setMuted(!1);b.removeEventListener("click",h)},b.addEventListener("click",h)),a&&setTimeout(this.sendNotification.bind(this,d.PLAY,!0),0))};var Ic=function(){Ic.__super__.constructor.call(this)};f(Ic,C);Ic.prototype.execute=function(a){var b=
this;a=a.getBody();this.facade.transform(jc.SEEK,a).then(function(a){0===a&&b.media.getType()===g.mimeTypes.m3u8&&(a=0.25);a!==b.playback.getCurrentTime()&&(!0===b.playback.getStarted()&&b.sendNotification(d.WAITING),b.sendNotification(d.DISPLAY_TIME,{currentTime:a,duration:b.playback.getDuration()}),b.sendNotification(d.CHANGE_ACTIVE_STATE,ub.ACTIVE),b.facade.getMediaElement(),b.playback.setCurrentTime(a),!0!==b.playback.getStarted()&&b.sendNotification(d.TIME_CHANGE,a))})};var Jc=function(){Jc.__super__.constructor.call(this)};
f(Jc,v);Jc.prototype.execute=function(a){!0===this.applicationState.getSeeking()?this.applicationState.setSeekRequested(!0):(this.applicationState.getEnded()&&this.applicationState.setEnded(!1),0===this.facade.getMediaElement().currentTime&&(this.media.started=!1),this.applicationState.setSeeking(!0),Jc.__super__.execute.call(this,a))};var Cd=function(){Cd.__super__.constructor.call(this)};f(Cd,v);Cd.prototype.execute=function(a){var b=this;!0===this.applicationState.getIsUserActive()?setTimeout(this.sendNotification.bind(this,
a.getName(),a.getBody()),100):setTimeout(function(){var c;b.applicationState.setSeeking(!1);b.dispatchEvent(a);b.applicationState.setSeekRequested(!1);b.sendNotification(ia.SEEKED,a.getBody());b.applicationState.getPlayState()!==U.READY&&("full-screen"===b.applicationState.displayState&&"ipad"===b.applicationState.device&&b.facade.retrieveProxy(n.NAME).getPaused()!==b.facade.getMediaElement().paused&&(c=!0===b.facade.getMediaElement().paused?U.PAUSED:U.PLAYING),null!=c&&"undefined"!==c&&b.sendNotification(d.CHANGE_PLAY_STATE,
c))},1)};var Dd=function(){Dd.__super__.constructor.call(this)};f(Dd,C);Dd.prototype.execute=function(a){"function"===typeof this.playback.replay?this.playback.replay():this.sendNotification(d.SET_MEDIA,this.media.getData())};var Ed=function(){Ed.__super__.constructor.call(this)};f(Ed,C);Ed.prototype.execute=function(a){this.applicationState.getEnded()||(this.playback.setEnabled(!1),this.playback.pause(),this.playback.seek(this.playback.getDuration()).then(this.sendNotification.bind(this,d.ENDED)))};
var kc=function(){kc.__super__.constructor.call(this)};f(kc,v);kc.prototype.execute=function(a){this.applicationState.getEnded()||(this.applicationState.setEnded(!0),kc.__super__.execute.call(this,a),!0===this.config.getLoop()?this.sendNotification(d.REPLAY):!1===this.applicationState.getHasPostContent()&&this.sendNotification(d.MEDIA_SEQUENCE_ENDED))};var Kc=function(){Kc.__super__.constructor.call(this)};f(Kc,C);Kc.prototype.execute=function(a){this.sendNotification(d.PLAY_REQUEST);this.sendNotification(d.DISPLAY_TIME,
{currentTime:0,duration:this.media.getDuration()});this.sendNotification(d.STARTED,a.getBody())};var Fd=function(){Fd.__super__.constructor.call(this)};f(Fd,C);Fd.prototype.execute=function(a){this.applicationState.setIsUserActive(a.getBody())};var Lc=function(){Lc.__super__.constructor.call(this)};f(Lc,v);Lc.prototype.execute=function(a){this.applicationState.getWaiting()||(this.applicationState.setWaiting(!0),Lc.__super__.execute.call(this,a))};var Gd=function(){Gd.__super__.constructor.call(this)};
f(Gd,C);Gd.prototype.execute=function(a){this.playback.setMuted(a.getBody())};var Mc=function(){Mc.__super__.constructor.call(this)};f(Mc,v);Mc.prototype.execute=function(a){null==this.security.getSession()&&(this.security.setSession(Xa.createUID()),this.sendNotification(d.MEDIA_VALIDATED,this.media.getData()),Mc.__super__.execute.call(this,a))};var Hd=function(){Hd.__super__.constructor.call(this)};f(Hd,C);Hd.prototype.execute=function(a){this.playback.initialized=!0};var Id=function(){Id.__super__.constructor.call(this)};
f(Id,C);Id.prototype.execute=function(a){this.playerCore.registerPlaybackCore(a.getBody())};var Jd=function(){Jd.__super__.constructor.call(this)};f(Jd,C);Jd.prototype.execute=function(a){a=a.getBody();this.sendNotification(d.CHANGE_CONTENT,{from:this.media.getData(),to:a});this.media.updateData(a);this.sendNotification(d.UPDATE_DATA_BINDINGS);this.sendNotification(d.CHANGE_CONTENT,this.media.getData())};var Nc=function(){Nc.__super__.constructor.call(this)};f(Nc,v);Nc.prototype.execute=function(a){this.sendNotification(d.DISPLAY_TIME,
{currentTime:this.applicationState.getCurrentTime(),duration:this.applicationState.getDuration()});Nc.__super__.execute.call(this,a)};var Kd=function(){Kd.__super__.constructor.call(this)};f(Kd,C);Kd.prototype.execute=function(a){this.playback.setMuted(!this.playback.getMuted())};var Oc=function(){Oc.__super__.constructor.call(this)};f(Oc,v);Oc.prototype.execute=function(a){!0!==this.media.started&&(this.media.started=!0,Oc.__super__.execute.call(this,a),this.sendNotification(d.WAITING),this.sendNotification(d.MEDIA_SEQUENCE_STARTED))};
var Ld=function(){Ld.__super__.constructor.call(this)};f(Ld,C);Ld.prototype.execute=function(a){var b,c,e,h;c=this.player.getMediaElement();b=a.getBody();e=0;for(h=b.length;e<h;e++)a=b[e],c.addEventListener(a,this.playback.handlers[a])};var Md=function(){Md.__super__.constructor.call(this)};f(Md,C);Md.prototype.execute=function(a){var b,c,e,h;c=this.player.getMediaElement();b=a.getBody();e=0;for(h=b.length;e<h;e++)a=b[e],c.removeEventListener(a,this.playback.handlers[a])};var Pc=function(){Pc.__super__.constructor.call(this)};
f(Pc,v);Pc.prototype.execute=function(a){this.applicationState.setVolume(a.getBody());Pc.__super__.execute.call(this,a)};var Nd=function(){Nd.__super__.constructor.call(this)};f(Nd,C);Nd.prototype.execute=function(a){this.applicationState.setHasPostContent(a.getBody())};var lc=function(){lc.__super__.constructor.call(this)};f(lc,v);lc.prototype.execute=function(a){!0===this.config.getLoop()?(lc.__super__.execute.call(this,a),this.sendNotification(d.REPLAY)):(this.sendNotification(d.CHANGE_PLAY_STATE,
U.ENDED),this.sendNotification(d.CHANGE_ACTIVE_STATE,ub.ACTIVE),lc.__super__.execute.call(this,a))};var Od=function(){Od.__super__.constructor.call(this)};f(Od,C);Od.prototype.execute=function(a){a=a.getBody();this.sendNotification(a?d.ADD_APPLICATION_STATE:d.REMOVE_APPLICATION_STATE,"locked");this.applicationState.setLocked(a)};var Pd=function(){Pd.__super__.constructor.call(this)};f(Pd,C);Pd.prototype.execute=function(a){var b;"function"===typeof(b=this.playback).goLive&&b.goLive()};var Qd=function(){Qd.__super__.constructor.call(this)};
f(Qd,C);Qd.prototype.execute=function(a){var b=this;a=a.getBody();null!=a.currentTime&&this.facade.transform(jc.TIME,a.currentTime).then(function(a){return b.applicationState.setCurrentTime(a)});null!=a.duration&&this.facade.transform(jc.TIME,a.duration).then(function(a){return b.applicationState.setDuration(a)})};var Qc=function(){Qc.__super__.constructor.call(this)};f(Qc,v);Qc.prototype.execute=function(a){var b,c;a.getName();b=a.getBody();b={startTime:b.startTime,endTime:b.endTime,type:b.type,
track:b.track,value:{key:b.value.key,data:b.value.data,info:b.value.info}};c=b.value;try{null==c.info&&("string"===typeof c.data?c.info=c.data:c.data instanceof ArrayBuffer&&(c.info=g.arrayBufferToString(c.data)))}catch(e){this.facade.logger.log("[AMP ERROR]: Could not parse timed metadata")}a.body=b;Qc.__super__.execute.call(this,a)};var Rd=function(){Rd.__super__.constructor.call(this)};f(Rd,C);Rd.prototype.execute=function(a){a="persistent"!==this.config.getControls().mode?a.getBody():ub.ACTIVE;
this.applicationState.setActiveState(a)};var lb=function(){lb.__super__.constructor.call(this)};f(lb,v);lb.interval=null;lb.prototype.execute=function(a){var b,c,e,h=this;a=a.getBody();a!==this.applicationState.getDisplayState()&&(this.applicationState.setDisplayState(a),"external"!==this.config.getFullscreen().mode&&(b=this.facade.getMediaElement(),e=this.facade.getViewComponent(),c=g.getFullScreenApi(e,b),a===V.FULL_SCREEN?(null!=c.event?null!=e.mozRequestFullScreen?document[c.event]=function(a){if(!document.mozFullScreen)return h.sendNotification(d.CHANGE_DISPLAY_STATE,
V.NORMAL)}:e[c.event]=function(a){if(null==document[c.element])return h.sendNotification(d.CHANGE_DISPLAY_STATE,V.NORMAL)}:(clearInterval(lb.interval),lb.interval=setInterval(function(){!0!==b.webkitDisplayingFullscreen&&(h.sendNotification(d.CHANGE_DISPLAY_STATE,V.NORMAL),clearInterval(lb.interval))},100)),null!=c.error&&document.addEventListener(c.error,this.facade.logger.error.bind(this.facade.logger)),c.enter()):a===V.NORMAL&&(null!=c&&"function"===typeof c.exit&&c.exit(),b[c.event]=null,clearInterval(lb.interval))),
this.sendNotifications(a))};lb.prototype.sendNotifications=function(a){setTimeout(this.sendNotification.bind(this,d.FULL_SCREEN_CHANGE,a),100);this.dispatchEvent("fullscreenchange",a===V.FULL_SCREEN)};var $b=function(){$b.__super__.constructor.call(this)};f($b,v);$b.prototype.execute=function(a){var b;!0!==this.applicationState.getLocked()&&((b=a.getBody())&&!0!==this.playback.initialized&&this.sendNotification(d.INITIALIZED),!0===this.playback.initialized&&(this.media.getSrc()||this.media.getSource())&&
(this.playback.getStarted()||this.sendNotification(d.START),this.playback.play(),$b.__super__.execute.call(this,a)))};var Sd=function(){Sd.__super__.constructor.call(this)};f(Sd,C);Sd.prototype.execute=function(a){a=this.applicationState.getActiveState()===ub.ACTIVE?ub.INACTIVE:ub.ACTIVE;this.sendNotification(d.CHANGE_ACTIVE_STATE,a)};var Sa=function(a){this.data=null!=a?a:{};Sa.__super__.constructor.call(this);Object.defineProperties(this,{kind:{get:this.getKind,enumerable:!0,configurable:!1},label:{get:this.getLabel,
enumerable:!0,configurable:!1},language:{get:this.getLanguage,enumerable:!0,configurable:!1},id:{get:this.getId,enumerable:!0,configurable:!1},enabled:{get:this.getEnabled,set:this.setEnabled,enumerable:!0,configurable:!1}})};f(Sa,Fa);Sa.prototype.getKind=function(){return this.data.kind};Sa.prototype.getLabel=function(){return this.data.label};Sa.prototype.getLanguage=function(){return this.data.language};Sa.prototype.getId=function(){return this.data.id};Sa.prototype.setEnabled=function(a){a!==
this.data.enabled&&(this.data.enabled=a,this.changeEnabled(a),this.dispatchEvent("change"))};Sa.prototype.changeEnabled=function(a){};Sa.prototype.getEnabled=function(){return this.data.enabled};Sa.prototype.flatten=function(){return{kind:this.getKind(),label:this.getLabel(),language:this.getLanguage(),id:this.getId(),enabled:this.getEnabled()}};var da=function(){};da.createTextContent=function(a,b){return/[\&<>]/.test(b)?a.createCDATASection(b):a.createTextNode(b)};da.updateTextContent=function(a,
b){var c;c=da.createTextContent(a.ownerDocument,b);a.removeChild(a.childNodes[0]);a.appendChild(c);return a};da.serialize=function(a){var b;if(null!=a){if("string"===typeof a)return a;try{return b=new XMLSerializer,b.serializeToString(a)}catch(c){try{return document.implementation.createLSSerializer(),xmlSerializer.writeToString(a)}catch(e){try{return a.xml}catch(h){}}}}};da.parse=function(a){var b;window.DOMParser?(b=new DOMParser,b=b.parseFromString(a,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),
b.async=!1,b.loadXML(a));return b};var vb=function(){vb.__super__.constructor.call(this,null,{});this.data.audioTracks=new Ra;this.data.videoTracks=new Ra;this.data.textTracks=new Ra};f(vb,puremvc.Proxy);vb.NAME="TracksProxy";vb.prototype.clear=function(){this.data.audioTracks.clear();this.data.videoTracks.clear();this.data.textTracks.clear()};vb.prototype.getAudioTracks=function(){return this.data.audioTracks};vb.prototype.getVideoTracks=function(){return this.data.videoTracks};vb.prototype.getTextTracks=
function(){return this.data.textTracks};var l=function(a){l.__super__.constructor.call(this,a)};f(l,E);l.prototype.moduleName="amp";l.prototype.playerType=null;l.prototype.hidden=!1;l.prototype.l10n=null;l.prototype.appState=null;l.prototype.mediaProxy=null;l.prototype.bindings=null;l.prototype.configuration=null;l.prototype.params=null;l.prototype.security=null;l.prototype.createModel=function(){this.appState=new t;this.registerProxy(this.appState);this.bindings=new ua;this.registerProxy(this.bindings);
this.security=new ea;this.registerProxy(this.security);this.mediaProxy=new q(this.config);this.registerProxy(this.mediaProxy);this.params=new Ib(this.config.params);this.registerProxy(this.params);this.configuration=new N(this.config);this.registerProxy(this.configuration)};l.prototype.resourcesLoaded=function(){l.__super__.resourcesLoaded.call(this);Object.defineProperties(this,{src:{get:this.getSrc,set:this.setSrc,enumerable:!0,configurable:!1},media:{get:this.getMedia,set:this.setMedia,enumerable:!0,
configurable:!1},currentTime:{get:this.getCurrentTime,set:this.setCurrentTime,enumerable:!0,configurable:!1},autoplay:{get:this.getAutoplay,set:this.setAutoplay,enumerable:!0,configurable:!1},duration:{get:this.getDuration,enumerable:!0,configurable:!1},playState:{get:this.getPlayState,enumerable:!0,configurable:!1},seeking:{get:this.getSeeking,enumerable:!0,configurable:!1},paused:{get:this.getPaused,enumerable:!0,configurable:!1},ended:{get:this.getEnded,enumerable:!0,configurable:!1},volume:{get:this.getVolume,
set:this.setVolume,enumerable:!0,configurable:!1},muted:{get:this.getMuted,set:this.setMuted,enumerable:!0,configurable:!1},mediaElement:{get:this.getMediaElement,enumerable:!0,configurable:!1},textTracks:{get:function(){return this.getMediaElement().textTracks},enumerable:!0,configurable:!1},audioTracks:{get:this.getAudioTracks,enumerable:!0,configurable:!1},container:{get:this.getContainer,enumerable:!0,configurable:!1},loop:{get:this.getLoop,set:this.setLoop,enumerable:!0,configurable:!1},displayState:{get:this.getDisplayState,
set:this.setDisplayState,enumerable:!0,configurable:!1},playbackRate:{get:this.getPlaybackRate,set:this.setPlaybackRate,enumerable:!0,configurable:!1},language:{get:this.getLanguage,set:this.setLanguage,enumerable:!0,configurable:!1},localization:{get:function(){return this.retrieveProxy($.NAME)},enumerable:!0,configurable:!1},version:{get:this.getVersion,enumerable:!0,configurable:!1},error:{get:this.getError,enumerable:!0,configurable:!1},hidden:{get:this.getHidden,set:this.setHidden,enumerable:!0,
configurable:!1},waiting:{get:this.getWaiting,set:this.setWaiting,enumerable:!0,configurable:!1},busy:{get:this.getBusy,set:this.setBusy,enumerable:!0,configurable:!1},cues:{get:this.getCues,set:this.setCues,enumerable:!0,configurable:!1},quality:{get:this.getQuality,set:this.setQuality,enumerable:!0,configurable:!1},qualityMode:{get:this.getQualityMode,set:this.setQualityMode,enumerable:!0,configurable:!1},qualityLevels:{get:this.getQualityLevels,enumerable:!0,configurable:!1},debug:{get:this.getDebug,
enumerable:!0,configurable:!1},settings:{get:this.getSettings,enumerable:!0,configurable:!1},mode:{get:this.getMode,enumerable:!0,configurable:!1},buffering:{get:this.getBuffering,enumerable:!0,configurable:!1},width:{get:this.getWidth,enumerable:!0,configurable:!1},height:{get:this.getHeight,enumerable:!0,configurable:!1},videoWidth:{get:this.getVideoWidth,enumerable:!0,configurable:!1},videoHeight:{get:this.getVideoHeight,enumerable:!0,configurable:!1},defaultMediaTransform:{get:function(){return this.mediaProxy.transform},
enumerable:!0,configurable:!1},absoluteCurrentTime:{get:this.getAbsoluteCurrentTime,set:this.setAbsoluteCurrentTime,enumerable:!0,configurable:!1},absoluteDuration:{get:this.getAbsoluteDuration,enumerable:!0,configurable:!1},playbackTarget:{get:this.getPlaybackTarget,set:this.setPlaybackTarget,enumerable:!0,configurable:!1}})};l.prototype.createView=function(){this._settings=new mb;this.registerMediator(this._settings)};l.prototype.createController=function(){l.__super__.createController.call(this);
this.registerCommand(d.CHANGE_SETTINGS,Td);this.registerCommand(d.SETTINGS_CHANGE,v);this.registerCommand(d.CUES_CHANGE,v);this.registerCommand(d.DESTROY,v)};l.prototype.setViewComponent=function(a){a.amp=this;return l.__super__.setViewComponent.call(this,a)};l.prototype.getPlayerType=function(){return this.playerType};l.prototype.getVersion=function(){return r.getVersion()};l.prototype.getDebug=function(){return this.config.debug};l.prototype.getMode=function(){return this.config.mode};l.prototype.createPlugins=
function(){this.sendNotification(Ia.REGISTER_PLUGINS,this.config)};l.prototype.createMediaElement=function(){return null};l.prototype.createFramework=function(){l.__super__.createFramework.call(this);this.setMediaElement(this.createMediaElement());this.createPlugins()};l.prototype.getLanguage=function(){return this.retrieveProxy($.NAME).getLanguage()};l.prototype.setLanguage=function(a){this.retrieveProxy($.NAME).setLanguage(a);return a};l.prototype.getLocalizedString=function(a,b){try{return this.retrieveProxy($.NAME).getString(a,
b)}catch(c){return a}};l.prototype.getMediaElement=function(){return this.appState.getMediaElement()};l.prototype.setMediaElement=function(a){this.appState.setMediaElement(a);null==a.once&&(a.once=function(a,c){var e;e=g.createUID();this[e]=function(a,b,c,e){this.removeEventListener(b,this[a]);delete this[a];c(e)}.bind(this,e,a,c);this.addEventListener(a,this[e])},a.once=a.once.bind(a));a.amp=this;return a};l.prototype.getContainer=function(){return this.getViewComponent()};l.prototype.getAudioTracks=
function(){};l.prototype.evaluateBindings=function(a,b){return Wa.evaluateBindings(a,g.override(this.bindings.data,b))};l.prototype.canPlayType=function(a){};l.prototype.load=function(){};l.prototype.play=function(){};l.prototype.replay=function(){};l.prototype.pause=function(){};l.prototype.end=function(){};l.prototype.setParams=function(a){};l.prototype.getParams=function(){};l.prototype.setAutoplay=function(a){};l.prototype.getAutoplay=function(){};l.prototype.setLoop=function(a){};l.prototype.getLoop=
function(){};l.prototype.setMuted=function(a){};l.prototype.getMuted=function(){};l.prototype.mute=function(){return this.setMuted(!0)};l.prototype.unmute=function(){return this.setMuted(!1)};l.prototype.setMedia=function(a){};l.prototype.getMedia=function(){};l.prototype.setCurrentTime=function(a){};l.prototype.getCurrentTime=function(){};l.prototype.setAbsoluteCurrentTime=function(a){return this.setCurrentTime(a)};l.prototype.getAbsoluteCurrentTime=function(){return this.getCurrentTime()};l.prototype.getCurrentTimeUTC=
function(){};l.prototype.getDuration=function(){};l.prototype.getAbsoluteDuration=function(){return this.getDuration()};l.prototype.setSrc=function(a){};l.prototype.getSrc=function(){};l.prototype.setSource=function(a){};l.prototype.getSource=function(){};l.prototype.setVolume=function(a){};l.prototype.getVolume=function(){};l.prototype.getSeeking=function(){};l.prototype.getPaused=function(){};l.prototype.getEnded=function(){};l.prototype.getBuffering=function(){return this.appState.getBuffering()};
l.prototype.setDisplayState=function(a){};l.prototype.getDisplayState=function(){};l.prototype.getWaiting=function(){return this.appState.getWaiting()};l.prototype.setWaiting=function(a){return this.appState.setWaiting(a)};l.prototype.getBusy=function(){return this.appState.getBusy()};l.prototype.setBusy=function(a){return this.appState.setBusy(a)};l.prototype.getError=function(){};l.prototype.enterFullScreen=function(){};l.prototype.exitFullScreen=function(){};l.prototype.setHidden=function(a){var b;
a!==this.appState.getHidden()&&(this.appState.setHidden(a),b=this.viewComponent.style,!0===a?(this.hiddenData={width:b.width,height:b.height,paused:this.getPaused()},b.width=b.height="0px",!1===this.hiddenData.paused&&this.pause()):(b.width=this.hiddenData.width,b.height=this.hiddenData.height,!1===this.hiddenData.paused&&this.play(),this.hiddenData=null))};l.prototype.getHidden=function(){return this.appState.getHidden()};l.prototype.getWidth=function(){var a;return null!=(a=this.getViewComponent())?
a.offsetWidth:void 0};l.prototype.getHeight=function(){var a;return null!=(a=this.getViewComponent())?a.offsetWidth:void 0};l.prototype.getVideoWidth=function(){var a;return null!=(a=this.getMediaElement())?a.videoWidth:void 0};l.prototype.getVideoHeight=function(){var a;return null!=(a=this.getMediaElement())?a.videoHeight:void 0};l.prototype.recordContentChange=function(a){};l.prototype.setPlaybackRate=function(){};l.prototype.getPlaybackRate=function(){};l.prototype.setCues=function(a){this.mediaProxy.setCues(a);
return a};l.prototype.getCues=function(){return this.mediaProxy.getCues()};l.prototype.setQuality=function(a){};l.prototype.getQuality=function(){};l.prototype.getQualityLevels=function(){};l.prototype.getQualityMode=function(){};l.prototype.setQualityMode=function(a){};l.prototype.getPlaystate=function(){};l.prototype.getPlaybackTarget=function(){return this.appState.getPlaybackTarget()};l.prototype.setPlaybackTarget=function(a){this.appState.setPlaybackTarget(a)};l.prototype.getMediaTransforms=
function(){return this.mediaProxy.getTransforms()};l.prototype.authorize=function(a){this.security.authorize(a)};l.prototype.goLive=function(){};l.prototype.appendChild=function(a){this.mediator.addLayer(a)};l.prototype.removeChild=function(a){this.mediator.removeLayer(a)};l.prototype.getSettings=function(){var a;return(null!=(a=this._settings)?a.getSettings():void 0)||{change:function(){}}};l.prototype.destroy=function(){this.sendNotification(d.DESTROY);l.__super__.destroy.call(this)};var w=function(a){w.__super__.constructor.call(this,
a)};f(w,l);w.prototype.playerType="html";w.prototype.playerCore=null;w.prototype.tracks=null;w.prototype.mediator=null;w.prototype.createMediaElement=function(){var a;this.mediator=new wb("html5","video");this.sendNotification(d.PLAYBACK_CORE_CHANGE,this.mediator);a=this.mediator.getViewComponent();null==a.dataset&&(a.dataset={});return a};w.prototype.createModel=function(){var a;w.__super__.createModel.call(this);this.registerProxy(new $(this.config));a=new na;this.registerProxy(a);this.playerCore=
new R(a,this.config.getPlaybackOrder);this.registerProxy(this.playerCore);this.tracks=new vb;this.registerProxy(this.tracks);this.appState.setRenderMode(rf.HTML);this.bindings.initialize();this.fps=g.override(mc,this.config.fps)};w.prototype.createView=function(){w.__super__.createView.call(this);this.mediator=new wa("html5",this.getViewComponent());this.registerMediator(this.mediator);this.registerMediator(new Ja);this.registerMediator(new Jb);this.registerMediator(new nb)};w.prototype.createController=
function(){w.__super__.createController.call(this);this.registerCommand(Ia.PLUGINS_INITIALIZED,Ec);this.registerCommand(d.PLAY,$b);this.registerCommand(d.PLAYING,Gc);this.registerCommand(d.PAUSE,Zb);this.registerCommand(d.CHANGE_PLAY_STATE,nc);this.registerCommand(d.TOGGLE_FULL_SCREEN,yd);this.registerCommand(d.CHANGE_DISPLAY_STATE,lb);this.registerCommand(d.TOGGLE_ACTIVE,Sd);this.registerCommand(d.CHANGE_ACTIVE_STATE,Rd);this.registerCommand(d.SET_MEDIA,Rc);this.registerCommand(d.CHANGE_MEDIA,Sc);
this.registerCommand(d.MEDIA_VALIDATED,Hc);this.registerCommand(d.MEDIA_CHANGE,oc);this.registerCommand(d.UPDATE_DATA_BINDINGS,pc);this.registerCommand(d.START,Kc);this.registerCommand(d.TIME_CHANGE,Qd);this.registerCommand(d.SEEK,Ic);this.registerCommand(d.SEEKING,Jc);this.registerCommand(d.SEEKED,Cd);this.registerCommand(d.CHANGE_VOLUME,Bd);this.registerCommand(d.CHANGE_MUTED,Gd);this.registerCommand(d.CHANGE_AUTOPLAY,zd);this.registerCommand(d.CHANGE_LOOP,Ad);this.registerCommand(d.END,Ed);this.registerCommand(d.ENDED,
kc);this.registerCommand(d.REPLAY,Dd);this.registerCommand(d.ERROR,qc);this.registerCommand(d.READY,Tc);this.registerCommand(d.WAITING,Lc);this.registerCommand(d.CHANGE_DURATION,Uc);this.registerCommand(d.CHANGE_PARAMS,Vc);this.registerCommand(d.IS_USER_ACTIVE,Fd);this.registerCommand(Ka.AUTHORIZED,Mc);this.registerCommand(d.INITIALIZED,Hd);this.registerCommand(d.REGISTER_PLAYBACK_CORE,Id);this.registerCommand(ia.TOGGLE_PLAY_PAUSE,Fc);this.registerCommand(ia.SEEK,Ic);this.registerCommand(d.PLAYBACK_TARGET_CHANGE,
rc);this.registerCommand(d.RECORD_CONTENT_CHANGE,Jd);this.registerCommand(d.TIME_UPDATE,Nc);this.registerCommand(d.TOGGLE_MUTED,Kd);this.registerCommand(d.VOLUME_CHANGE,Pc);this.registerCommand(d.PLAY_REQUEST,Oc);this.registerCommand(d.HAS_POST_CONTENT,Nd);this.registerCommand(d.LOCK,Od);this.registerCommand(ia.GO_LIVE,Pd);this.registerCommand(d.BUFFERING_CHANGE,sc);this.registerCommand(d.TIMED_METADATA,Qc);this.registerCommand(d.PLAY_STATE_CHANGE,v);this.registerCommand(d.PROGRESS,v);this.registerCommand(d.CAN_PLAY,
v);this.registerCommand(d.CAN_PLAY_THROUGH,v);this.registerCommand(d.LOAD_START,v);this.registerCommand(d.STARTED,v);this.registerCommand(d.LOADED_METADATA,v);this.registerCommand(d.DURATION_CHANGE,v);this.registerCommand(d.MEDIUM_CHANGE,v);this.registerCommand(d.TEMPORAL_TYPE_CHANGE,v);this.registerCommand(d.LANGUAGE_CHANGE,v);this.registerCommand(d.PLAYBACK_TARGET_AVAILABILITY_CHANGE,v);this.registerCommand(Ka.AUTHORIZE,v);this.registerCommand(Ka.AUTHORIZATION_FAILED,v);this.registerCommand(Ka.AUTHENTICATION_FAILED,
v);this.registerCommand(Ka.AUTHORIZATION_EXPIRED,v);this.registerCommand(d.FAIL_OVER_ATTEMPT,v);this.registerCommand(d.IS_LIVE,v);this.registerCommand(d.PAUSED,v);this.registerCommand(d.STALLED,v);this.registerCommand(d.QUALITY_CHANGE,v);this.registerCommand(d.QUALITY_SWITCHED,v);this.registerCommand(d.QUALITY_CHANGING,v);this.registerCommand(d.QUALITY_LEVELS_LOADED,v);this.registerCommand(d.MUTE_CHANGE,v);this.registerCommand(d.RESUME,v);this.registerCommand(d.FRAGMENT_LOAD_START,v);this.registerCommand(d.FRAGMENT_LOADED,
v);this.registerCommand(d.AUTOPLAY_BLOCKED,v);this.registerCommand(d.MEDIA_SEQUENCE_STARTED,v);this.registerCommand(d.MEDIA_SEQUENCE_ENDED,lc);this.registerCommand(d.ENABLE_VIDEO_EVENTS,Ld);this.registerCommand(d.DISABLE_VIDEO_EVENTS,Md)};w.prototype.setMediaElement=function(a){var b;b=this.getMediaElement();null!=b&&b.removeEventListener("webkitpresentationmodechanged",this.presentationModeChanged);a.addEventListener("webkitpresentationmodechanged",this.presentationModeChanged);w.__super__.setMediaElement.call(this,
a);return a};w.prototype.presentationModeChanged=function(a){"inline"===a.target.webkitPresentationMode&&(a.target.controls=!1)};w.prototype.recordContentChange=function(a){this.sendNotification(d.RECORD_CONTENT_CHANGE,a)};w.prototype.canPlayType=function(a){return this.retrieveProxy(n.NAME).canPlayType(a)};w.prototype.getAudioTracks=function(){return this.retrieveProxy(vb.NAME).getAudioTracks()};w.prototype.load=function(){this.sendNotification(d.LOAD)};w.prototype.play=function(){this.sendNotification(d.PLAY,
!0)};w.prototype.replay=function(){this.sendNotification(d.REPLAY)};w.prototype.pause=function(){this.sendNotification(d.PAUSE)};w.prototype.end=function(){this.sendNotification(d.END)};w.prototype.setParams=function(a){this.sendNotification(d.CHANGE_PARAMS,a);return a};w.prototype.getParams=function(){return this.params.getData()};w.prototype.setAutoplay=function(a){this.sendNotification(d.CHANGE_AUTOPLAY,a);return a};w.prototype.getAutoplay=function(){var a,b;a=this.retrieveProxy(n.NAME);return(g.isAutoplaySupported()&&
this.configuration.getMuted()||a.initialized)&&(this.configuration.getAutoplay()||!0===(null!=(b=this.getMedia())?b.autoplay:void 0))};w.prototype.setLoop=function(a){this.sendNotification(d.CHANGE_LOOP,a);return a};w.prototype.getLoop=function(){return this.configuration.getLoop()};w.prototype.setMuted=function(a){this.sendNotification(d.CHANGE_MUTED,a);return a};w.prototype.getMuted=function(){return this.retrieveProxy(n.NAME).getMuted()};w.prototype.setMedia=function(a){this.sendNotification(d.SET_MEDIA,
a);return a};w.prototype.getMedia=function(){return this.mediaProxy.getData()};w.prototype.setCurrentTime=function(a){this.sendNotification(d.SEEK,a);return a};w.prototype.getCurrentTime=function(){return this.appState.getCurrentTime()};w.prototype.setAbsoluteCurrentTime=function(a){this.sendNotification(d.SEEK,a);return a};w.prototype.getAbsoluteCurrentTime=function(){return this.retrieveProxy(n.NAME).getCurrentTime()};w.prototype.getDuration=function(){return this.appState.getDuration()};w.prototype.getAbsoluteDuration=
function(){return this.mediaProxy.getDuration()};w.prototype.setSrc=function(a){this.sendNotification(d.SET_MEDIA,{src:a});return a};w.prototype.getSrc=function(){return this.mediaProxy.getSrc()};w.prototype.setSource=function(a){this.sendNotification(d.SET_MEDIA,{source:a});return a};w.prototype.getSource=function(){return this.mediaProxy.getSource()};w.prototype.setVolume=function(a){this.sendNotification(d.CHANGE_VOLUME,a);return a};w.prototype.getVolume=function(){return this.retrieveProxy(n.NAME).getVolume()};
w.prototype.getSeeking=function(){return this.retrieveProxy(n.NAME).getSeeking()};w.prototype.getPaused=function(){return this.retrieveProxy(n.NAME).getPaused()};w.prototype.getEnded=function(){return this.appState.getEnded()};w.prototype.getError=function(){return this.getMediaElement().error};w.prototype.setDisplayState=function(a){this.sendNotification(d.CHANGE_DISPLAY_STATE,a)};w.prototype.getDisplayState=function(a){return this.appState.getDisplayState()};w.prototype.enterFullScreen=function(){this.sendNotification(d.CHANGE_DISPLAY_STATE,
V.FULL_SCREEN)};w.prototype.exitFullScreen=function(){this.sendNotification(d.CHANGE_DISPLAY_STATE,V.NORMAL)};w.prototype.setPlaybackRate=function(a){var b;!0!==(null!=(b=this.ads)?b.inProgress:void 0)&&a!==this.getMediaElement().playbackRate&&(this.appState.setPlaybackRate(a),this.getMediaElement().playbackRate=a,this.dispatchEvent(new D(Events.PLAYBACK_RATE_CHANGE,a)))};w.prototype.getPlaybackRate=function(){return this.getMediaElement().playbackRate};w.prototype.getQualityLevels=function(){return this.retrieveProxy(n.NAME).getQualityLevels()};
w.prototype.setQuality=function(a){return this.retrieveProxy(n.NAME).setQuality(a)};w.prototype.getQuality=function(){return this.retrieveProxy(n.NAME).getQuality()};w.prototype.getQualityMode=function(){return this.retrieveProxy(n.NAME).getQualityMode()};w.prototype.setQualityMode=function(a){return this.retrieveProxy(n.NAME).setQualityMode(a)};w.prototype.getPlayState=function(){return this.appState.getPlayState()};w.prototype.goLive=function(){return this.retrieveProxy(n.NAME).goLive()};w.prototype.destroy=
function(){var a,b;null!=(a=this.retrieveProxy(R.NAME))&&null!=(b=a.activePlaybackCore)&&"function"===typeof b.destroy&&b.destroy();w.__super__.destroy.call(this)};var n=function(){n.__super__.constructor.call(this,n.NAME);this.data={core:null,muted:!1,started:!1,volume:1,currentTime:0,duration:0,src:null,ended:!1,paused:!1,seeking:!1,loading:!1,waiting:!1};"desktop"===g.getDevice()&&(this.initialized=!0);this.handlers={timeupdate:this.ontimeupdate.bind(this),durationchange:this.ondurationchange.bind(this),
play:this.onplay.bind(this),playing:this.onplaying.bind(this),pause:this.onpause.bind(this),loadeddata:this.onloadeddata.bind(this),waiting:this.onwaiting.bind(this),seeking:this.onseeking.bind(this),seeked:this.onseeked.bind(this),ended:this.onended.bind(this),progress:this.onprogress.bind(this),error:this.onerror.bind(this),loadstart:this.onloadstart.bind(this),canplay:this.oncanplay.bind(this),canplaythrough:this.oncanplaythrough.bind(this),loadedmetadata:this.onloadedmetadata.bind(this),stalled:this.onstalled.bind(this)};
this.resume={event:-1===g.getIEVersion()||11===g.getIEVersion()?"loadedmetadata":"canplaythrough",listener:this.resumestart.bind(this)};this.textTrackHandlers={addtrack:this.onaddtrack.bind(this)};this.onneedkey=this.onneedkey.bind(this)};f(n,puremvc.Proxy);n.NAME="PlaybackProxy";n.prototype.data=null;n.prototype.initialized=!1;n.prototype.enabled=null;n.prototype.handlers=null;n.prototype.resume=null;n.prototype.playWhenLoaded=!1;n.prototype.metadataloaded=!1;n.prototype.activeCuesIndex=0;n.prototype.id3CueType=
null;n.prototype.getEnabled=function(){return this.enabled};n.prototype.setEnabled=function(a){if(a!==this.enabled)return this.enabled=a,!0===this.enabled?this.load():this.applyHandlers(!1),a};n.prototype.applyHandlers=function(a){var b,c,e,h;null==a&&(a=!0);e=this.getMediaElement();a=a?"addEventListener":"removeEventListener";h=this.handlers;for(c in h)b=h[c],e[a](c,b)};n.prototype.resumestart=function(a){var b=this;this.getMediaElement();this.handlers.durationchange(a);0<this.data.currentTime&&
!0!==this.data.ended?setTimeout(function(){b.seek(b.data.currentTime).then(b.resumecomplete.bind(b))},50):this.resumecomplete()};n.prototype.resumecomplete=function(){this.data.loading=!1;this.applyHandlers(!0);!0===this.playWhenLoaded&&setTimeout(this.play.bind(this),1)};n.prototype.onaddtrack=function(a){var b=this;a=a.track;"metadata"===a.kind&&(a.mode="hidden",a.addEventListener("cuechange",function(a){var e,h,J,p;p=a.target.activeCues;h=0;for(J=p.length;h<J;h++)a=p[h],e!==a&&(b.sendNotification(d.TIMED_METADATA,
a),e=a)}))};n.prototype.ontimeupdate=function(a){var b;a=a.target.currentTime;!0!==(null!=(b=this.facade.ads)?b.inProgress:void 0)&&(this.data.currentTime=a,this.sendNotification(d.TIME_CHANGE,{currentTime:a}))};n.prototype.ondurationchange=function(a){a=a.target.duration;a===this.data.duration||0===a||isNaN(a)||(this.data.duration=a,/Android [4-7]/.test(navigator.userAgent)&&-1!==this.getMediaElement().src.indexOf(".m3u8")&&Infinity===a||this.sendNotification(d.CHANGE_DURATION,a))};n.prototype.onplay=
function(a){this.data.paused=!1};n.prototype.onplaying=function(a){this.data.paused=!1;this.data.seeking=!1;this.data.waiting=!1;this.sendNotification(d.PLAYING)};n.prototype.onpause=function(a){!0===this.getMediaElement().ended||this.facade.playState===U.READY||!0===this.data.waiting&&"hls"===this.playbackCoreName||(this.data.paused=!0,0<a.target.readyState&&(this.sendNotification(d.PAUSED),this.sendNotification(d.CHANGE_PLAY_STATE,U.PAUSED)))};n.prototype.onloadeddata=function(a){this.sendNotification(d.LOADED_DATA)};
n.prototype.onwaiting=function(a){this.data.waiting=!0;this.sendNotification(d.WAITING);a=this.getMediaElement();!1===a.seeking&&2===a.readyState&&2===a.networkState&&(a.once("playing",this.sendNotification.bind(this,d.BUFFERING_CHANGE,!1)),this.sendNotification(d.BUFFERING_CHANGE,!0))};n.prototype.onstalled=function(a){this.sendNotification(d.STALLED)};n.prototype.onseeking=function(a){this.getMediaElement().removeEventListener("timeupdate",this.handlers.timeupdate);this.sendNotification(d.TIME_CHANGE,
{currentTime:a.target.currentTime});this.data.seeking=!0;this.sendNotification(d.SEEKING)};n.prototype.onseeked=function(a){this.data.seeking=!1;this.sendNotification(d.SEEKED,a.target.currentTime);this.getMediaElement().addEventListener("timeupdate",this.handlers.timeupdate)};n.prototype.onended=function(a){this.data.ended=!0;this.sendNotification(d.ENDED)};n.prototype.onprogress=function(a){var b,c;try{c=this.getMediaElement(),b=c.buffered,this.sendNotification(d.PROGRESS,b.end(b.length-1)/c.duration)}catch(e){}};
n.prototype.onerror=function(a){this.sendNotification(d.ERROR,this.getMediaElement().error)};n.prototype.onloadstart=function(a){this.sendNotification(d.LOAD_START)};n.prototype.oncanplay=function(a){this.sendNotification(d.CAN_PLAY)};n.prototype.oncanplaythrough=function(a){this.createTracks();this.sendNotification(d.CAN_PLAY_THROUGH);this.sendNotification(d.PROGRESS,this.getDuration())};n.prototype.onloadedmetadata=function(a){this.metadataloaded=!0;this.sendNotification(d.ENABLE_FULL_SCREEN);this.sendNotification(d.LOADED_METADATA)};
n.prototype.applyTextTrackHandlers=function(a){var b;a=!0===a?"addEventListener":"removeEventListener";if(null!=(b=this.getMediaElement().textTracks))b[a]("addtrack",this.textTrackHandlers.addtrack)};n.prototype.createTracks=function(){var a,b,c,e,h,d,p,z;a=this.getMediaElement().audioTracks;d=this.facade.retrieveProxy(vb.NAME).getAudioTracks();b=function(a,b){this.facade.tracks.getAudioTracks().forEach(function(a){return a.data.enabled=!1});if(!0===b)return this.facade.tracks.getAudioTracks()[a.id].data.enabled=
!0};if(null!=a)for(c=a.length||0,e=p=0,z=a.length;p<z;e=++p)h=a[e],!1!==g.fieldIsUnique(d,"id",h.id)&&(h=new Sa(h),h.changeEnabled=b.bind(this,h),d.add(h,e+1===c))};n.prototype.reset=function(){this.data.currentTime=0;this.data.duration=0;this.data.src=null;this.data.ended=!1;this.data.paused=!1;this.data.seeking=!1;this.data.started=!1;this.data.loading=!1;this.applyTextTrackHandlers(!1)};n.prototype.getStarted=function(){return this.data.started};n.prototype.getMediaElement=function(){return this.facade.getMediaElement()};
n.prototype.canPlayMedium=function(a){return"video"===a};n.prototype.canPlayTemporalType=function(a){return"dvr"!==a};n.prototype.canPlayType=function(a){var b;b=document.createElement("video").canPlayType(a)||"";(/Android (4\.[1-9]|[5-6])/.test(navigator.userAgent)||/Silk\/3/.test(navigator.userAgent))&&a===g.mimeTypes.m3u8&&(b="maybe");"probably"===b&&/video\/f4m|x-flv/.test(a)&&/UCBrowser/.test(navigator.userAgent)&&(b="");return b};n.prototype.getPaused=function(){return this.data.paused};n.prototype.getSeeking=
function(){return this.data.seeking};n.prototype.getCurrentTime=function(){return this.data.currentTime};n.prototype.setCurrentTime=function(a){if(a!==this.data.currentTime)return this.data.currentTime=a,this.getStarted()&&this.seek(a),a};n.prototype.seek=function(a){var b=this;null==a&&(a=this.data.currentTime);return new Promise(function(c,e){var h,d,p;try{p=b.getMediaElement(),p.once("seeked",function(){setTimeout(c,10,a)}),p.currentTime=a,d=navigator.userAgent,/Android.*Chrome/.test(d)&&(h=setInterval(function(){Math.round(p.currentTime)===
Math.round(a)&&(clearInterval(h),p.dispatchEvent(new CustomEvent("seeked")))},10))}catch(z){e(z)}})};n.prototype.goLive=function(){var a,b;a=this.getMediaElement();b=Infinity===a.duration?a.seekable.end(0):a.duration;a.currentTime=b};n.prototype.getVolume=function(){var a;a=this.getMediaElement();return!0===a.muted?0:a.volume};n.prototype.setVolume=function(a){this.getMuted()&&0<a?this.setMuted(!1,!1):this.getMuted()||0!==a||this.setMuted(!0,!1);this.sendNotification(d.VOLUME_CHANGE,this.getMediaElement().volume=
a);return a};n.prototype.getMuted=function(){return this.data.muted};n.prototype.setMuted=function(a,b){var c;null==b&&(b=!0);if(this.data.muted!==a)return this.data.muted=a,!0===this.data.muted?(this.data.volume=this.getVolume(),c=0):c=this.data.volume,this.getMediaElement().muted=a,!0===b&&(this.sendNotification(d.CHANGE_VOLUME,c),this.sendNotification(d.VOLUME_CHANGE,c)),this.sendNotification(d.MUTE_CHANGE,this.data.muted),a};n.prototype.getDuration=function(){return this.data.duration};n.prototype.play=
function(){var a,b=this;if(!0!==this.data.started){if(this.data.started=!0,this.setEnabled(!0),this.playWhenLoaded=!0,!1===this.metadataloaded)return}else if(!0===this.data.loading){this.playWhenLoaded=!0;return}this.getPaused()&&this.sendNotification(d.RESUME);a=this.getMediaElement().play();if(null!=(null!=a?a["catch"]:void 0))a["catch"](function(a){return b.sendNotification(d.AUTOPLAY_BLOCKED)})};n.prototype.pause=function(){this.data.paused=!0;this.getMediaElement().pause()};n.prototype.getSrc=
function(){return this.facade.mediaProxy.getSrc()};n.prototype.load=function(){var a;this.sendNotification(d.WAITING);this.data.loading=!0;this.metadataloaded=this.playWhenLoaded=!1;a=this.getMediaElement();a.once(this.resume.event,this.resume.listener);a.addEventListener("loadedmetadata",this.handlers.loadedmetadata);a.addEventListener("durationchange",this.handlers.durationchange);a.addEventListener("canplaythrough",this.handlers.canplaythrough);a.addEventListener("webkitneedkey",this.onneedkey);
a.addEventListener("error",this.handlers.error);this.applyTextTrackHandlers(!0);this.applySrc()};n.prototype.applySrc=function(){var a,b,c;b=this.getSrc();null!=b&&""!==b||this.sendNotification(d.ERROR,"The value of src is not supported: "+value);a=this.getMediaElement();a.src=b;!0===a.muted&&(this.data.muted=!0);g.isIPad()&&8>(null!=(c=g.getIOSversion())?c[0]:void 0)?setTimeout(a.load.bind(a),100):a.load()};n.prototype.setQuality=function(a){};n.prototype.getQuality=function(){};n.prototype.getQualityLevels=
function(){return[]};n.prototype.getQualityMode=function(){};n.prototype.setQualityMode=function(a){};n.prototype.destroy=function(){var a,b,c,e;a=this.getMediaElement();e=this.handlers;for(b in e)c=e[b],a.removeEventListener(b,c);a.removeEventListener(this.resume.event,this.resume.listener);a.removeEventListener("webkitneedkey",this.onneedkey);null!=(a=a.textTracks)&&a.removeEventListener("addtrack",this.textTrackHandlers.addtrack)};n.prototype.onneedkey=function(a){var b,c,e,h,d,p,z,f=this;z=a.target;
h=g.getKeySystem();d=this.facade.mediaProxy.getKeys()[h];c=this.facade.fps;null!=d&&"com.apple.fps.1_0"===h&&(e=a.initData,b=c.extractContentId(e,d),p=c.extractServerUrl(e,d),c.requestCertificate(d).then(function(a){return c.concatInitDataIdAndCertificate(e,b,a)}).then(function(a){var e;if(!WebKitMediaKeys.isTypeSupported(h,"video/mp4"))throw"Key System not supported";null==z.webkitKeys&&z.webkitSetMediaKeys(new WebKitMediaKeys(h));if(null==z.webkitKeys)throw"Could not create MediaKeys";e=z.webkitKeys.createSession("video/mp4",
a);if(null==e)throw"Could not create key session";e.addEventListener("webkitkeymessage",function(a){c.requestLicense(a.message,b,p,d).then(function(a){e.update(a)})["catch"](function(a){f.facade.logger.error("[AMP DRM] A key request error was encountered.",a)})});e.addEventListener("webkitkeyadded",function(a){f.facade.logger.log("[AMP DRM] Decryption key was added to session.")});e.addEventListener("webkitkeyerror",function(a){f.facade.logger.log("[AMP DRM] A decryption key error was encountered.",
a)})})["catch"](function(a){f.facade.logger.error(a)}))};var Ud=function(){Ud.__super__.constructor.call(this)};f(Ud,puremvc.SimpleCommand);Ud.prototype.execute=function(a){setTimeout(this.facade.pluginsinitialized.bind(this.facade),0)};var Vd=function(){Vd.__super__.constructor.call(this)};f(Vd,C);Vd.prototype.execute=function(a){this.player.started=!0;this.sendNotification(d.STARTED,a.getBody());this.sendNotification(d.PLAY,a.getBody())};var sc=function(){sc.__super__.constructor.call(this)};f(sc,
v);sc.prototype.execute=function(a){var b;b=a.getBody();this.applicationState.getBuffering()!==b&&(this.applicationState.setBuffering(b),sc.__super__.execute.call(this,a))};var ob=function(a,b){this.player=a;this.config=b;ob.__super__.constructor.call(this,this.constructor.NAME);this.proxy=new $(this.config);this.player.registerProxy(this.proxy)};f(ob,puremvc.Mediator);ob.prototype.player=null;ob.prototype.config=null;ob.prototype.proxy=null;ob.NAME="LocalizationWrapper";ob.prototype.getString=function(a,
b){return this.proxy.getString(a,b)};ob.prototype.listNotificationInterests=function(){return["createFlashVars","createXML"]};ob.prototype.handleNotification=function(a){var b,c,e,h,d,p,z,f;ob.__super__.handleNotification.call(this,a);d=a.getName();a=a.getBody();switch(d){case "createFlashVars":c=a.flashvars;c.locale_setting=this.proxy.getLocaleId();break;case "createXML":for(e in a=a.xml,b=a.firstChild,d=a.getElementsByTagName("locales")[0],null==d&&(d=a.createElement("locales"),b.appendChild(d)),
f=this.proxy.getLocales(),f)for(c in h=f[e],b=a.createElement("locale"),b.setAttribute("id",e),d.appendChild(b),h)z=h[c],p=a.createElement("property"),p.setAttribute("key",c),z=da.createTextContent(a,z),p.appendChild(z),b.appendChild(p)}};var Pb=function(a){null==this.cssPrefix&&(this.cssPrefix=wd.PREFIX);Pb.__super__.constructor.call(this,this.mediatorName,a)};f(Pb,puremvc.Mediator);Pb.prototype.config=null;Pb.prototype.cssPrefix=null;Pb.prototype.classList=null;Pb.prototype.initializeNotifier=function(a){Pb.__super__.initializeNotifier.call(this,
a);this.config=(this.facade.player||this.facade).retrieveProxy(F.NAME);this.classList=this.classList=new ab(this.viewComponent)};var ac=function(a){ac.__super__.constructor.call(this,a)};f(ac,Pb);ac.prototype.localizationManager=null;ac.prototype.initializeNotifier=function(a){ac.__super__.initializeNotifier.call(this,a);this.localizationManager=(this.facade.player||this.facade).retrieveProxy($.NAME)};var fa=function(a,b,c,e){this.componentName=null!=a?a:this.componentName;this.componentType=null!=
b?b:this.componentType;this.parent=c;this.element=e;null==this.mediatorName&&(this.mediatorName=this.createMediatorName());fa.__super__.constructor.call(this,this.viewComponent)};f(fa,ac);fa.prototype.componentName=null;fa.prototype.componentType=null;fa.prototype.parent=null;fa.prototype.element=null;fa.prototype.classList=null;fa.prototype.state=null;fa.prototype.disabled=!1;fa.prototype.onRegister=function(){this.viewComponent=this.createViewComponent(this.parent,this.element);this.classList=this.viewComponent._classList;
Xa.bindEvents(this.viewComponent,this)};fa.prototype.createViewComponent=function(a,b){var c;c=this.getTypeList();return Xa.create(c,a,b)};fa.prototype.createMediatorName=function(){var a;a=this.getTypeList();a.push("mediator");a.push(Xa.createUID());return a.join("-")};fa.prototype.getTypeList=function(){var a;a=[];null!=this.componentName&&a.push(this.componentName);null!=this.componentType&&(a=a.concat(this.componentType));return a};fa.prototype.create=function(a,b,c,e){null==b&&(b=this);!1===
b&&(b=null);return Xa.create(a,b,c,e)};fa.prototype.createText=function(a,b,c,e){null==c&&(c=this);return Xa.create(a,c,e,b)};fa.prototype.setState=function(a){if(a!==this.state)return null!=this.state&&this.classList.remove(this.state),this.state=a,null!=this.state&&this.classList.add(this.state),a};fa.prototype.getState=function(){return this.state};fa.prototype.setDisabled=function(a){if(a!==this.disabled)return(this.disabled=a)?this.classList.add("disabled"):this.classList.remove("disabled"),
a};fa.prototype.getDisabled=function(){return this.disabled};var wb=function(a,b){this.mediatorName=""+this.componentType+"-mediator";wb.__super__.constructor.call(this,a,null,null,b)};f(wb,fa);wb.prototype.componentType="media-element";wb.prototype.created=!1;wb.prototype.onRegister=function(){!0!==this.created&&(this.created=!0,wb.__super__.onRegister.call(this))};var pb=function(){pb.__super__.constructor.call(this)};f(pb,fa);pb.prototype.componentType="layer";pb.prototype.onRegister=function(){pb.__super__.onRegister.call(this);
this.registerLayer()};pb.prototype.onRemove=function(){pb.__super__.onRemove.call(this);this.removeLayer()};pb.prototype.registerLayer=function(){this.sendNotification(d.ADD_LAYER,this.viewComponent)};pb.prototype.removeLayer=function(){this.sendNotification(d.REMOVE_LAYER,this.viewComponent)};var Jb=function(){Jb.__super__.constructor.call(this)};f(Jb,pb);Jb.prototype.componentName="video";Jb.prototype.listNotificationInterests=function(){return[d.PLAYBACK_CORE_CHANGE]};Jb.prototype.mediator=null;
Jb.prototype.mediaElement=null;Jb.prototype.handleNotification=function(a){var b;b=a.getName();a=a.getBody();switch(b){case d.PLAYBACK_CORE_CHANGE:null!=this.mediaElement&&this.viewComponent.removeChild(this.mediaElement),null!=this.mediator&&this.facade.removeMediator(this.mediator.getMediatorName()),(b=null!=(null!=a?a.getViewComponent:void 0))?(this.facade.registerMediator(a),this.mediator=a,this.mediaElement=this.mediator.getViewComponent()):(this.mediator=null,this.mediaElement=a),null!=this.mediaElement&&
(this.facade.setMediaElement(this.mediaElement),this.viewComponent.appendChild(this.mediaElement))}};var wa=function(a,b){this.componentName=a;this.layers=[];wa.__super__.constructor.call(this,null,null,null,b)};f(wa,fa);wa.prototype.componentType="player";wa.prototype.core=null;wa.prototype.medium=null;wa.prototype.layers=null;wa.prototype.ready=!1;wa.prototype.onRegister=function(){var a;wa.__super__.onRegister.call(this);a=g.getDevice();null!=a&&this.classList.add(a);g.isTouchDevice()&&this.classList.add("touch")};
wa.prototype.listNotificationInterests=function(){return[d.DISPLAY_STATE_CHANGE,d.ACTIVE_STATE_CHANGE,d.PLAY_STATE_CHANGE,d.ADD_APPLICATION_STATE,d.REMOVE_APPLICATION_STATE,d.MEDIUM_CHANGE,d.DURATION_CHANGE,d.TEMPORAL_TYPE_CHANGE,d.IS_LIVE,d.ADD_LAYER,d.REMOVE_LAYER,d.READY]};wa.prototype.handleNotification=function(a){var b;b=a.getName();a=a.getBody();switch(b){case d.ACTIVE_STATE_CHANGE:case d.PLAY_STATE_CHANGE:case d.DISPLAY_STATE_CHANGE:case d.MEDIUM_CHANGE:b=a.value;a=a.previous;null!=a&&this.classList.contains(a)&&
this.classList.remove(a);null!=b&&this.classList.add(b);break;case d.ADD_APPLICATION_STATE:this.classList.add(a);break;case d.REMOVE_APPLICATION_STATE:this.classList.remove(a);break;case d.TEMPORAL_TYPE_CHANGE:a.previous&&this.sendNotification(d.REMOVE_APPLICATION_STATE,a.previous);a.value&&this.sendNotification(d.ADD_APPLICATION_STATE,a.value);break;case d.IS_LIVE:!0===a?this.sendNotification(d.ADD_APPLICATION_STATE,"is-live"):this.sendNotification(d.REMOVE_APPLICATION_STATE,"is-live");break;case d.DURATION_CHANGE:3600<
a?this.sendNotification(d.ADD_APPLICATION_STATE,"long-form"):this.sendNotification(d.REMOVE_APPLICATION_STATE,"long-form");break;case d.ADD_LAYER:this.addLayer(a);break;case d.REMOVE_LAYER:this.removeLayer(a);break;case d.READY:this.initialize(),this.viewCreated()}};wa.prototype.initialize=function(){var a,b,c,e;this.ready=!0;e=this.layers;b=0;for(c=e.length;b<c;b++)a=e[b],this.viewComponent.contains(a)||this.viewComponent.appendChild(a)};wa.prototype.viewCreated=function(){this.sendNotification(d.VIEW_CREATED)};
wa.prototype.addLayer=function(a){this.layers.push(a);this.ready&&this.viewComponent.appendChild(a)};wa.prototype.removeLayer=function(a){this.viewComponent.contains(a)&&this.viewComponent.removeChild(a);a=this.layers.indexOf(a);0<=a&&this.layers.splice(a,1)};var Kb=function(a){Kb.__super__.constructor.call(this,this.type,a)};f(Kb,wa);Kb.NAME="FlashPlayerMediator";Kb.prototype.type="flash";Kb.prototype.listNotificationInterests=function(){return Kb.__super__.listNotificationInterests.call(this).concat([Ia.PLUGINS_INITIALIZED])};
Kb.prototype.handleNotification=function(a){var b;b=a.getName();a.getBody();switch(b){case d.READY:this.viewCreated();return;case Ia.PLUGINS_INITIALIZED:this.initialize();return}Kb.__super__.handleNotification.call(this,a)};var rc=function(){rc.__super__.constructor.call(this)};f(rc,v);rc.prototype.execute=function(a){var b;b="amp"===a.getBody().value?d.REMOVE_APPLICATION_STATE:d.ADD_APPLICATION_STATE;this.sendNotification(b,"remote-playback");rc.__super__.execute.call(this,a)};var Wc=function(){Wc.__super__.constructor.call(this)};
f(Wc,v);Wc.prototype.execute=function(a){Wc.__super__.execute.call(this,a);a=g.clone(this.media.getData());a.src=this.media.getSrc();this.facade.getMediaElement().authenticationComplete({media:a})};var na=function(a,b){this.supportedTypes=null!=a?a:this.supportedTypes;this.config=b;na.__super__.constructor.call(this);this.temporalTypes=["vod","live","ondemand"]};f(na,n);na.prototype.temporalTypes=null;na.prototype.supportedTypes=null;na.prototype.playbackCoreName="default";na.prototype.config=null;
na.prototype.onRegister=function(){this.mediaProxy=this.facade.retrieveProxy(q.NAME)};na.prototype.getUseMAE=function(){var a;a=this.config.mae;return null!=a&&!1!==a.enabled};na.prototype.getPlaybackCoreName=function(){return this.playbackCoreName};na.prototype.getSupportedTypes=function(){return this.supportedTypes||[]};na.prototype.setSupportedTypes=function(a){return this.supportedTypes=a};na.prototype.getTemporalTypes=function(){return this.temporalTypes||[]};na.prototype.setTemporalTypes=function(a){return this.temporalTypes=
a};na.prototype.canPlayTemporalType=function(a){return-1!==this.getTemporalTypes().indexOf(a)};na.prototype.canPlayType=function(a){return null!=this.supportedTypes?-1!==this.getSupportedTypes().indexOf(a)?"maybe":"":na.__super__.canPlayType.call(this,a)};var ka=function(a){this.player=a;ka.__super__.constructor.call(this)};f(ka,na);ka.NAME=n.NAME;ka.prototype.player=null;ka.prototype.initialized=!0;ka.prototype.playbackCoreName="flash";ka.prototype.supportedTypes=["video/mp4","video/x-flv","video/f4m",
"application/smil","application/smil+xml"];ka.prototype.getPaused=function(){return this.player.getPaused()};ka.prototype.getEnded=function(){return this.player.getEnded()};ka.prototype.getSeeking=function(){return this.player.getSeeking()};ka.prototype.getCurrentTime=function(){return this.player.getCurrentTime()};ka.prototype.setCurrentTime=function(a){this.player.setCurrentTime(a);return a};ka.prototype.getSrc=function(){return this.player.getSrc()};ka.prototype.setSrc=function(a){this.player.setSrc(a);
return a};ka.prototype.getVolume=function(){return this.player.getVolume()};ka.prototype.setVolume=function(a){this.player.setVolume(a);return a};ka.prototype.getMuted=function(){return this.player.getMuted()};ka.prototype.setMuted=function(a){this.player.setMuted(a);return a};ka.prototype.getDuration=function(a){return this.player.getDuration()};ka.prototype.play=function(){this.player.play()};ka.prototype.pause=function(){this.player.pause()};ka.prototype.load=function(){this.player.load()};var m=
function(a){var b=this;this.flashObjectID+=Date.now();this.plugins={};this._displayState=V.NORMAL;this.debug=/debug\=true/.test(location.search);m.__super__.constructor.call(this,a);this.addEventListener("mediachange",function(a){var e,h,d,p,z;d=a.detail.track;h=b.getMediaElement();a=h.textTracks=[];if(null!=d)for(p=0,z=d.length;p<z;p++)e=d[p],e={kind:e.kind,label:e.label,language:e.srclang,_mode:e.mode},Object.defineProperty(e,"mode",{get:function(){return this._mode},set:function(a){this._mode=
a;(a="showing"===a)&&h.setTrackByLanguage(this.language);h.setPlayerProperty("captionDisplay",{visible:a})},enumerable:!0,configurable:!1}),a.push(e)})};f(m,l);m.prototype.initialize=function(a,b){var c,e;this.config=a;this.parentModule=b;this.createDefaults();this.logEvents=!0===(null!=(c=this.config.flash)?c.logEvents:void 0)||"true"===(null!=(e=Ea["amp-flash-log"])?e.toLowerCase():void 0);m.__super__.initialize.call(this,this.config,this.parentModule)};m.prototype.loadModuleResources=function(a){var b=
this;return m.__super__.loadModuleResources.call(this,a).then(function(){var a,e,h,d,p;e=b.config.locales;h=[];d=function(a,b){e[a]=b.data};for(a in e)p=e[a],"string"===typeof p&&h.push(r.addResource({src:b.evaluatePaths(p),type:g.mimeTypes.json}).then(d.bind(b,a))["catch"](function(a){return Promise.resolve()}));return Promise.all(h)})};m.prototype.pluginsinitialized=function(){var a,b,c,e;b=this.config.flash||{};a=!0===(null!=(c=b["static"])?c.enabled:void 0)?b["static"]:b;e=this.debug&&null!=a.debug?
a.debug:a.swf||"amp.swf";this.evaluatePaths(b.expressInstallSWF);c=this.createParams(b);a=this.createAttributes(b);this.flashvars=this.createFlashVars(b);null==this.flashvars.settings_url&&(b=this.createXML(this.config),null!=b&&(this.flashvars.settings_xml=b));a.data=this.evaluatePaths(e);this.createdHandler(g.createFlashObject({params:c,attributes:a,vars:this.flashvars},this.getMediaElement().parentNode))};m.prototype.playerType="flash";m.prototype.flashObjectID="flashObject";m.prototype.loaded=
!1;m.prototype.flashvars=null;m.prototype._paused=!1;m.prototype._ended=!1;m.prototype._muted=!1;m.prototype.plugins=null;m.prototype.debug=!1;m.prototype.started=!1;m.prototype._displayState=null;m.prototype.logEvents=!1;m.prototype._loop=!1;m.prototype.playback=null;m.prototype.flashPlugins=[{id:"AkamaiAdvancedStreamingPlugin",src:"//sslplayers-vh.akamaihd.net/flash/plugins/osmf/advanced-streaming-plugin/v3.10/osmf2.0/AkamaiAdvancedStreamingPlugin.swf",absolute:!0,host:"osmf",main:"com.akamai.osmf.AkamaiAdvancedStreamingPluginInfo",
type:"application/x-shockwave-flash"},{id:"ErrorMessagingPlugin",src:"#{paths.resources}plugins/ErrorMessagingPlugin.swf",blocking:!1,host:"akamai",main:"ErrorMessagingPlugin",type:"application/x-shockwave-flash"},{id:"VideoMetricsViewPlugin",src:"#{paths.resources}plugins/VideoMetricsViewPlugin.swf",blocking:!1,host:"akamai",main:"VideoMetricsViewPlugin",type:"application/x-shockwave-flash"},{id:"VideoStatsInfoOverlayPlugin",src:"#{paths.resources}plugins/VideoStatsInfoOverlayPlugin.swf",blocking:!1,
host:"akamai",main:"VideoStatsInfoOverlayPlugin",type:"application/x-shockwave-flash"}];m.prototype.flashView=null;m.prototype.createModel=function(){m.__super__.createModel.call(this);this.playback=new ka(this);this.registerProxy(this.playback);this.appState.setRenderMode(rf.FLASH);this.bindings.initialize()};m.prototype.createView=function(){m.__super__.createView.call(this);this.mediator=new Kb(this.getViewComponent());this.registerMediator(this.mediator);this.registerMediator(new Jb);this.registerMediator(new nb);
this.registerMediator(new ob(this,this.config))};m.prototype.createController=function(){var a,b=this;m.__super__.createController.call(this);null!=(null!=(a=this.config.plugins)?a.react:void 0)&&(this.registerCommand(d.CHANGE_DISPLAY_STATE,lb),this.getDisplayState=function(){return b.appState.getDisplayState()},this.setDisplayState=function(a){return b.sendNotification(d.CHANGE_DISPLAY_STATE,a)});this.registerCommand(Ia.PLUGINS_INITIALIZED,Ud);this.registerCommand(Ka.AUTHORIZE,v);this.registerCommand(Ka.AUTHORIZED,
Wc);this.registerCommand(d.CHANGE_PLAY_STATE,nc);this.registerCommand(d.PLAY_STATE_CHANGE,v);this.registerCommand(d.START,Vd);this.registerCommand(d.STARTED,v);this.registerCommand(d.PLAY,v);this.registerCommand(d.PLAY_REQUEST,v);this.registerCommand("flashCreated",v);this.registerCommand(d.PLAYBACK_TARGET_CHANGE,rc);this.registerCommand(d.UPDATE_DATA_BINDINGS,pc);this.registerCommand(d.BUFFERING_CHANGE,sc);this.registerCommand("createXML",v);this.registerCommand("createFlashVars",v)};m.prototype.createMediaElement=
function(){var a;a=new wb("flash","div");this.sendNotification(d.PLAYBACK_CORE_CHANGE,a);a=a.getViewComponent();a.id=a.name=this.flashObjectID;return a};m.prototype.createDefaults=function(){var a,b,c,e,h,d;if(!(0<!(null!=(b=this.flashPlugins)&&b.length))){b=this.config.resources||[];null!=(null!=(c=this.config.flash)?c.resources:void 0)&&(b=b.concat(this.config.flash.resources));c=g.mimeTypes.swf;d=this.flashPlugins;e=0;for(h=d.length;e<h;e++)a=d[e],null!=a&&0===b.filter(function(b){return b.id===
a.id}).length&&(null==a.type&&(a.type=c),b.push(a));this.config.resources=b}};m.prototype.createParams=function(a){var b;b={allowFullScreen:!0,allowScriptAccess:"always",wmode:"direct",bgColor:"#000000"};null!=a.params&&(null!=a.params.allowFullScreen&&(b.allowFullScreen=a.params.allowFullScreen),null!=a.params.allowScriptAccess&&(b.allowScriptAccess=a.params.allowScriptAccess),null!=a.params.wmode&&(b.wmode=a.params.wmode),null!=a.params.bgColor&&(b.bgColor=a.params.bgColor));"direct"===b.wmode&&
/MSIE/.test(navigator.userAgent)&&(b.wmode="transparent");return b};m.prototype.getModules=function(){return this.plugins};m.prototype.createPlugins=function(){var a,b,c,e,h,d,p,z=this;p=this.getPlayerType();d=r.plugins;for(c in d)if(h=d[c],c in this.config&&null!=this.config[c]&&!1!==this.config[c].enabled)if(a=h[p],null==a)this.logger.debug("[AMP] Plugin could not be found: "+c);else try{e=this[c]=this.plugins[c]=new a(this,this.config[c]),this.registerMediator(this.plugins[c]),b="function"===typeof e.getFeatureName?
e.getFeatureName():void 0,null!=b&&(this[b]=e),null!=e.flashView&&(this.flashView=g.override(this.flashView,e.flashView)),this.logger.debug("[AMP] Plugin registered: "+c)}catch(f){this.logger.error("[AMP] Plugin could not be created: "+c+". "+f)}h=this.config.plugins||{};d=[];for(c in h)b=h[c],null!=b&&!1!==b.enabled&&(e=function(b,c,e){return z.loadResources(c.resources).then(function(){a=r.plugins[e][p];if(null==a)throw Error("[AMP] Plugin could not be found: "+e);return a(b,c,e).then(function(a){z.logger.debug("[AMP] Plugin registered: "+
e);return{key:e,value:a}})})["catch"](function(a){return z.logger.error("[AMP] Plugin could not be created: "+e+". "+a)})},d.push(e.bind(null,this,b,c)));d=d.map(function(a){return a()});Promise.all(d).then(function(a){var b,c,e;null!=z.config.flash.view&&(z.flashView=g.override(z.flashView,z.config.flash.view));c=0;for(e=a.length;c<e;c++)b=a[c],null!=b&&(z[b.key]=b.value,z.plugins[b.key]=b.value);return z.sendNotification(Ia.PLUGINS_INITIALIZED,z.plugins)})["catch"](function(a){return z.logger.error(a)})};
m.prototype.createAttributes=function(a){var b;b={id:this.flashObjectID,name:this.flashObjectID};null!=a.attributes&&(null!=a.attributes.id&&(b.id=a.attributes.id),null!=a.attributes.name&&(b.name=a.attributes.name));return b};m.prototype.createFlashJSON=function(a,b){var c,e;null==a&&(a=this.config);a=JSON.stringify(a);a=this.evaluatePaths(a);a=JSON.parse(a);e=function(a,b,e){switch(typeof e){case "string":a[b]=escape(e);break;case "object":c(e)}};c=function(a){var b,c,d,f;if(a instanceof Array)for(b=
d=0,f=a.length;d<f;b=++d)c=a[b],e(a,b,c);else if("object"===typeof a)for(b in a)c=a[b],e(a,b,c)};c(a);return encodeURIComponent(JSON.stringify(a,null,b))};m.prototype.createFlashVars=function(a){var b,c,e,h,d,p,z,f,k,l;b={};c=JSON.parse(JSON.stringify(this.config));c.flash=null;delete c.flash;c.locales=null;delete c.locales;c.params=null;delete c.params;c.rules=null;delete c.rules;b.settings_json=this.createFlashJSON(c);null!=this.config.autoplay&&(b.auto_play=this.config.autoplay);null!=this.config.rules&&
g.mergeRules(this.config.rules);b.hinting_rules=escape(JSON.stringify(g.rules));null!=this.config.volume&&(b.volume=g.clamp(this.config.volume,0,1));null!=this.config.target&&(b.external_target=this.config.target);null!=this.config.name&&(b.core_player_name=this.config.name);null!=this.config.domain&&(b.embed_domain=b.domain=this.config.domain);this._loop=b.auto_replay=!0===this.config.loop;null!=this.config.fullscreen&&(b.fullscreen_enabled=!1!==this.config.fullscreen.enabled&&"external"!==this.config.fullscreen.mode);
null!=this.config.titlebar&&(b.titlebar_enabled=!1!==this.config.titlebar.enabled);null!=this.config.params&&(b.params=escape(JSON.stringify(this.config.params)));null!=this.config.version&&(b.context_menu_label=this.config.version);null!=(null!=(h=this.config.controls)?h.displaySceneMarkers:void 0)&&(b.displaySceneMarkers=this.config.controls.displaySceneMarkers);null!=this.config.media&&(this.mediaProxy.setData(this.config.media),null!=this.config.media.src&&(this.setSrc(this.config.media.src),
b.video_url=escape(this.config.media.src)),null!=this.config.media.source&&0<this.config.media.source.length&&(this.setSource(this.config.media.source),b.video_url=escape(this.mediaProxy.getSrc())),null!=this.config.media.medium&&(this.setMedium(this.config.media.medium),b.medium=this.config.media.medium),null!=this.config.media.title&&(b.title=encodeURIComponent(this.config.media.title)),null!=this.config.media.poster&&(b.poster=escape(this.config.media.poster)),null!=this.config.media.temporalType&&
(b.temporalType=this.config.media.temporalType));"audio"===this.getMedium()&&(b.controls=!0,b.auto_hide=-1);null!=(null!=(d=this.config.ima)?null!=(p=d.overlay)?p.delay:void 0:void 0)&&(b.overlay_ad_delay=this.config.ima.overlay.delay);null!=this.config.ticker&&!1!==this.config.ticker.enabled&&(null!=this.config.ticker.url&&(b.ticker_text_url=this.config.ticker.url),null!=this.config.ticker.interval&&(b.ticker_polling_interval=this.config.ticker.interval),null!=this.config.ticker.speed&&(b.ticker_speed=
this.config.ticker.speed));b.show_play_button_overlay=!1;b.auto_play_list=!1;b.next_video_timer=0;null==b.context_menu_mode&&(b.context_menu_mode=!0===this.debug?"long":"short");if(null!=(null!=(z=this.config.flash)?null!=(f=z.view)?null!=(k=f.elements)?null!=(l=k.loadingView)?l.attributes:void 0:void 0:void 0:void 0)){c="";for(e in this.config.flash.view.elements.loadingView.attributes)c+=e+":"+this.config.flash.view.elements.loadingView.attributes[e]+" ";b.loadingView=c}this.sendNotification("createFlashVars",
{flashvars:b,config:this.config});return b=g.override(b,a.vars)};m.prototype.createXML=function(a){var b,c,e,h,d,p,z,f,k,l,m,n,q;null==(null!=a?null!=(f=a.flash)?f.xml:void 0:void 0)&&(null==a.flash&&(a.flash={}),a.flash.xml="\x3capplication\x3e\x3c/application\x3e");m=da.parse(a.flash.xml);1<m.childNodes.length&&m.removeChild(m.firstChild);this.sendNotification("createXML",{config:a,xml:m});d=function(a){var b,c,h,p,f,z;p=a.resources;c=[];if(p instanceof Array&&0<(null!=p?p.length:void 0))for(f=
0,z=p.length;f<z;f++)h=p[f],h.type===k&&(h=g.clone(h),!0===e?null!=h.main&&""!==h.main?(h.src=h.main,h.type="static"):h.type="dynamic":null!=h.src&&""!==h.src?h.type="dynamic":(h.src=h.main,h.type="static"),delete h.main,c.push(h));for(b in a)h=a[b],"flash"!==b&&null!=(p=null!=h?h.resources:void 0)&&p instanceof Array&&0<p.length&&(c=c.concat(d(h)));a=a.plugins;for(b in a)h=a[b],null!=(p=null!=h?h.resources:void 0)&&p instanceof Array&&0<p.length&&(c=c.concat(d(h)));return c};k=g.mimeTypes.swf;f=
d(this.config);e=!0===(null!=(h=a.flash["static"])?h.enabled:void 0);if(0<(null!=f?f.length:void 0))for(h=m.getElementsByTagName("plugins"),1>h.length?(h=m.createElement("plugins"),m.firstChild.appendChild(h)):h=h[0],n=0,q=f.length;n<q;n++)if(z=f[n],!1!==z.enabled){a=m.createElement("plugin");for(c in z)l=z[c],"loaded"!==c&&("src"!==c?a.setAttribute(c,""+l):("id"===c&&"AkamaiAdvancedStreamingPlugin"===l&&!0===this.debug&&(l=l.replace("AkamaiAdvancedStreamingPlugin.swf","AkamaiAdvancedStreamingPlugin-logging.swf")),
a.appendChild(da.createTextContent(m,l))));h.appendChild(a)}p=function(a,b){var c,e,h,d;if(null!=a.attributes)for(e in c=a.attributes,c)h=c[e],b.setAttribute(e,""+h);if(null!=a.elements)for(e in d=a.elements,d)h=d[e],null!=h&&(c=m.createElement("element"),c.setAttribute("id",e),"state"!==c.id&&(p(h,c),b.appendChild(c)));if(null!=a.state){c=m.createElement("state");if(a.state.attributes)for(e in d=a.state.attributes,d)h=d[e],null!=h&&c.setAttribute(e,""+h);b.appendChild(c)}return b};c=m.getElementsByTagName("view")[0];
null==c&&(c=m.createElement("view"),m.firstChild.appendChild(c));p(this.flashView,c);if(null!=(null!=(b=this.config.fullscreen)?b.mode:void 0))for(c=m.getElementsByTagName("element"),f=0,a=c.length;f<a;f++)b=c[f],"fullscreenBtn"===b.getAttribute("id")&&b.setAttribute("action","external");b=da.serialize(m);b=b.match(/<application>[\w\W\s\S\d\D]*<\/application>/)[0]||b;b=b.replace(/[\n\r\t]/g,"");b=this.evaluatePaths(b);return encodeURIComponent(b)};m.prototype.createdHandler=function(a){var b=this;
a=this.getMediaElement().id;a=document.getElementById(a);this.setMediaElement(a);a.className=wd.PREFIX+wb.prototype.componentType;a.eventHandler=function(a,e){return b.eventHandler(a,e)};this.sendNotification("flashCreated");null!=this.getMedium()&&this.setMedium(this.getMedium())};m.prototype.eventHandler=function(a,b){var c,e,h,J,p,f,g,k,l,m,n,q=this;this.logEvents&&!this.excludedFlashEvents.test(a)&&this.logger.log("[AMP FLASH EVENT] "+a,b);try{switch(a){case "mediaPlayerInitialized":f=p="ready";
break;case "mediaPlayerReset":null==b&&(p="ready");this.started=!1;break;case "mediaPlayerLoading":f="loadstart";break;case "mediaPlayerError":f=p="error";break;case "mediaError":f=p="error";break;case "mediaPlayerFeedLoaded":b=JSON.parse(b);h=new xb;J=null!=(k=h.createFeed(b))?null!=(l=k.item)?l[0]:void 0:void 0;null!=J&&this.mediaProxy.setData(J);break;case "mediaPlayerDataFeedUpdated":f="mediachange";b=this.getMedia();g=!0;break;case "mediaPlayerErrorStreamNotFound":f=p="error";break;case "mediaPlayerCapabilityChange":e=
b.type;"canPlayChange"===e&&!0===b.enabled?(f="canplay",this.loaded=!0):"canSeekChange"===e&&!0===b.enabled?f="canplaythrough":"temporalChange"===e&&!0===b.enabled&&(f="loadedmetadata",this.started||this.sendNotification(d.START,b));break;case "mediaPlayerPlaying":this.started||this.sendNotification(d.START,b);f=p="playing";this._paused=this._ended=!1;!0===this.appState.getSeeking()&&(this.appState.setSeeking(!1),this.sendNotification(d.SEEKED),this.sendNotification(d.DISPATCH_EVENT,new D("seeked")));
break;case "mediaPlayerElementEvent":"fullscreenBtn"===b.element&&"click"===b.type&&"external"===(null!=(m=this.config)?null!=(n=m.fullscreen)?n.mode:void 0:void 0)&&(p=this.getDisplayState()===V.FULL_SCREEN?V.NORMAL:V.FULL_SCREEN,this.setDisplayState(p));break;case "mediaPlayerPlaybackSequenceInitiated":this.sendNotification(d.PLAY_REQUEST);this.setPlayState("playing");f=d.MEDIA_SEQUENCE_STARTED;this.loaded=!0;this._ended=!1;break;case "mediaPlayerResumeOrPausePlayback":"paused"!==this.getPlayState()&&
this.started&&this.sendNotification(d.PLAY,b);break;case "mediaPlayerPlaybackClose":f=d.ENDED;break;case "mediaPlayerPlaybackSequenceComplete":f=d.MEDIA_SEQUENCE_ENDED;p=d.ENDED;this._ended=!0;break;case "mediaPlayerPaused":f="pause";p="paused";this._paused=!0;break;case "mediaPlayerBuffering":"ended"!==this.className&&(f=p="waiting");break;case "mediaPlayerBufferingChanged":this.sendNotification(d.BUFFERING_CHANGE,b);return;case "mediaPlayerDurationChange":isNaN(b.time)||(0===b.time&&this.sendNotification(d.MEDIA_SEQUENCE_ABORTED),
f="durationchange",b=b.time,setTimeout(function(){q.setCues(q.getCues().slice())},0));break;case "mediaPlayerVolumeChanged":f="volumechange";b=b.volume;break;case "mediaPlayerPlayheadUpdate":f="timeupdate";b=b.currentTime;break;case "mediaPlayerSeekingChange":if(!1===this.appState.getSeeking()&&!1===b.seeking)return;f=b.seeking?"seeking":"seeked";this.appState.setSeeking(b.seeking);b.seeking&&(p="seeking");break;case "mediaPlayerFullscreenChange":f="fullscreenchange";b="fullScreen"===b.displayState;
this.applyDisplayState(b?V.FULL_SCREEN:V.NORMAL);break;case "mediaPlayerFailoverAttempt":f="failoverattempt";break;case "error":a=null;break;case "mediaPlayerAuthenticate":f=Ka.AUTHORIZE;break;case "mediaPlayerSendCuePoint":f=d.TIMED_METADATA;b={startTime:b.time,endTime:b.time,data:b};break;case "mediaPlayerID3Updated":f=d.TIMED_METADATA,b={startTime:b.time,endTime:b.time,data:window.atob(b)}}null!=a&&a!==f&&(e=new D(a,b),e.dispatcher="FLASH",this.sendNotification(d.DISPATCH_EVENT,e),this.sendNotification(a,
b));null!=f&&("error"===f&&(c=b.error||b,this.logError("Flash Error",c)),this.sendNotification(f,b),this.sendNotification(d.DISPATCH_EVENT,new D(f,b)));null!=g&&this.sendNotification(d.UPDATE_DATA_BINDINGS);null!=p&&this.setPlayState(p)}catch(r){this.logError("Event Error: "+a,r)}};m.prototype.logError=function(a,b){this.logger.error("[AMP FLASH ERROR]",a,b)};m.prototype.excludedFlashEvents=/(mediaPlayerPlayheadUpdate|mediaPlayerElementEvent|adComponentPlaybackProgress)/;m.prototype.logFlashEvents=
!1;m.prototype.logEvent=function(a){"FLASH"===a.dispatcher&&!1===this.logFlashEvents||!0===this.excludedFlashEvents.test(a.type)||m.__super__.logEvent.call(this,a)};m.prototype.setPlayState=function(a){this.sendNotification(d.CHANGE_PLAY_STATE,a);return a};m.prototype.getPlayState=function(){return this.appState.getPlayState()};m.prototype.setMedia=function(a){var b=this;null!=this.getPlayState()&&this.setPlayState("ready");a=this.mediaProxy.transform(a);this.transform(jc.MEDIA,a).then(function(c){a=
c;b.mediaProxy.setData(a);null!=a.src&&b.setSrc(a.src);null!=a.source&&0<a.source.length&&b.setSource(a.source);b.sendNotification(d.MEDIA_CHANGE,a);return b.load(b.mediaProxy.getData())})["catch"](function(a){return b.sendNotification(d.ERROR,a)});return a};m.prototype.getMedia=function(){return this.mediaProxy.getData()};m.prototype.load=function(){var a,b,c;a=this.mediaProxy.getData();this.security.setMedia(a);if(this.security.getAuthorized()){this.loaded=!0;a=g.clone(a);null==a.autoplay&&(a.autoplay=
this.config.autoplay);for(b in a)c=a[b],void 0===c&&delete a[b];this.getMediaElement().loadURL(this.mediaProxy.getSrc(),a)}else this.sendNotification(Ka.AUTHORIZE,{media:a})};m.prototype.play=function(){this.loaded||this.load();this.getMediaElement().unpause()};m.prototype.setMuted=function(a){this._muted=a;try{!0===a?this.getMediaElement().mute():this.getMediaElement().unmute()}catch(b){this.logError("Flash muted error",b)}return a};m.prototype.getMuted=function(){return this._muted};m.prototype.getLoop=
function(){return this._loop};m.prototype.getSrc=function(a){return this.getMediaElement().getURL()};m.prototype.setSrc=function(a){this.mediaProxy.setSrc(a);this.loaded=!1;this.setMedium(g.getMimeType(a));return a};m.prototype.setAutoplay=function(a){this.getMediaElement().setPlayerProperty("autoplay",a);return a};m.prototype.getAutoplay=function(){return this.getMediaElement().getPlayerProperty("autoplay")};m.prototype.getMedium=function(){return this.mediaProxy.getData().medium};m.prototype.setMedium=
function(a){var b,c;b=this.mediaProxy.getData();if(a!==b.medium)return null!=b.medium&&(c="medium-"+b.medium),b.medium=/audio/.test(a)?"audio":"video",this.sendNotification(d.MEDIUM_CHANGE,{value:"medium-"+b.medium,previous:c}),a};m.prototype.setSource=function(a){var b,c=this;if(!(null==a||1>a.length)){b=this.mediaProxy.getData();b.source=a;this.loaded=!1;b=g.selectSource(a,function(a){return c.canPlayType(a)});if(null!=(null!=b?b.src:void 0)&&""!==b.src)this.setSrc(b.src),"undefined"!==typeof type&&
null!==type&&this.setMedium(type);else throw Error("No valid source could be found");return a}};m.prototype.getSource=function(){return this.mediaProxy.getData().source};m.prototype.getSeeking=function(){return this.appState.getSeeking()};m.prototype.getPaused=function(){return this._paused};m.prototype.getEnded=function(){return this._ended};m.prototype.getFlashXML=function(){var a,b;b=decodeURIComponent(this.flashvars.settings_xml);a=da.parse(b);try{a.toString=function(){return b}}catch(c){}return a};
m.prototype.getFlashVars=function(){return this.flashvars};m.prototype.getFlashJSON=function(){return JSON.parse(decodeURIComponent(this.flashvars.settings_json))};m.prototype.canPlayType=function(a){return 0<=ud.call(g.flashTypes,a)?"maybe":""};m.prototype.replay=function(){this.getMediaElement().replay()};m.prototype.pause=function(){this.getMediaElement().pause()};m.prototype.end=function(){this.getMediaElement().stopPlayer()};m.prototype.getCurrentTime=function(){var a;return"function"===typeof(a=
this.getMediaElement()).getCurrentTime?a.getCurrentTime():void 0};m.prototype.setCurrentTime=function(a){this.getMediaElement().jumpToTime(a);return a};m.prototype.getParams=function(){return this.getMediaElement().getParams()};m.prototype.setParams=function(a){this.getMediaElement().setParams(a);return a};m.prototype.getVolume=function(){var a;return(null!=(a=this.getMediaElement())?"function"===typeof a.getVolume?a.getVolume():void 0:void 0)||0};m.prototype.setVolume=function(a,b){this.getMediaElement().setVolume(a,
b||"");return a};m.prototype.getDuration=function(){var a;return"function"===typeof(a=this.getMediaElement()).getDuration?a.getDuration():void 0};m.prototype.getDisplayState=function(){return this._displayState};m.prototype.setDisplayState=function(a){var b;if(a!==this._displayState&&(this.applyDisplayState(a),"external"!==(null!=(b=this.config.fullscreen)?b.mode:void 0)))return this._displayState===V.FULL_SCREEN?this.getMediaElement().enterFullScreen():this.getMediaElement().exitFullScreen(),a};
m.prototype.applyDisplayState=function(a){var b;a!==this._displayState&&(b={value:a,previous:this._displayState},this._displayState=a,this.sendNotification(d.DISPLAY_STATE_CHANGE,b),this.sendNotification(d.DISPATCH_EVENT,new D("fullscreenchange",this._displayState===V.FULL_SCREEN)))};m.prototype.enterFullScreen=function(){this.setDisplayState(V.FULL_SCREEN)};m.prototype.exitFullScreen=function(){this.setDisplayState(V.NORMAL)};m.prototype.recordContentChange=function(a){this.getMediaElement().recordContentChange(a)};
m.prototype.setQuality=function(a){return this.getMediaElement().setQuality(a)};m.prototype.getQuality=function(){var a;try{a=this.getMediaElement().getQuality()}catch(b){}return a};m.prototype.getQualityLevels=function(){var a,b;try{a=("function"===typeof(b=this.getMediaElement()).getQualityLevels?b.getQualityLevels():void 0)||[]}catch(c){a=[]}return a};var jb=function(a){this.module=a;jb.__super__.constructor.call(this,a.getModuleName(),this)};f(jb,puremvc.Mediator);jb.prototype.module=null;jb.prototype.mediator=
null;jb.prototype.initializeNotifier=function(a){var b,c=this;jb.__super__.initializeNotifier.call(this,a);b=this.module.listNotificationPublications();null!=b&&(this.mediator=new puremvc.Mediator(this.facade.getModuleName()),this.mediator.listNotificationInterests=function(){return b},this.mediator.handleNotification=function(a){c.facade.sendNotification(a.getName(),a.getBody(),a.getType())})};jb.prototype.onRegister=function(){null!=this.mediator&&this.module.registerMediator(this.mediator)};jb.prototype.onRemove=
function(){null!=this.mediator&&this.module.removeMediator(this.mediator)};jb.prototype.listNotificationInterests=function(){return this.module.listNotificationInterests()};jb.prototype.handleNotification=function(a){this.module.sendNotification(a.getName(),a.getBody(),a.getType())};Events={LOADED_METADATA:"loadedmetadata",READY:"ready",ERROR:"error",ENDED:"ended",STARTED:"started",DURATION_CHANGE:"durationchange",SEEKING:"seeking",SEEKED:"seeked",TIME_UPDATE:"timeupdate",LOAD_START:"loadstart",LOADED_DATA:"loadeddata",
CAN_PLAY:"canplay",CAN_PLAY_THROUGH:"canplaythrough",PROGRESS:"progress",MEDIA_CHANGE:"mediachange",WAITING:"waiting",BUFFERING_CHANGE:"bufferingchange",STALLED:"stalled",PLAY:"play",PLAYING:"playing",PAUSE:"pause",PAUSED:"paused",PLAY_REQUEST:"playrequest",MEDIUM_CHANGE:"mediumchange",TEMPORAL_TYPE_CHANGE:"temporaltypechange",VOLUME_CHANGE:"volumechange",FAIL_OVER_ATTEMPT:"failoverattempt",PLAYBACK_TARGET_CHANGE:"playbacktargetchange",PLAYBACK_TARGET_AVAILABILITY_CHANGE:"playbacktargetavailabilitychange",
RECORD_CONTENT_CHANGE:"recordcontentchange",IS_LIVE:"islive",CONTENT_CHANGED:"contentchanged",PLAYBACK_RATE_CHANGE:"playbackratechange",SETTINGS_CHANGE:"settingschange",QUALITY_CHANGE:"qualitychange",QUALITY_CHANGING:"qualitychanging",QUALITY_SWITCHED:"qualityswitched",QUALITY_MODE_CHANGE:"qualitymodechange",QUALITY_LEVELS_LOADED:"qualitylevelsloaded",MEDIA_SEQUENCE_STARTED:"mediasequencestarted",MEDIA_SEQUENCE_ENDED:"mediasequenceended",MEDIA_SEQUENCE_ABORTED:"mediasequenceaborted",AUTOPLAY_BLOCKED:"autoplayblocked",
LANGUAGE_CHANGE:"languagechange",TIMED_METADATA:"timedmetadata",CUES_CHANGE:"cueschange",VIEW_CREATED:"viewcreated",MUTE_CHANGE:"mutechange",RESUME:"resume",PLAY_STATE_CHANGE:"playstatechange",FULL_SCREEN_CHANGE:"fullscreenchange",BUSY:"busy",DESTROY:"destroy",init:function(){var a,b;this.values=[];for(a in this)b=this[a],"values"!==a&&"init"!==a&&this.values.push(b)}};Events.init();var ic=function(a){this._target=null!=a?a:this;this._transformMap={}};ic.prototype.addTransform=function(a,b){var c;
null!=b&&null!=a&&(null==(c=this._transformMap)[a]&&(c[a]=[]),-1===this._transformMap[a].indexOf(b)&&(this._transformMap[a].push(b),this.sort(a)))};ic.prototype.sort=function(a,b){null==b&&(b=function(a,b){var h,d;h=a.priority||0;d=b.priority||0;return h>d?-1:h<d?1:0});return this._transformMap[a].sort(b)};ic.prototype.transform=function(a,b){var c;c=this._transformMap[a];return null==c?Promise.resolve(b):g.transform(c,b)};ic.prototype.removeTransform=function(a,b){var c,e;if(null!=b&&null!=a&&(e=
this._transformMap[a],null!=e&&(c=null!=e?e.indexOf(b):void 0,-1!==c)))return e.splice(c,1)};var Wa=function(){};Wa.SINGLE=/^\s*[#\$]{([^\$#{}]+)}\s*$/;Wa.TOKEN=/[#\$]{([^\$#}]*)}/g;Wa.eval=function(a,b){var c=this;if(null==a)return a;if(this.SINGLE.test(a))try{return this.exec(a.replace(this.SINGLE,"$1"),b)}catch(e){return a}return a.replace(this.TOKEN,function(a,e,d,f){try{return c.exec(e,b)}catch(g){return a}})};Wa.exec=function(a,b){return(new Function("with (this) { return "+a+" }")).bind(b)()};
Wa.evaluateBindings=function(a,b,c){var e,h=this;null==c&&(c=!0);if(null!=a){if("object"===typeof a){c=!0===c?JSON.parse(JSON.stringify(a)):a;if(a instanceof Array)return c.map(function(a){return h.evaluateBindings(a,b,!1)});a={};for(e in c)a[e]=this.evaluateBindings(c[e],b,!1);return a}return"string"===typeof a?this.eval(a,b):a}};var vd=function(){vd.__super__.constructor.call(this)};f(vd,puremvc.SimpleCommand);vd.prototype.execute=function(a){a=a.getBody();a.player=this.facade.player||this.facade;
this.facade.dispatchEvent(a)};var d={STARTUP:"startup",LOAD:"load",PAUSE_REQUEST:"pauserequest",TOGGLE_PLAY_PAUSE:"togglePlayPause",CHANGE_PLAY_STATE:"chageplaystate",MEDIA_ELEMENT_CHANGE:"mediaelementchange",HIDDEN_CHANGE:"hiddenchange",TOGGLE_FULL_SCREEN:"toggleFullScreen",CHANGE_DISPLAY_STATE:"chageDisplayState",DISPLAY_STATE_CHANGE:"displayStateChange",DISABLE_FULL_SCREEN:"disableFullScreen",ENABLE_FULL_SCREEN:"enableFullScreen",TOGGLE_ACTIVE:"toggleActive",CHANGE_ACTIVE_STATE:"changeactivestate",
ACTIVE_STATE_CHANGE:"activestatechange",CHANGE_MEDIA:"changeMedia",SET_MEDIA:"setmedia",MEDIA_VALIDATED:"mediavalidated",CHANGE_SETTINGS:"changesettings",UPDATE_DATA_BINDINGS:"updatedatabindings",CHANGE_VOLUME:"changevolume",CHANGE_MUTED:"changemuted",TOGGLE_MUTED:"togglemuted",CHANGE_TIME:"changetime",TIME_CHANGE:"timechange",SEEK:"seek",CHANGE_DURATION:"changeduration",CHANGE_AUTOPLAY:"changeAutoplay",AUTOPLAY_CHANGE:"autoplaychange",CHANGE_LOOP:"changeLoop",PLAYBACK_CORE_CHANGE:"playbackCoreChange",
START:"start",END:"end",REPLAY:"replay",REGISTER_PLUGIN:"registerPlugin",REGISTER_PLUGINS:"registerPlugins",PLUGIN_REGISTERED:"pluginRegistered",ADD_LAYER:"addLayer",REMOVE_LAYER:"removeLayer",ADD_OVERLAY:"addOverlay",REMOVE_OVERLAY:"removeOverlay",ADD_CONTROL:"addControl",REMOVE_CONTROL:"removeControl",ADD_CONTROL_STATE:"addControlState",REMOVE_CONTROL_STATE:"removeControlState",ADD_APPLICATION_STATE:"addApplicationState",REMOVE_APPLICATION_STATE:"removeApplicationState",DISPATCH_EVENT:"dispatchEvent",
CHANGE_PARAMS:"changeParams",INITIALIZED:"initialized",REGISTER_PLAYBACK_CORE:"registerPlaybackCore",REMOVE_PLAYBACK_CORE:"removePlaybackCore",DISPLAY_TIME:"displaytime",IS_USER_ACTIVE:"isUserActive",CHANGE_PLAYBACK_TARGET:"changeplaybacktarget",LOCK:"lock",FRAGMENT_LOAD_START:"fragmentloadstart",FRAGMENT_LOADED:"fragmentloaded",CHANGE_CONTENT:"changecontent",ENABLE_VIDEO_EVENTS:"enablevideoevents",DISABLE_VIDEO_EVENTS:"disablevideoevents",HAS_POST_CONTENT:"haspostcontent",init:function(){var a,b;
for(a in Events)b=Events[a],"values"!==a&&"init"!==a&&(this[a]=b)}};d.init();var bb=function(a){var b,c;null==a&&(a={});null==akamai.amp.AMP.plugins.controls&&(c={plugins:{react:{resources:[{src:"https://unpkg.com/react@15/dist/react.min.js",debug:"https://unpkg.com/react@15/dist/react.js",type:"text/javascript"},{src:"https://unpkg.com/react-dom@15/dist/react-dom.min.js",debug:"https://unpkg.com/react-dom@15/dist/react-dom.js",type:"text/javascript"},{src:"https://unpkg.com/prop-types/prop-types.min.js",
debug:"https://unpkg.com/prop-types/prop-types.min.js",type:"text/javascript"},{src:"#{paths.plugins}react/React.min.css",debug:"#{paths.plugins}react/React.css",type:"text/css"},{src:"#{paths.plugins}react/React.min.js",debug:"#{paths.plugins}react/React.js",type:"text/javascript"}],autoHide:3}}},a=g.override(c,a));a=g.override(bb.defaults,a);!0===/amp\-debug\=true/.test(location.search.toLowerCase())&&(a.debug=!0);"object"===typeof Ea.amp&&(a=g.override(a,Ea.amp));a.mode=g.getPlaybackMode(a.mode);
9===g.getIEVersion()&&(a.plugins.react=null,a.flash.view=g.override(a.flash.view,bb.flashView));a.version=r.getVersion();for(b in a)c=a[b],this[b]=c};bb.create=function(a){return new bb(a)};bb.defaults={paths:{base:"../",root:"../",player:"../amp.premier/",plugins:"../akamai/amp/",resources:"../resources/"},resources:[{src:"#{paths.player}amp.premier.css",type:"text/css",async:!0}],rules:{android_4_gets_m3u8:{regexp:"Android 4"}},attributes:{},settings:{},autoplay:!0,loop:!1,playsinline:null,
muted:null,target:"_blank",domain:"akamai.com",fullscreen:{},contextmenu:{},captioning:{},controls:{},playoverlay:{},hls:{resources:[{type:"text/javascript",src:"#{paths.resources}js/hls.min.js",debug:"#{paths.resources}js/hls.js"}],quality:{startLevel:-1},data:{enableWorker:!0}},dash:{resources:[{type:"text/javascript",src:"//cdn.dashjs.org/v2.6.4/dash.all.min.js",debug:"//cdn.dashjs.org/v2.6.4/dash.all.debug.js"}],buffer:1},flash:{swf:"#{paths.player}AkamaiPremierPlayer.swf",
debug:"#{paths.player}AkamaiPremierPlayer-debug.swf",expressInstallSWF:"#{paths.player}playerProductInstall.swf","static":{enabled:!1,swf:"#{paths.player}AkamaiPremierPlayer-static.swf",debug:"#{paths.player}AkamaiPremierPlayer-static-debug.swf"},vars:{core_player_name:"amp.premier",mbr_starting_index:2,use_last_known_bitrate:!1,use_netsession_client:!1,netsession_install_prompt_frequency_secs:-1,ad_server_timeout:20,ad_control_enabled:!0,
dvr_enabled:1,branding_preload:"none",hds_live_low_latency:!0,fullscreen_enabled:!0,show_feature_bar:!1,suppress_events:"mediaPlayerViewInitialized",hds_fragment_retry_data_gap_threshold:20},view:{attributes:{skin:"#{paths.player}amp.chromeless.assets.swf"},elements:{controls:{},adOptions:{attributes:{style:"backgroundColor: 'rgba(0, 0, 0, 0)'"},elements:{adChoices:null,adCountdown:null,adCount:null}},endSlate:{attributes:{enabled:!1,hideElements:"brandingLogo|viewAll"}},loadingView:{attributes:{enabled:!1,
style:"backgroundColor: 'rgba(0, 0, 0, 0)'; color: 'rgba(0, 0, 0, 0)'",radius:0}}}}},locales:{en:{MSG_TIME_SEPARATOR:" / ",MSG_EMAIL_TO:"To",MSG_EMAIL_FROM:"From",MSG_EMAIL_VIDEO:"Email this video",MSG_EMAIL_MESSAGE_DEFAULT:"Check out this video from xxx",MSG_EMAIL_MESSAGE:"Message",MSG_EMAIL_ADDRESS_INVALID:"Invalid Email Address",MSG_EMAIL_MESSAGE_INVALID:"Please limit your message to 500 characters or less.",MSG_EMAIL_CHARACTERS_REMAINING_TEXT:" characters left",MSG_EMAIL_SEND_FAILURE:"Message could not be sent.",
MSG_EMAIL_SEND_SUCCESS_MESSAGE:"Your email has been sent!",MSG_SHARE_VIDEO_TEXT:"Share this video...",MSG_POST_TEXT:"Post",MSG_EMBED_TEXT:"Embed",MSG_LINK_TEXT:"Link",MSG_SHARE_CONNECT_FAILURE:"Unable to connect. Please try again.",MSG_SHARE_CONTENT_DISABLED:"Share and embed are disabled.",MSG_VERSION_TEXT:"Version",MSG_BUFFERING_TEXT:"buffering",MSG_CUSTOMIZE_CLIP_POINTS:"Customize the start and end point of the video.",MSG_PAUSE:"Pause",MSG_PLAY:"Play",MSG_REWIND:"Rewind",MSG_PLAYBACK_RATE:"Playback Rate",
MSG_FULLSCREEN:"Fullscreen",MSG_ENTER_FULLSCREEN:"Enter Fullscreen",MSG_EXIT_FULLSCREEN:"Exit Fullscreen",MSG_MUTE:"Mute",MSG_JUMP_BACK:"Jump Back",MSG_JUMP_AHEAD:"Jump Ahead",MSG_VOLUME:"Volume",MSG_REPLAY:"Replay",MSG_SETTINGS:"Settings",MSG_SHARE:"Share",MSG_CLOSED_CAPTIONING:"Closed Captioning",MSG_SLIDER:"Slider",MSG_SEEK:"Seek",MSG_OF:"of",MSG_AD:"Ad",MSG_PREVIEW:"Preview",MSG_CURRENT:"Current",MSG_SEEK_TO:"Seek to",MSG_LIVE:"LIVE",MSG_ERROR:"Error",MSG_ERROR_ABORTED:"Media Aborted",MSG_ERROR_DECODE:"Decode Error",
MSG_ERROR_NETWORK:"Network Error",MSG_ERROR_SRC:"Source not supported",MSG_ERROR_DEFAULT:"An error has occurred",MSG_STREAM_NOT_FOUND:"Stream not found",MSG_CURRENT_WORKING_BANDWIDTH:"Current working bandwidth",MSG_CURRENT_BITRATE_PLAYING:"Current bitrate playing",MSG_MAX_BITRATE_AVAILABLE:"Max bitrate available",MSG_NOT_AVAILABLE:"Not Available",MSG_GO_LIVE:"GO LIVE",MSG_NEXT_VIDEO:"Video starts in: ",MSG_RECOMMENDED:"Recommended",MSG_VIEW_ALL:"View all ",MSG_VIDEO:" videos",MSG_CC:"CC",MSG_CC_TITLE:"Caption",
MSG_CC_LANGUAGE:"Track :",MSG_CC_PRESETS:"Presets :",MSG_CC_FONT:"Font :",MSG_CC_EDGE:"Edge :",MSG_CC_SIZE:"Size :",MSG_CC_SCROLL:"Scroll :",MSG_CC_COLOR:"Color :",MSG_CC_BACKGROUND:"Background :",MSG_CC_WINDOW:"Window :",MSG_CC_OPACITY:"Opacity :",MSG_CC_SHOW_ADVANCED:"Show Advanced Settings",MSG_CC_HIDE_ADVANCED:"Hide Advanced Settings",MSG_NEXT_AD:"Next ad starts in: ",MSG_CC_RESET:"Default",MSG_CC_CANCEL:"Cancel",MSG_CC_APPLY:"Apply",MSG_CC_PREVIEW_TEXT:"Lorem ipsum dolor sit amet..",MSG_EN:"English",
MSG_ENG:"English",MSG_ES:"Spanish",MSG_SPA:"Spanish",MSG_DE:"German",MSG_DEU:"German",MSG_GER:"German",MSG_FR:"French",MSG_FRE:"French",MSG_FRA:"French",MSG_IT:"Italian",MSG_ITA:"Italian",MSG_RU:"Russian",MSG_RUS:"Russian",MSG_ZH:"Chinese",MSG_ZHO:"Chinese",MSG_CHI:"Chinese",MSG_JA:"Japanese",MSG_JPN:"Japanese",MSG_KO:"Korean",MSG_KOR:"Korean",MSG_CHROMECAST_MESSAGE:"Video playing on ${device}",MSG_RETRY_MESSAGE:"Content not yet available, retrying in",MSG_SECONDS:"seconds",MSG_RETRY_FAILED:"Retry failed",
MSG_RECOMMENDATIONS_TITLE:"Recommended",MSG_VIEWER_ID:"Viewer ID: ",MSG_SIGN_IN:"Sign In",MSG_PREVIEW_INFO:"Free Preview",MSG_PREVIEW_EXPIRES:"Expires in",MSG_UNKNOWN:"Unknown"},es:"#{paths.player}es.json",fr:"#{paths.player}fr.json"}};bb.flashView={attributes:{skin:"#{paths.player}premier.assets.swf"},elements:{infoOverlay:{attributes:{style:"top: 0px;"}},adOptions:{attributes:{style:"backgroundColor: 'rgba(0, 0, 0, 1)'"},elements:{adChoices:{attributes:{target:"http://www.akamai.com/"}},
adCountdown:{},adCount:{}}},endSlate:{attributes:{enabled:!0,hideElements:"brandingLogo|viewAll"}},replayView:{},bufferingView:{},controls:{attributes:{height:"28",itemMargin:"5",scrubPosition:"inline"},elements:{replayBtn:{},playPauseBtn:{},streamTimeIndicator:{attributes:{exclude:"live"},elements:{streamTime:{},streamDuration:{}}},rewindBtn:{},scrubBar:{attributes:{style:"height: 18px;"}},progressBar:{attributes:{style:"background: linear-gradient(90deg, #FF0000, #1B1B1B);"}},loadedBar:{attributes:{style:"background: linear-gradient(90deg, #00FF00, #1B1B1B);"}},
liveIndicator:{},timeLocationIndicator:{},goLiveBtn:{},statsBtn:{},volumeBar:{attributes:{color:"#CA2127"}},volumeBtn:{},fullscreenBtn:{}}}}};var V={NORMAL:"normal",FULL_SCREEN:"full-screen"},pa=function(a){pa.__super__.constructor.call(this,a);this.value={}};f(pa,F);pa.NAME=F.NAME;pa.prototype.bindings=null;pa.prototype.configurationName=null;pa.prototype.contextName=null;pa.prototype.contextData=null;pa.prototype.value=null;pa.prototype.getConfigurationName=function(){return this.configurationName};
pa.prototype.getConfigurationData=function(){return this.value||{}};pa.prototype.getContextName=function(){return this.contextName};pa.prototype.getContextData=function(){return this.contextData};pa.prototype.onRegister=function(){var a;a=this.facade.player||this.facade;null==this.getConfigurationName()&&(this.configurationName=this.facade.moduleName);this.bindings=a.retrieveProxy(ua.NAME);this.bindings.registerConfiguration(this);null!=this.getContextName()&&(this.bindings.registerContext(this),
this.value=Wa.evaluateBindings(this.data,this.bindings.getData()))};pa.prototype.setData=function(a){var b,c,e;null==a&&(a={});this.data={};e=this.getDefaults();for(b in e)c=e[b],this.data[b]=b in a?a[b]:c;return this.data};pa.prototype.getValue=function(a){this.bindings.update();this.value[a]=Wa.evaluateBindings(this.data[a],this.bindings.getData());return this.value[a]};pa.prototype.compile=function(a,b){null==a&&(a=this.bindings.getData());null!=this.contextName&&null!=this.contextData&&(a=g.clone(a),
a[this.contextName]=this.contextData);return this.value=Wa.evaluateBindings(this.data,this.bindings.getData())};var Ka={AUTHORIZATION_FAILED:"authorizationfailed",AUTHORIZE:"authorize",AUTHORIZED:"authorized",AUTHENTICATION_FAILED:"authenticationfailed",AUTHENTICATE:"authenticate",AUTHENTICATED:"authenticated",AUTHORIZATION_EXPIRED:"authorizationexpired"},Ib=function(a){Ib.__super__.constructor.call(this,a)};f(Ib,pa);Ib.NAME="ParamsProxy";Ib.prototype.defaults={};Ib.prototype.configurationName="params";
Ib.prototype.setData=function(a){var b;this.data={};for(b in a)this.data[b]=a[b];return this.data};var G=function(a,b,c){var e;this.target=a;this.type=b;this.handler=c;this.trigger=wf(this.trigger,this);G.instances.push(this);this.types=[];(e=this.type,0<=ud.call(G.EVENTS,e))?g.isTouchDevice()?(this.types.push(G.TOUCH_EVENTS[this.type]),this.type===G.TOUCH_EVENTS[1]&&this.types.push(G.TOUCH_EVENTS[4])):this.types.push(G.MOUSE_EVENTS[this.type]):this.type instanceof Array?this.types=this.type:this.types.push(this.type);
this.bind()};G.PRESS=0;G.RELEASE=1;G.MOVE=2;G.CLICK=3;G.CONTEXTMENU=4;G.HOVER=5;G.HOVEROUT=6;G.EVENTS=[G.PRESS,G.RELEASE,G.MOVE,G.CLICK,G.CONTEXTMENU,G.HOVER,G.HOVEROUT];G.MOUSE_EVENTS="mousedown mouseup mousemove click contextmenu mouseover mouseout".split(" ");G.TOUCH_EVENTS=["touchstart","touchend","touchmove","click","touchcancel"];G.instances=[];G.create=function(a,b,c){return new G(a,b,c)};G.bind=function(a,b){var c,e,h,d;d=G.instances;c=e=0;for(h=d.length;e<h;c=++e)c=d[c],c.target===a&&(null!=
b&&c.type!==b||c.bind())};G.unbind=function(a,b){var c,e,h,d;d=G.instances;c=e=0;for(h=d.length;e<h;c=++e)c=d[c],c.target===a&&(null!=b&&c.type!==b||c.unbind())};G.clear=function(a,b){var c,e,h,d,p;p=G.instances;c=h=0;for(d=p.length;h<d;c=++h)e=p[c],(null!=e?e.target:void 0)!==a||null!=b&&e.type!==b||(e.clear(),G.instances.splice(c,1))};G.prototype.types=null;G.prototype.bind=function(){var a,b,c,e;e=this.types;b=0;for(c=e.length;b<c;b++)a=e[b],null!=this.target.addEventListener?this.target.addEventListener(a,
this.trigger,!1):null!=this.target.attachEvent&&this.target.attachEvent("on"+a,this.trigger)};G.prototype.unbind=function(){var a,b,c,e;e=this.types;b=0;for(c=e.length;b<c;b++)a=e[b],null!=this.target.removeEventListener?this.target.removeEventListener(a,this.trigger):null!=this.target.attachEvent&&this.target.removeEvent("on"+a,this.trigger)};G.prototype.clear=function(){this.unbind();this.types=this.type=this.handler=this.target=null};G.prototype.trigger=function(a){this.handler(a)};var N=function(a){this.defaults=
bb.defaults;N.__super__.constructor.call(this,a)};f(N,F);N.NAME=F.NAME;N.prototype.getContextName=function(){return"paths"};N.prototype.getContextData=function(){return this.getPaths()};N.prototype.onRegister=function(){this.facade.retrieveProxy(ua.NAME).registerContext(this)};N.prototype.setData=function(a){null!=a.rules&&g.mergeRules(a.rules);N.__super__.setData.call(this,a);return a};N.prototype.getPlaysInline=function(){return this.data.playsinline};N.prototype.getMuted=function(){return this.data.muted};
N.prototype.setMuted=function(a){return this.data.muted=a};N.prototype.getAutoplay=function(){return this.data.autoplay};N.prototype.setAutoplay=function(a){return this.data.autoplay=a};N.prototype.getLoop=function(){return this.data.loop};N.prototype.setLoop=function(a){return this.data.loop=a};N.prototype.getSettings=function(){return this.data.settings};N.prototype.setSettings=function(a){return this.data.settings=a};N.prototype.getDomain=function(){return this.data.domain};N.prototype.setDomain=
function(a){return this.data.domain=a};N.prototype.getTarget=function(){return this.data.target};N.prototype.setTarget=function(a){return this.data.target=a};N.prototype.getName=function(){return this.data.name};N.prototype.setName=function(a){return this.data.name=a};N.prototype.getPaths=function(){return this.data.paths};N.prototype.setPaths=function(a){return this.data.paths=a};N.prototype.getVersion=function(){return this.data.version};N.prototype.getControls=function(){return this.data.controls};
N.prototype.setControls=function(a){return this.data.controls=a};N.prototype.getFullscreen=function(){return this.data.fullscreen||{}};N.prototype.setFullscreen=function(a){return this.data.fullscreen=a};var mb=function(){mb.__super__.constructor.call(this,this.NAME);this.namespace="akamai_amp";this.defaults={volume:1,captions:{visible:!1,fontFamily:"'Courier New', Courier, 'Nimbus Mono L', 'Cutive Mono', monospace",size:"small",scroll:"popout",fontColor:"rgba(255,255,255,1)",edgeType:"text-shadow: 0px 0px 0px",
edgeColor:"rgba(0,0,0,0)",backgroundColor:"rgba(0,0,0,0)",windowColor:"rgba(0,0,0,0.5)"}}};f(mb,puremvc.Mediator);mb.NAME="SettingsMediator";mb.prototype.onRegister=function(){var a,b,c;a=this.facade.retrieveProxy(F.NAME).getSettings()||{};null!=a.namespace&&(this.namespace=a.namespace);this.settings=g.override(a.defaults,this.defaults);try{b=localStorage.getItem(this.namespace),null!=b&&(c=JSON.parse(b))}catch(e){}this.save(c)};mb.prototype.listNotificationInterests=function(){return[d.READY,d.VOLUME_CHANGE,
d.CHANGE_AUTOPLAY]};mb.prototype.handleNotification=function(a){var b;b=a.getName();a=a.getBody();switch(b){case d.READY:b=this.settings.volume;null!=b&&this.sendNotification(d.CHANGE_VOLUME,b);b=this.settings.autoplay;null!=b&&this.sendNotification(d.CHANGE_AUTOPLAY,b);break;case d.CHANGE_AUTOPLAY:if(this.settings.autoplay===a)break;this.change({autoplay:a});break;case d.VOLUME_CHANGE:if(this.settings.volume===a)break;this.change({volume:a})}};mb.prototype.change=function(a){var b,c;if(!(null==a||
"object"!==typeof a||a instanceof Array)&&(b=g.diff(this.settings,a),null!=b)){a=b.captions;if(null!=a){c=a.edgeColor||"";"none"===c&&(a.edgeColor="rgba(0,0,0,0)");c=a.edgeType;if(null!=c){switch(c.toLowerCase()){case "none":c="text-shadow: 0px 0px 0px";break;case "depressed":c="text-shadow: 0px 1px 0px";break;case "left drop shadow":c="text-shadow: -3px 3px 2px";break;case "raised":c="text-shadow: 0px 1px 1px";break;case "right drop shadow":c="text-shadow: 3px 3px 2px";break;case "uniform":c="text-shadow: 0px 0px 4px"}a.edgeType=
c}null!=a.fontSize&&(a.size=a.fontSize,delete a.fontSize);c=a.fontFamily;null!=c&&(null==this.fontFamily&&(this.fontFamily={"Monospaced Serif":"Courier New, Courier, Nimbus Mono L, Cutive Mono, monospace","Proportional Serif":"Times New Roman, Times, Georgia, Cambria, PT Serif Caption, serif","Monospaced Sans-Serif":"Deja Vu Sans Mono, Lucida Console, Monaco, Consolas, PT Mono, monospace","Proportional Sans-Serif":"Roboto, Arial Unicode Ms, Arial, Helvetica, Verdana, PT Sans Caption, sans-serif",
Casual:"Comic Sans MS, Impact, Handlee, fantasy",Cursive:"Monotype Corsiva, URW Chancery L, Apple Chancery, Dancing Script, cursive","Small Capitals":"Arial Unicode Ms, Arial, Helvetica, Verdana, Marcellus SC, sans-serif; font-variant: small-caps"}),"object"===typeof c?this.fontFamily=g.override(this.fontFamily,c):"string"===typeof c&&-1!==Object.keys(this.fontFamily).indexOf(c)&&(a.fontFamily=this.fontFamily[c]))}this.save(b);this.sendNotification(d.SETTINGS_CHANGE,b)}};mb.prototype.getSettings=
function(){return Object.freeze(Object.assign({defaults:Object.assign({},this.defaults),change:this.change.bind(this)},this.settings))};mb.prototype.save=function(a){this.settings=g.override(this.settings,a);try{localStorage.setItem(this.namespace,JSON.stringify(this.settings))}catch(b){}};var Td=function(){Td.__super__.constructor.call(this)};f(Td,C);Td.prototype.execute=function(a){var b;null!=(b=this.facade.retrieveMediator(mb.NAME))&&b.change(a.getBody())};var Qb=function(){Qb.__super__.constructor.call(this)};
f(Qb,na);Qb.prototype.playbackCoreName="audio";Qb.prototype.onRegister=function(){var a;a=new wb("html5","audio");this.sendNotification(d.PLAYBACK_CORE_CHANGE,a)};Qb.prototype.onRemove=function(){this.facade.createMediaElement()};Qb.prototype.canPlayMedium=function(a){return"audio"===a};Qb.prototype.canPlayType=function(a){return/audio/.test(a)?"maybe":""};var mc=function(){};mc.extractContentId=function(a,b){var c;c=document.createElement("a");c.href=g.arrayToString(a);return c.hostname};mc.extractServerUrl=
function(a,b){return b.serverURL||b.serverUrl};mc.requestCertificate=function(a){return g.request({url:a.cert,responseType:"arraybuffer",headers:{Pragma:"Cache-Control: no-cache","Cache-Control":"max-age\x3d0"}}).then(function(a){return new Uint8Array(a.response)})};mc.concatInitDataIdAndCertificate=function(a,b,c){var e,h,d;"string"===typeof b&&(b=g.stringToArray(b));d=0;e=new ArrayBuffer(a.byteLength+4+b.byteLength+4+c.byteLength);h=new DataView(e);(new Uint8Array(e,d,a.byteLength)).set(a);d+=a.byteLength;
h.setUint32(d,b.byteLength,!0);d+=4;a=new Uint16Array(e,d,b.length);a.set(b);d+=a.byteLength;h.setUint32(d,c.byteLength,!0);(new Uint8Array(e,d+4,c.byteLength)).set(c);return new Uint8Array(e,0,e.byteLength)};mc.requestLicense=function(a,b,c,e){var h;a={url:c,method:"POST",responseType:"text",headers:{"Content-type":"application/x-www-form-urlencoded"},data:"spc\x3d"+g.base64EncodeUint8Array(a)+"\x26assetId\x3d"+encodeURIComponent(b)};if(null!=e.httpRequestHeaders)for(h in c=e.httpRequestHeaders,
c)b=c[h],a.headers[h]=b;"boolean"===typeof e.withCredentials&&(a.withCredentials=e.withCredentials);return g.request(a).then(function(a){a=a.responseText.trim();"\x3cckc\x3e"===a.substr(0,5)&&"\x3c/ckc\x3e"===a.substr(-6)&&(a=a.slice(5,-6));return g.base64DecodeUint8Array(a)})["catch"](function(a){throw"The license request failed.";})};var jc={TIME:"time",SEEK:"seek",MEDIA:"media"},ga=function(){ga.__super__.constructor.call(this)};f(ga,na);ga.prototype.playbackCoreName="dvr";ga.prototype.interval=
null;ga.prototype.ondurationchange=function(a){this.updateDuration()};ga.prototype.ontimeupdate=function(a){this.updateCurrentTime()};ga.prototype.onplay=function(a){this.stopTimer();ga.__super__.onplay.call(this,a)};ga.prototype.onplaying=function(a){this.stopTimer();ga.__super__.onplaying.call(this,a)};ga.prototype.onpause=function(a){this.startTimer();ga.__super__.onpause.call(this,a)};ga.prototype.canPlayTemporalType=function(a){return"dvr"===a};ga.prototype.getDuration=function(){Infinity===
this.getMediaElement().duration&&this.updateDuration();return this.data.duration};ga.prototype.getStartTime=function(){return this.getMediaElement().seekable.start(0)};ga.prototype.getFragmentDuration=function(){return 10};ga.prototype.getLiveTime=function(){return this.getDuration()-this.getFragmentDuration()};ga.prototype.isLive=function(){return this.getStartTime()+this.getCurrentTime()>=this.getLiveTime()};ga.prototype.seek=function(a){var b=this;return ga.__super__.seek.call(this,a+this.getStartTime()).then(function(a){b.sendNotification(d.IS_LIVE,
b.isLive())})};ga.prototype.updateCurrentTime=function(){var a,b;b=this.getMediaElement().seekable;0!==b.length&&(a=this.getMediaElement().currentTime,this.data.currentTime=a-b.start(0),this.sendNotification(d.TIME_CHANGE,{currentTime:this.data.currentTime}),this.mediaProxy.setIsLive(this.isLive()))};ga.prototype.updateDuration=function(){var a;a=this.getMediaElement().seekable;0!==a.length&&(this.data.duration=a.end(0)-a.start(0),this.sendNotification(d.CHANGE_DURATION,this.data.duration))};ga.prototype.startTimer=
function(){this.interval=setInterval(this.updateCurrentTime.bind(this),1E3)};ga.prototype.stopTimer=function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null,this.updateCurrentTime())};var yb=function(){yb.__super__.constructor.call(this);null==this.contextName&&(this.contextName=this.constructor.NAME)};f(yb,puremvc.Proxy);yb.prototype.contextName=null;yb.prototype.contextData=null;yb.prototype.onRegister=function(){var a;null!=this.getContextName()&&(a=this.facade.player||
this.facade,a=a.retrieveProxy(ua.NAME),a.registerContext(this))};yb.prototype.getContextName=function(){return this.contextName};yb.prototype.getContextData=function(){return this.contextData};var R=function(a,b){this.defaultPlaybackCore=a;this.getPlaybackOrder=b;R.__super__.constructor.call(this);this.playbackCoreMap=[];null==this.getPlaybackOrder&&(this.getPlaybackOrder=function(a){if(/Edge|Android/.test(navigator.userAgent))return["audio","hls","dash","dvr","default"]})};f(R,yb);R.NAME="PlayerProxy";
R.prototype.contextName="player";R.prototype.getPlaybackOrder=null;R.prototype.playbackCoreMap=null;R.prototype.defaultPlaybackCore=null;R.prototype.activePlaybackCore=null;R.prototype.onRegister=function(){R.__super__.onRegister.call(this);this.registerPlaybackCore(new ga);this.registerPlaybackCore(this.defaultPlaybackCore);this.registerPlaybackCore(new Qb);this.activePlaybackCore=this.defaultPlaybackCore};R.prototype.ready=function(){var a;a="function"===typeof this.getPlaybackOrder?this.getPlaybackOrder(this.playbackCoreMap.map(function(a){return a.getPlaybackCoreName()})):
void 0;null!=a&&(this.playbackCoreMap=this.playbackCoreMap.sort(function(b,c){b=a.indexOf(b.getPlaybackCoreName());c=a.indexOf(c.getPlaybackCoreName());return b===c?0:-1===b&&-1!==c?1:-1!==b&&-1===c?-1:b-c}))};R.prototype.getActivePlaybackCore=function(){return this.activePlaybackCore};R.prototype.registerPlaybackCore=function(a){var b;b=a.getPlaybackCoreName();null==a||this.playbackCoreMap.some(function(a){return a.getPlaybackCoreName()===b})||this.playbackCoreMap.push(a)};R.prototype.retrievePlaybackCore=
function(a){var b,c,e,h;h=this.playbackCoreMap;c=0;for(e=h.length;c<e;c++)if(b=h[c],b.getPlaybackCoreName()===a)return b};R.prototype.removePlaybackCore=function(a){var b;a=this.retrievePlaybackCore(a);if(null==a)return null;b=this.playbackCoreMap.indexOf(a);this.playbackCoreMap.splice(b,1);return a};R.prototype.setPlaybackCore=function(a){var b,c,e,h,d;d=this.playbackCoreMap;e=0;for(h=d.length;e<h;e++)if(b=d[e],!0===b.canPlayMedium(a.medium)&&!0===b.canPlayTemporalType(a.temporalType)&&""!==b.canPlayType(a.type)){c=
b;break}if(null==c)throw a=Error(),a.code=MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED,a;b=this.facade.retrieveProxy(n.NAME);b!==c&&("function"===typeof b.destroy&&b.destroy(),this.facade.removeProxy(n.NAME),this.facade.registerProxy(c),c.setData(b.getData()));this.activePlaybackCore=c;return a};R.prototype.canPlayType=function(a){var b,c,e,h;h=this.playbackCoreMap;c=0;for(e=h.length;c<e;c++)if(b=h[c],b=b.canPlayType(a),""!==b)return b;return""};R.prototype.getContextData=function(){return this.facade};
var q=function(a){this.data={metadata:{}};q.__super__.constructor.call(this)};f(q,yb);q.NAME="MediaProxy";q.prototype.contextName="media";q.prototype.data=null;q.prototype.value=null;q.prototype.started=!1;q.prototype.authorized=!0;q.prototype.getContextData=function(){return this.data};q.prototype.getData=function(){var a;a=g.clone(q.__super__.getData.call(this));null==a.authorization&&(a.authorization=g.clone(this.facade.security.data));return a};q.prototype.setData=function(a){this.data&&this.facade.getCurrentTime()<
this.facade.getDuration()&&this.sendNotification(d.MEDIA_SEQUENCE_ABORTED);this.started=!1;this.setAutoplay(a.autoplay);this.setType(a.type);this.setIsLive(a.isLive);this.setTemporalType(a.temporalType);null!=a.source&&this.setSource(a.source);null!=a.src&&this.setSrc(a.src);this.setTitle(a.title);this.setDuration(a.duration);this.setPoster(a.poster);this.setGUID(a.guid);this.setLink(a.link);this.setEmbed(a.embed);this.setWidth(a.width);this.setHeight(a.height);this.setCategory(a.category);this.setStartTime(a.startTime);
this.setDescription(a.description);this.setStatus(a.status);this.setCategory(a.category);this.setMetadata(a.metadata);this.setAuthorization(a.authorization);this.setMedium(a.medium);this.setPubDate(a.pubDate);this.setTrack(a.track);this.setScenes(a.scenes);this.setKeys(a.keys);this.setCues(a.cues);this.setRestriction(a.restriction);return this.data};q.prototype.transform=function(a){var b,c,e,h,d,p,f;null==a.src&&0<(null!=(e=a.source)?e.length:void 0)&&(c=this.facade.retrieveProxy(R.NAME)||this.facade,
null!=c&&(b=g.selectSource(a.source,function(a){return c.canPlayType(a)})),null!=(null!=b?b.src:void 0)&&""!==b.src&&(a.src=b.src,a.type=b.type));null==a.type&&(a.type=g.getMimeType(a.src));null==a.medium&&(a.medium=/audio/.test(a.type)?"audio":"video");null==a.temporalType&&(a.temporalType="vod");a.isLive="live"===a.temporalType||"dvr"===a.temporalType;if(null!=a.scenes)for(f=a.scenes,b=d=0,p=f.length;d<p;b=++d)e=f[b],e.start=isNaN(h=g.flattenTimecode(e.sceneStartTime))?0:h,e.end=isNaN(h=g.flattenTimecode(e.sceneEndTime))?
0:h,e.title=e.sceneTitle||"",e.description=e.sceneDescription||"",e.position=b+1;null==a.startTime&&(a.startTime=0);null==a.status&&(a.status={});null==a.metadata&&(a.metadata={});a.originalSrc=a.src;return a};q.prototype.updateData=function(a){var b,c;for(b in a)c=a[b],b in this.data&&(this.data[b]=c)};q.prototype.getGUID=function(){return this.data.guid};q.prototype.setGUID=function(a){return this.data.guid=a};q.prototype.getLink=function(){return this.data.link};q.prototype.setLink=function(a){return this.data.link=
a};q.prototype.getStartTime=function(){return this.data.startTime};q.prototype.setStartTime=function(a){return this.data.startTime=a};q.prototype.getEmbed=function(){return this.data.embed};q.prototype.setEmbed=function(a){return this.data.embed=a};q.prototype.getAutoplay=function(){return this.data.autoplay};q.prototype.setAutoplay=function(a){return this.data.autoplay=a};q.prototype.getPubDate=function(){return this.data.pubDate};q.prototype.setPubDate=function(a){return this.data.pubDate=a};q.prototype.getCategory=
function(){return this.data.category};q.prototype.setCategory=function(a){return this.data.category=a};q.prototype.getStatus=function(){return this.data.status};q.prototype.setStatus=function(a){null==a&&(a={});return this.data.status=a};q.prototype.getSrc=function(){return this.facade.security.createURL(this.data.src)};q.prototype.setSrc=function(a){return this.data.src=a};q.prototype.getType=function(){return this.data.type};q.prototype.setType=function(a){return this.data.type=a};q.prototype.getMedium=
function(){return this.data.medium};q.prototype.setMedium=function(a){if(a!==this.data.medium)return this.data.medium=a,this.facade.retrieveProxy(t.NAME).setMedium(a)};q.prototype.getMetadata=function(){return this.data.metadata};q.prototype.setMetadata=function(a){return this.data.metadata=a};q.prototype.getSource=function(){return this.data.source};q.prototype.setSource=function(a){return this.data.source=a};q.prototype.getTrack=function(){return this.data.track};q.prototype.setTrack=function(a){return this.data.track=
a};q.prototype.getTitle=function(){return this.data.title};q.prototype.setTitle=function(a){return this.data.title=a};q.prototype.getWidth=function(){return this.data.width};q.prototype.setWidth=function(a){return this.data.width=a};q.prototype.getHeight=function(){return this.data.height};q.prototype.setHeight=function(a){return this.data.height=a};q.prototype.getDescription=function(){return this.data.description};q.prototype.setDescription=function(a){return this.data.description=a};q.prototype.getCategory=
function(){return this.data.category};q.prototype.setCategory=function(a){return this.data.category=a};q.prototype.getDuration=function(a){return this.data.duration};q.prototype.setDuration=function(a){var b;if(0!==a&&"live"!==this.data.temporalType&&(b=navigator.userAgent,1!==a||!/Android/.test(b)||/Android.*Chrome/.test(b)))return a!==this.data.duration&&(this.data.duration=a,this.sendNotification(d.TIME_CHANGE,{duration:a})),Infinity===a&&this.setTemporalType("live"),a};q.prototype.getPoster=function(a){return this.data.poster};
q.prototype.setPoster=function(a){this.data.poster=a};q.prototype.getIsLive=function(){return this.data.isLive};q.prototype.setIsLive=function(a){if(a!==this.data.isLive)return this.data.isLive=a,this.sendNotification(d.IS_LIVE,a),a};q.prototype.getTemporalType=function(){return this.data.temporalType||"vod"};q.prototype.setTemporalType=function(a){var b;a!==this.data.temporalType&&(b=this.data.temporalType,this.data.temporalType=a,this.sendNotification(d.TEMPORAL_TYPE_CHANGE,{previous:b,value:a}))};
q.prototype.getScenes=function(){return this.data.scenes};q.prototype.setScenes=function(a){return this.data.scenes=a};q.prototype.getCues=function(){return this.data.cues};q.prototype.setCues=function(a){null==a&&(a=[]);if(this.data.cues!==a)return this.data.cues=a,this.sendNotification(d.CUES_CHANGE,a),a};q.prototype.getScene=function(a){var b,c,e,h;if(null!=this.data.scenes)for(h=this.data.scenes,b=c=0,e=h.length;c<e;b=++c)if(b=h[b],b.start<=a&&a<b.end)return b};q.prototype.getKeys=function(){return this.data.keys};
q.prototype.setKeys=function(a){this.data.keys=a};q.prototype.getAuthorization=function(){return this.data.authorization};q.prototype.setAuthorization=function(a){this.data.authorization=a};q.prototype.getRestriction=function(){return this.data.restriction};q.prototype.setRestriction=function(a){null==a&&(a=[]);this.data.restriction=a};var ea=function(){ea.__super__.constructor.call(this,this.constructor.NAME,{});this.setupHDN1();Object.defineProperties(this,{authorized:{get:this.getAuthorized,enumerable:!0,
configurable:!1}})};f(ea,puremvc.Proxy);ea.NAME="SecurityProxy";ea.prototype.authorized=!0;ea.prototype.timeout=null;ea.prototype.setupHDN1=function(){var a=this;return window.retrieveToken=function(b,c){var e;try{a.facade.logger.debug("[AMP AUTH] HDN1: Token Requested",b,c),e=a.getToken(),null!=e?a.facade.getMediaElement().tokenRetrievalSuccess("\x26primaryToken\x3d"+e):a.sendNotification(Ka.AUTHORIZE)}catch(h){a.facade.logger.error("[AMP AUTH ERROR]: Token Retrival Error",h)}return!0}};ea.prototype.setMedia=
function(a){this.setSession(null);this.setAuthorized("blocked"!==a.status.state&&0===a.restriction.length);this.setAuthorization(a.authorization)};ea.prototype.authorize=function(a){this.setAuthorization(a);this.sendNotification(Ka.AUTHORIZED,a)};ea.prototype.getAuthorization=function(){return this.data};ea.prototype.setAuthorization=function(a){null!=(null!=a?a.token:void 0)&&this.setAuthorized(!0);this.data=a||{};null!=this.data.expiration&&this.setExpiration(this.data.expiration);return a};ea.prototype.getKey=
function(){return this.data.key};ea.prototype.setKey=function(a){return this.data.key=a};ea.prototype.getToken=function(){return this.data.token};ea.prototype.setToken=function(a){return this.data.token=a};ea.prototype.getExpiration=function(){return this.data.expiration};ea.prototype.setExpiration=function(a){this.data.expiration=a;this.data.expiration>Date.now()&&this.startTimeout();return a};ea.prototype.startTimeout=function(){var a=this;g.getUTC().then(function(b){return a.timeout=setTimeout(function(){a.sendNotification(Ka.AUTHORIZATION_EXPIRED);
a.sendNotification(Ka.AUTHORIZE,{media:a.facade.getMedia()})},a.getExpiration()-b)})};ea.prototype.stopTimeout=function(){clearTimeout(this.timeout)};ea.prototype.getSecret=function(){var a;if(null==this.data.token)return null;a="";null!=this.data.token&&(a=""+this.data.token);null!=this.data.key&&(a=""+this.data.key+"\x3d"+a);return a};ea.prototype.createURL=function(a){var b;b=this.getSecret();null!=b&&(a+=/\?/.test(a)?"\x26":"?",a+=b);return a};ea.prototype.getAuthorized=function(){return this._authorized};
ea.prototype.setAuthorized=function(a){this.stopTimeout();return this._authorized=a};ea.prototype.getSession=function(){return this.session};ea.prototype.setSession=function(a){return this.session=a};var U={READY:"ready",PLAYING:"playing",PAUSED:"paused",ENDED:"ended",LOADING:"loading",WAITING:"waiting",ERROR:"error"},ua=function(){ua.__super__.constructor.call(this,this.constructor.NAME,{});this.data={};this.contextMap={};this.configurationMap={}};f(ua,puremvc.Proxy);ua.NAME="DataBindingProxy";ua.prototype.contextMap=
null;ua.prototype.configurationMap=null;ua.prototype.paramsProxy=null;ua.prototype.initialize=function(){this.paramsProxy=this.facade.retrieveProxy(Ib.NAME);this.update()};ua.prototype.registerContext=function(a){null!=a&&(this.contextMap[a.getContextName()]=a)};ua.prototype.retrieveContext=function(a){return this.contextMap[a]};ua.prototype.removeContext=function(a){var b;b=this.contextMap[a];delete this.contextMap[a];return b};ua.prototype.registerConfiguration=function(a){null!=a&&(this.configurationMap[a.getConfigurationName()]=
a,a.compile(this.context,!0))};ua.prototype.retrieveConfiguration=function(a){return this.configurationMap[a]};ua.prototype.removeConfiguration=function(a){var b;b=this.configurationMap[a];delete this.configurationMap[a];return b};ua.prototype.update=function(a){var b,c,e,h;this.data.now=Date.now();h=this.contextMap;for(e in h)b=h[e],-1!==(null!=a?"function"===typeof a.indexOf?a.indexOf(e):void 0:void 0)&&(this.data[e]=b.getContextData());this.paramsProxy.compile(this.data);b=this.paramsProxy.value;
for(c in b)a=b[c],this.data[c]=a;return this.data};ua.prototype.compile=function(a,b){var c,e,h,d,p;null==b&&(b=!1);this.update(a);e=this.data;d=this.paramsProxy.getConfigurationName();p=this.configurationMap;for(h in p)c=p[h],h!==d&&c.compile(e,b)};var rf={FLASH:"flash",HTML:"html"},ub={ACTIVE:"active",INACTIVE:"inactive"},Ia={REGISTER_PLUGINS:"registerPlugins",PLUGIN_REGISTERED:"pluginRegistered",PLUGINS_INITIALIZED:"pluginsinitialized"},t=function(){t.__super__.constructor.call(this);this.device=
g.getDevice();this.time={}};f(t,puremvc.Proxy);t.NAME="ApplicationStateProxy";t.prototype.displayState=V.NORMAL;t.prototype.playState=null;t.prototype.renderMode=null;t.prototype.activeState=null;t.prototype.seeking=!1;t.prototype.seekrequested=!1;t.prototype.waiting=!1;t.prototype.busy=!1;t.prototype.isUserActive=!1;t.prototype.device=null;t.prototype.volume=1;t.prototype.playbackTarget="amp";t.prototype.hasPostContent=!1;t.prototype.locked=!1;t.prototype.mediaElement=null;t.prototype.hidden=!1;
t.prototype.ended=!1;t.prototype.buffering=!1;t.prototype.time=null;t.prototype.playbackRate=1;t.prototype.getHasPostContent=function(){return this.hasPostContent};t.prototype.setHasPostContent=function(a){this.hasPostContent=a};t.prototype.getEnded=function(){return this.ended};t.prototype.setEnded=function(a){this.ended=a;!0===this.ended&&!0===this.seeking&&(this.seeking=!1)};t.prototype.getDisplayState=function(){return this.displayState};t.prototype.setDisplayState=function(a){var b;a!==this.displayState&&
(b=this.displayState,this.displayState=a,this.sendNotification(d.DISPLAY_STATE_CHANGE,{previous:b,value:this.displayState}))};t.prototype.getPlayState=function(){return this.playState};t.prototype.setPlayState=function(a){var b;!0===this.getWaiting()&&this.setWaiting(!1);if(a!==this.playState)switch(b=this.playState,this.playState=a,this.sendNotification(d.PLAY_STATE_CHANGE,{previous:b,value:this.playState}),a){case U.PLAYING:this.sendNotification(d.DISPATCH_EVENT,new D("playing"))}};t.prototype.getDevice=
function(){return this.device};t.prototype.getSeeking=function(){return this.seeking};t.prototype.setSeeking=function(a){a!==this.seeking&&(this.seeking=a,!1===this.seeking&&this.playState===U.PAUSED&&!0===this.getWaiting()&&this.setWaiting(!1))};t.prototype.getSeekRequested=function(){return this.seekrequested};t.prototype.setSeekRequested=function(a){a!==this.seekrequested&&(this.seekrequested=a)};t.prototype.getWaiting=function(){return this.waiting};t.prototype.setWaiting=function(a){var b,c=
this;a!==this.waiting&&(this.waiting=a,a=!0===this.waiting?d.ADD_APPLICATION_STATE:d.REMOVE_APPLICATION_STATE,this.sendNotification(a,U.WAITING),!0===this.waiting&&(this.facade.getMediaElement(),b=function(a){c.facade.removeEventListener("playing",b);c.facade.removeEventListener("canplaythrough",b);c.facade.removeEventListener("ended",b);c.setWaiting(!1)},this.facade.addEventListener("playing",b),this.facade.addEventListener("canplaythrough",b),this.facade.addEventListener("ended",b)))};t.prototype.getBusy=
function(){return this.busy};t.prototype.setBusy=function(a){a!==this.busy&&(this.busy=a,this.sendNotification(d.DISPATCH_EVENT,new D("busy",a)))};t.prototype.getLocked=function(){return this.locked};t.prototype.setLocked=function(a){this.locked=a};t.prototype.getBuffering=function(){return this.buffering};t.prototype.setBuffering=function(a){this.buffering=a};t.prototype.getIsUserActive=function(){return this.isUserActive};t.prototype.setIsUserActive=function(a){a!==this.isUserActive&&(this.isUserActive=
a)};t.prototype.getRenderMode=function(){return this.renderMode};t.prototype.setRenderMode=function(a){a!==this.renderMode&&(this.renderMode=a)};t.prototype.getMedium=function(){return this.medium};t.prototype.setMedium=function(a){var b;a!==this.medium&&(b=null!=this.medium?"medium-"+this.medium:this.medium,this.medium=a,this.sendNotification(d.MEDIUM_CHANGE,{previous:b,value:"medium-"+this.medium}))};t.prototype.getVolume=function(){return this.volume};t.prototype.setVolume=function(a){if(a!==this.volume)return this.volume=
a};t.prototype.getPlaybackTarget=function(){return this.playbackTarget};t.prototype.setPlaybackTarget=function(a){var b;a!==this.playbackTarget&&(b=this.playbackTarget,this.playbackTarget=a,"amp"!==a?this.getPlayState()!==U.PAUSED&&this.facade.pause():this.getPlayState()===U.PLAYING&&this.facade.play(),this.sendNotification(d.PLAYBACK_TARGET_CHANGE,{previous:b,value:this.playbackTarget}))};t.prototype.getActiveState=function(){return this.activeState};t.prototype.setActiveState=function(a){var b;
a!==this.activeState&&(b=this.activeState,this.activeState=a,this.sendNotification(d.ACTIVE_STATE_CHANGE,{previous:b,value:this.activeState}))};t.prototype.getMediaElement=function(){return this.mediaElement};t.prototype.setMediaElement=function(a){var b;a!==this.mediaElement&&(b=this.mediaElement,this.mediaElement=a,this.sendNotification(d.MEDIA_ELEMENT_CHANGE,{previous:b,value:this.mediaElement}))};t.prototype.getHidden=function(){return this.hidden};t.prototype.setHidden=function(a){var b;a!==
this.hidden&&(b=this.hidden,this.hidden=a,this.sendNotification(d.HIDDEN_CHANGE,{previous:b,value:this.hidden}))};t.prototype.getCurrentTime=function(){return this.time.currentTime};t.prototype.setCurrentTime=function(a){a!==this.time.currentTime&&(this.time.currentTime=a,this.sendNotification(d.TIME_UPDATE,a))};t.prototype.getDuration=function(){return this.time.duration};t.prototype.setDuration=function(a){a!==this.time.duration&&(this.time.duration=a,this.sendNotification(d.DURATION_CHANGE,a))};
t.prototype.getPlaybackRate=function(){return this.playbackRate};t.prototype.setPlaybackRate=function(a){a!==this.playbackRate&&(this.playbackRate=a)};var Xc=function(){Xc.__super__.constructor.call(this)};f(Xc,q);Xc.NAME="MediaProxy";Xc.prototype.setSource=function(a){if(!(null==a||1>a.length))return a=a.filter(function(a){return"external"===a.type}),Xc.__super__.setSource.call(this,a)};var za=function(){za.__super__.constructor.call(this)};f(za,puremvc.Proxy);za.NAME="PlaybackProxy";za.prototype.src=
null;za.prototype.getPlaybackCoreName=function(){return"external"};za.prototype.canPlayType=function(a){return"external"===a};za.prototype.canPlayTemporalType=function(a){return!0};za.prototype.getSrc=function(){return this.facade.mediaProxy.getSrc()};za.prototype.play=function(){window.open(this.getSrc(),"_blank")};za.prototype.load=function(){};za.prototype.setVolume=function(){};za.prototype.pause=function(){};za.prototype.setEnabled=function(){};za.prototype.getCurrentTime=function(){return 0};
za.prototype.setCurrentTime=function(a){};za.prototype.getDuration=function(){return 0};var ia={TOGGLE_PLAY_PAUSE:"usertogglePlayPause",PLAY:"userplay",PAUSE:"userpause",SEEK:"userseek",SEEKED:"userseeked",GO_LIVE:"usergolive"},Z=function(a){Z.__super__.constructor.call(this,a)};f(Z,pa);Z.NAME=F.NAME;Z.prototype.enabled=!0;Z.prototype.plugin=null;Z.prototype.appState=null;Z.prototype.getDefaults=function(){var a;a=Z.__super__.getDefaults.call(this);null==a.debug&&(a.debug=null);return a};Z.prototype.initializeNotifier=
function(a){Z.__super__.initializeNotifier.call(this,a);this.appState=this.facade.player.appState};Z.prototype.getMediaElement=function(){return this.facade.player.getMediaElement()};Z.prototype.setEnabled=function(a){return this.enabled=a};Z.prototype.getEnabled=function(){return this.enabled};Z.prototype.getDebug=function(){return null!=this.value.debug?this.value.debug:!0===this.facade.player.getConfig().debug};Z.prototype.createPlugin=function(){};Z.prototype.initialize=function(){this.plugin=
this.createPlugin()};Z.prototype.error=function(a){this.facade.logger.error("[AMP "+this.facade.getModuleName().toUpperCase()+" Error]",a)};var wd={PREFIX:"akamai-"},Q=function(){Q.__super__.constructor.call(this)};f(Q,E);Q.prototype.player=null;Q.prototype.proxy=null;Q.prototype.initialize=function(a,b){this.player=b;this.logger=this.player.logger;Q.__super__.initialize.call(this,a,b)};Q.prototype.isAvailable=function(){return!0};Q.prototype.loadModuleResources=function(){return this.isAvailable()?
Q.__super__.loadModuleResources.call(this):Promise.resolve()};Q.prototype.resourcesLoaded=function(){if("function"===typeof this.oninitialized)this.oninitialized(this)};Q.prototype.onRegister=function(){var a;this.isAvailable()&&(this.createFramework(),null!=(a=this.retrieveProxy(Z.NAME))&&"function"===typeof a.initialize&&a.initialize());this.performance.ready=Date.now();this.sendNotification(Ia.PLUGIN_REGISTERED,this)};Q.prototype.logEvent=function(a){var b;!0!==/(timeupdate|timeremaining)/.test(a.type)&&
(b=this.player.getModuleName().toUpperCase()+" "+this.getModuleName().toUpperCase(),null!=a.dispatcher&&(b+=" "+a.dispatcher),this.logger.log("["+b+" EVENT] "+a.type,a))};Q.prototype.listNotificationPublications=function(){var a,b;return[d.ADD_LAYER,d.REMOVE_LAYER,d.ADD_OVERLAY,d.REMOVE_OVERLAY,d.ADD_APPLICATION_STATE,d.REMOVE_APPLICATION_STATE,d.IS_USER_ACTIVE,d.PLAYBACK_CORE_CHANGE].concat(function(){var c;c=[];for(a in Ia)b=Ia[a],c.push(b);return c}())};var nc=function(){nc.__super__.constructor.call(this)};
f(nc,C);nc.prototype.execute=function(a){this.applicationState.setPlayState(a.getBody())};var Sc=function(){Sc.__super__.constructor.call(this)};f(Sc,C);Sc.prototype.execute=function(a){try{this.media.setData(a.getBody())}catch(b){this.sendNotification(d.ERROR,b.message);return}this.sendNotification(d.UPDATE_DATA_BINDINGS);a=this.media.getData();this.security.setMedia(a);this.security.getAuthorized()?this.sendNotification(Ka.AUTHORIZED,this.security.getAuthorization()):this.sendNotification(Ka.AUTHORIZE,
{media:a})};var Rc=function(){Rc.__super__.constructor.call(this)};f(Rc,C);Rc.prototype.execute=function(a){var b,c=this;a=a.getBody();this.applicationState.setBuffering(!1);this.applicationState.setEnded(!1);this.playback.setEnabled(!1);this.playback.pause();null!=(b=this.tracks)&&b.clear();this.sendNotification(d.HAS_POST_CONTENT,!1);this.sendNotification(d.CHANGE_PLAY_STATE,U.READY);this.sendNotification(d.CHANGE_ACTIVE_STATE,ub.ACTIVE);a=this.media.transform(a);this.facade.transform(jc.MEDIA,
a).then(function(a){return c.sendNotification(d.CHANGE_MEDIA,a)})["catch"](function(a){return c.sendNotification(d.ERROR,a)})};var oc=function(){oc.__super__.constructor.call(this)};f(oc,v);oc.prototype.execute=function(a){var b,c;b=a.getBody();this.playerCore.setPlaybackCore(b);c=this.playerCore.getActivePlaybackCore()||this.player.playback;c.reset();c.setCurrentTime(b.startTime||0);oc.__super__.execute.call(this,a)};var Uc=function(){Uc.__super__.constructor.call(this)};f(Uc,C);Uc.prototype.execute=
function(a){a=a.getBody();this.media.getDuration()!==a&&this.media.setDuration(a)};var qc=function(){qc.__super__.constructor.call(this)};f(qc,v);qc.prototype.execute=function(a){var b;this.playback.destroy();b=this.playback.getMediaElement();G.clear(b);b=a.getBody();this.logger.error("[AMP ERROR]",b);this.sendNotification(d.CHANGE_PLAY_STATE,U.ERROR);this.facade.error=b;qc.__super__.execute.call(this,a)};var Tc=function(){Tc.__super__.constructor.call(this)};f(Tc,v);Tc.prototype.execute=function(a){var b,
c,e=this;b=null!=(c=this.facade.config)?c.volume:void 0;null!=b&&this.sendNotification(d.CHANGE_VOLUME,b);this.playerCore.ready();!0===this.facade.config.autoplay&&this.sendNotification(d.ADD_APPLICATION_STATE,"autoplay");this.sendNotification(d.CHANGE_DISPLAY_STATE,V.NORMAL);this.sendNotification(d.CHANGE_PLAY_STATE,U.READY);this.sendNotification(d.CHANGE_ACTIVE_STATE,ub.ACTIVE);this.dispatchEventAfterCommand(a).then(function(){var a,b;a=null!=(b=e.facade.config)?b.media:void 0;if(null!=a)return e.sendNotification(d.SET_MEDIA,
a)})};var pc=function(){pc.__super__.constructor.call(this)};f(pc,C);pc.prototype.execute=function(a){a=a.getBody()||{};this.bindings.compile(a.contexts,a.suppressErrors)};var Vc=function(){Vc.__super__.constructor.call(this)};f(Vc,C);Vc.prototype.execute=function(a){this.params.setData(a.getBody());this.sendNotification(d.UPDATE_DATA_BINDINGS,{suppressErrors:!0})};var nb=function(){nb.__super__.constructor.call(this)};f(nb,pb);nb.prototype.componentName="overlays";nb.NAME="OverlayLayerMediator";
nb.prototype.createMediatorName=function(){return nb.NAME};nb.prototype.listNotificationInterests=function(){return[d.ADD_OVERLAY,d.REMOVE_OVERLAY]};nb.prototype.handleNotification=function(a){var b;b=a.getName();a=a.getBody();switch(b){case d.ADD_OVERLAY:this.viewComponent.appendChild(a);break;case d.REMOVE_OVERLAY:this.viewComponent.removeChild(a)}};var Ja=function(){this.plugins=[];this.registered=0;Ja.__super__.constructor.call(this,this.constructor.NAME,{})};f(Ja,puremvc.Mediator);Ja.NAME="PluginAdapter";
Ja.prototype.plugins=null;Ja.prototype.registered=null;Ja.prototype.onRegister=function(){return Ja.__super__.onRegister.call(this)};Ja.prototype.listNotificationInterests=function(){return[Ia.REGISTER_PLUGINS,Ia.PLUGIN_REGISTERED]};Ja.prototype.handleNotification=function(a){var b,c,e,h,d,p,f,g,k=this;c=a.getName();a=a.getBody();switch(c){case Ia.REGISTER_PLUGINS:p=this.facade.getPlayerType();g=r.plugins;for(h in g)if(f=g[h],h in a&&(c=a[h],null!=c&&!1!==c.enabled))if(b=f[p],null==b)this.facade.logger.debug("[AMP] Plugin could not be found: "+
h);else try{d=new b,d.oninitialized=this.onplugininitialized.bind(this,h),d.onerror=this.onpluginerror.bind(this,h),e=d.initialize.bind(d,c,this.facade),this.plugins.push(e)}catch(l){this.logger.error("[AMP] Plugin could not be created: "+h+". "+l)}d=a.plugins||{};for(h in d)c=d[h],null!=c&&!1!==c.enabled&&(e=function(a,c,e,h,d){return k.facade.loadResources(c.resources).then(function(){b=r.plugins[e][p];null==b&&d("[AMP] Plugin could not be found: "+e);return b(a,c,e)}).then(h)["catch"](d)},this.plugins.push(e.bind(null,
this.facade,c,h,this.onpluginregistered.bind(this,h),this.onpluginerror.bind(this,h))));this.plugins.forEach(function(a){return a()});break;case Ia.PLUGIN_REGISTERED:this.onpluginregistered(a.getModuleName(),a)}};Ja.prototype.initializedCheck=function(){this.registered===this.plugins.length&&this.sendNotification(Ia.PLUGINS_INITIALIZED,this.plugins)};Ja.prototype.onplugininitialized=function(a,b){b.oninitialized=null;b.onerror=null;this.facade.registerModule(b)};Ja.prototype.onpluginerror=function(a,
b){this.registered++;this.facade.logger.error("[AMP] Plugin could not be registered: "+a);this.facade.logger.error(b);this.initializedCheck()};Ja.prototype.onpluginregistered=function(a,b){var c;this.registered++;this.facade.logger.debug("[AMP] Plugin registered: "+a);this.facade[a]=b;c=("function"===typeof b.getFeatureName?b.getFeatureName():void 0)||b.feature;null!=c&&(this.facade[c]=b);this.initializedCheck()};var ab=function(a){this.element=a};ab.prototype.element=null;ab.prototype.prefix=wd.PREFIX;
ab.prototype.contains=function(a){return this.constructor.contains(a,this.element,this.prefix)};ab.prototype.add=function(a){this.constructor.add(a,this.element,this.prefix)};ab.prototype.remove=function(a){this.constructor.remove(a,this.element,this.prefix)};ab.prototype.toggle=function(a){return this.constructor.contains(a,this.element,this.prefix)};ab.contains=function(a,b,c){var e;null==c&&(c="");a=c+a;return null!=(null!=(e=b.classList)?e.contains:void 0)?b.classList.contains(a):-1!==b.className.indexOf(a)};
ab.add=function(a,b,c){var e;null==c&&(c="");c+=a;null!=(null!=(e=b.classList)?e.add:void 0)?b.classList.add(c):this.contains(a,b)||(b.className=""!==b.className?b.className+(" "+c):c)};ab.remove=function(a,b,c){var e;null==c&&(c="");c+=a;null!=(null!=(e=b.classList)?e.remove:void 0)?b.classList.remove(c):this.contains(a,b)&&(a=RegExp(" ?"+c),b.className=b.className.replace(a,""))};ab.toggle=function(a,b,c){var e;null!=(null!=(e=b.classList)?e.toggle:void 0)?b.classList.toggle(this.prefix+a):this.contains(a,
b)?this.remome(a,b):this.add(a,b)};var $=function(a){var b,c;$.__super__.constructor.call(this);this.data={language:navigator.language||navigator.browserLanguage,locales:bb.defaults.locales};if(null!=a&&(null!=a.language&&(this.data.language=a.language),null!=a.locales))for(c in a.locales)if(null!=this.data.locales[c])for(b in a.locales[c])this.data.locales[c][b]=a.locales[c][b];else this.data.locales[c]=a.locales[c]};f($,yb);$.NAME="LocalizationProxy";$.prototype.contextName="l10n";$.prototype.locale=
null;$.prototype.localeId=null;$.prototype.onRegister=function(){$.__super__.onRegister.call(this);this.setLocale(this.data.language)};$.prototype.getContextData=function(){return this.locale};$.prototype.getLanguage=function(){return this.data.language};$.prototype.setLanguage=function(a){var b=this;this.setLocale(a).then(function(){b.data.language=a;b.sendNotification(d.LANGUAGE_CHANGE,a)});return a};$.prototype.setLocale=function(a){var b=this;return new Promise(function(c,e){var h,d,p;h=function(){b.localeId=
p;b.locale=b.facade.l10n=b.data.locales[p];c()};p=a;d=b.data.locales[p];null==d&&(p=a.substring(0,2),d=b.data.locales[p]);return"string"===typeof d?r.addResource({src:b.facade.evaluatePaths(d),type:g.mimeTypes.json}).then(function(a){b.data.locales[p]=a.data;return h()}):h()})};$.prototype.getLocaleId=function(){return this.localeId};$.prototype.getLocales=function(){return this.data.locales};$.prototype.setLocales=function(a){return this.data.locales=a};$.prototype.getString=function(a,b){var c,
e;try{return c=this.locale||this.data.locales.en,e=c[a]||a,null!=b&&(e=Wa.evaluateBindings(e,b)),e}catch(h){return""}};$.prototype.getLanguageString=function(a){var b;if("string"!==typeof a||null==a||""===a)return"";b="MSG_"+a.toUpperCase();b=this.getString(b);""===b&&(a=a.split("-").shift(),b="MSG_"+a.toUpperCase(),b=this.getString(b));return b};var Xa=function(){};Xa.create=function(a,b,c,e){var h,d,p,f,g;null==c&&(c="div");"string"===typeof c&&(c=document.createElement(c));h=new ab(c);if(null!=
a)for("string"===typeof a&&(a=[a]),f=0,g=a.length;f<g;f++)d=a[f],h.add(d);c._classList=h;null!=e&&(null!=c.innerText?c.innerText=e:c.textContent=e);null!=b&&(null!=b.getViewComponent&&(p=b.getViewComponent()),null!=p&&(b=p),b.appendChild(c));return c};Xa.bindEvents=function(a,b,c){var e,h;null==c&&(c=["onRemove","onRegister"]);for(e in b)h=b[e],0<=ud.call(c,e)||!/^on/.test(e)||null==(null!=h?h.bind:void 0)||(a[e]=h.bind(b))};Xa.createUID=function(a){var b,c;null==a&&(a=16);b=Date.now();c=2*a-1;return(Math.round(Math.random()*
c+a).toString(16)+b.toString(16)).toUpperCase()};var tc=function(){tc.__super__.constructor.call(this)};f(tc,v);tc.prototype.execute=function(a){this.sendNotification(d.PLAY_REQUEST);this.playback.play();tc.__super__.execute.call(this,a)};var L=function(a,b,c){L.__super__.constructor.call(this,a,b,c)};f(L,l);L.prototype.playerType="external";L.prototype.createModel=function(){var a;L.__super__.createModel.call(this);this.registerProxy(new $(this.config));a=new za;this.registerProxy(a);this.playerCore=
new R(a);this.registerProxy(this.playerCore);this.bindings.initialize()};L.prototype.createView=function(){var a,b=this;this.registerMediator(new wa("external",this.getViewComponent()));this.registerMediator(new Ja);a=new nb;this.registerMediator(a);G.create(a.viewComponent,G.CLICK,function(){return b.sendNotification(d.TOGGLE_ACTIVE)})};L.prototype.createController=function(){L.__super__.createController.call(this);this.registerCommand(d.UPDATE_DATA_BINDINGS,pc);this.registerCommand(ia.TOGGLE_PLAY_PAUSE,
tc);this.registerCommand(d.PLAY,tc);this.registerCommand(d.CHANGE_PLAY_STATE,nc);this.registerCommand(d.SET_MEDIA,Rc);this.registerCommand(d.CHANGE_MEDIA,Sc);this.registerCommand(d.MEDIA_CHANGE,oc);this.registerCommand(d.MEDIA_VALIDATED,Hc);this.registerCommand(d.ERROR,qc);this.registerCommand(Ia.PLUGINS_INITIALIZED,Ec);this.registerCommand(d.READY,Tc);this.registerCommand(d.CHANGE_PARAMS,Vc)};L.prototype.createMediaElement=function(){return document.createElement("div")};L.prototype.canPlayType=
function(a){return"maybe"};L.prototype.play=function(){this.sendNotification(d.PLAY)};L.prototype.setParams=function(a){this.sendNotification(d.CHANGE_PARAMS,a);return a};L.prototype.getParams=function(){return this.retrieveProxy(Ib.NAME).getData()};L.prototype.setAutoplay=function(a){return!1};L.prototype.getAutoplay=function(){return!1};L.prototype.setLoop=function(a){return!1};L.prototype.getLoop=function(){return!1};L.prototype.setMuted=function(a){return!1};L.prototype.getMuted=function(){return!1};
L.prototype.setMedia=function(a){this.sendNotification(d.SET_MEDIA,a);return a};L.prototype.getMedia=function(a){var b;return null!=(b=this.retrieveProxy(q.NAME))?b.getData():void 0};L.prototype.setCurrentTime=function(a){return 0};L.prototype.getCurrentTime=function(a){return 0};L.prototype.getDuration=function(a){return this.retrieveProxy(q.NAME).getDuration()};L.prototype.setSrc=function(a){this.sendNotification(d.SET_MEDIA,{src:a});return a};L.prototype.getSrc=function(a){return this.retrieveProxy(q.NAME).getSrc()};
L.prototype.setSource=function(a){this.sendNotification(d.SET_MEDIA,{source:a});return a};L.prototype.getSource=function(){return this.retrieveProxy(q.NAME).getSource()};L.prototype.setVolume=function(a){return a};L.prototype.getVolume=function(a){return 1};L.prototype.getSeeking=function(){return!1};L.prototype.getPaused=function(){return!1};L.prototype.getEnded=function(){return!1};var D=function(a,b){this.type=a;null!=b&&(this.detail=this.data=b)};D.prototype.type=null;D.prototype.target=null;
D.prototype.detail=null;var Y=function(a){this.enabled=a;this.enabled||(this.log=this.trace=this.debug=this.info=this.warn=this.error=this.fatal=function(){})};Y.prototype.log=function(){try{1<arguments.length&&null!=arguments[1]?console.log.apply(console,arguments):console.log(arguments[0])}catch(a){}};Y.prototype.trace=function(){try{console.trace.apply(console,arguments)}catch(a){}};Y.prototype.debug=function(){try{console.log.apply(console,arguments)}catch(a){this.log.apply(this,arguments)}};
Y.prototype.info=function(){try{console.info.apply(console,arguments)}catch(a){}};Y.prototype.warn=function(){try{console.warn.apply(console,arguments)}catch(a){}};Y.prototype.error=function(){try{console.error.apply(console,arguments)}catch(a){this.log.apply(this,arguments)}};Y.prototype.fatal=function(){try{console.fatal.apply(console,arguments)}catch(a){}};var la=function(a,b,c,e){this.url=a;this.interval=null!=b?b:1E4;this.type=null!=c?c:null;this.headers=null!=e?e:null;la.__super__.constructor.call(this)};
f(la,Fa);la.prototype.timeout=null;la.prototype.interval=null;la.prototype.url=null;la.prototype.lastModified=null;la.prototype.contentLenght=null;la.prototype.data=null;la.prototype.text=null;la.prototype.type=null;la.prototype.headers=null;la.prototype.useHeadRequest=!0;la.prototype.xhr=null;la.prototype.start=function(){null!=this.url&&""!==this.url&&this.poll()};la.prototype.poll=function(){var a,b=this;a=g.getXHR();this.useHeadRequest?(a.onload=function(c){var e;304===a.status?b.invoke():(e=
a.getResponseHeader("Last-Modified"),c=a.getResponseHeader("Content-Length"),null==e&&null==c||null!=e&&e!==b.lastModified||null!=c&&c!==b.contentLength?(b.lastModified=e,b.contentLength=c,b.updateData()):b.invoke())},a.onerror=function(a){b.error(a)},a.open("HEAD",g.cacheBust(this.url),!1),this.applyHeaders(),null!=this.lastModified&&a.setRequestHeader("If-Modified-Since",this.lastModified),a.send()):this.updateData()};la.prototype.applyHeaders=function(){null!=this.headers&&this.xhr.setRequestHeaders(this.headers)};
la.prototype.updateData=function(){var a,b=this;a=g.getXHR();a.open("GET",g.cacheBust(this.url),!0);a.onload=function(c){b.setText(a.responseText);b.invoke()};a.onerror=function(a){b.error(a)};this.applyHeaders();return a.send()};la.prototype.setText=function(a){var b;if(a!==this.text){b=this.text=a;if(this.type===g.mimeTypes.json)try{b=this.xhr.response}catch(c){b=this.text}this.setData(b)}return a};la.prototype.setData=function(a){a!==this.data&&(this.data=a,this.dispatchEvent(new D("datachange",
this.data)));return a};la.prototype.error=function(a){Y.error(event);this.stop()};la.prototype.invoke=function(){var a=this;this.stop();this.timeout=setTimeout(function(){a.poll()},this.interval)};la.prototype.stop=function(){clearTimeout(this.timeout)};var zb=function(){this.item=[];this.metadata={}};zb.prototype.title=null;zb.prototype.link=null;zb.prototype.description=null;zb.prototype.category=null;zb.prototype.pubDate=null;zb.prototype.language=null;zb.prototype.ttl=null;zb.prototype.item=null;
zb.prototype.metadata=null;var uc=function(){this.metadata={}};uc.prototype.src=null;uc.prototype.debug=null;uc.prototype.type=null;uc.prototype.metadata=null;var Aa={AUTO:"auto",HTML:"html",FLASH:"flash",EXTERNAL:"external",NONE:"none",HTML_AUTO:"html-auto"},qa=function(){return qa.__super__.constructor.apply(this,arguments)};f(qa,uc);qa.prototype.source=null;qa.prototype.title=null;qa.prototype.description=null;qa.prototype.link=null;qa.prototype.guid=null;qa.prototype.pubDate=null;qa.prototype.poster=
null;qa.prototype.thumbnail=null;qa.prototype.embed=null;qa.prototype.category=null;qa.prototype.type=null;qa.prototype.medium=null;qa.prototype.duration=null;qa.prototype.track=null;qa.prototype.metadata=null;qa.prototype.scenes=null;qa.prototype.startTime=null;var La=function(a,b){this.element=a;this.timeout=b;La.__super__.constructor.call(this);this.resetHandler=this.reset.bind(this)};f(La,Fa);La.prototype.events="mousemove mousedown keypress DOMMouseScroll mousewheel touchmove MSPointerMove".split(" ");
La.prototype.resetHandler=null;La.prototype.element=null;La.prototype.timeout=null;La.prototype.active=!0;La.prototype.timeoutId=null;La.prototype.applyListeners=function(a){var b,c,e,h;null==a&&(a="add");h=this.events;c=0;for(e=h.length;c<e;c++)b=h[c],this.element[""+a+"EventListener"](b,this.resetHandler)};La.prototype.start=function(a){null!=a&&(this.timeout=a);this.stop();this.applyListeners("add");this.timeoutId=setTimeout(this.setActive.bind(this,!1),this.timeout)};La.prototype.stop=function(){this.applyListeners("remove");
clearTimeout(this.timeoutId)};La.prototype.reset=function(){this.setActive(!0);this.start()};La.prototype.setActive=function(a){if(a!==this.active)return this.active=a,this.dispatchEvent(new D("activechange",{active:this.active})),a};La.prototype.getActive=function(){return this.active};var xb=function(){};xb.prototype.getFeed=function(a){return g.getFeed(a)};xb.prototype.getMediaNode=function(a,b,c){var e,h,d,f;null==c&&(c=!0);d="media-"+b;e=a["media-group"]||a;h=e["media-content"];null!=h&&null!=
h[d]?f=h[d]:null!=e[d]?f=e[d]:null!=a[d]?f=a[d]:null!=a[b]&&c&&(f=a[b]);return f};xb.prototype.createEmbed=function(a){var b,c,e,h,d,f;try{b=this.getMediaNode(a,"embed");if(null==b)return c;c={};c.url=b["@attributes"].url;c.width=b["@attributes"].width;c.height=b["@attributes"].height;c.params={};b["media-param"]instanceof Array||(b["media-param"]=[b["media-param"]]);f=b["media-param"];h=0;for(d=f.length;h<d;h++)e=f[h],c.params[e["@attributes"].name]=e["#text"]}catch(g){Y.error("[AMP Feed Parse Error] embed parse error: "+
g.message,g)}return c};xb.prototype.createFeed=function(a){var b,c,e,h,d,f,g,k,l;try{if(b=a.channel,c=new zb,null!=b){c.title=b.title;c.description=b.description;c.language=b.language;c.category=b.category;c.pubDate=new Date(Date.parse(b.pubDate));c.ttl=b.ttl;h=b.item instanceof Array?b.item:[b.item];k=0;for(l=h.length;k<l;k++)e=h[k],f=this.createMedia(e),c.item.push(f);for(d in b)g=b[d],d in c||(c.metadata[d]=g)}}catch(m){Y.error("[AMP Feed Parse Error] feed parse error: "+m.message,m)}return c};
xb.prototype.createMedia=function(a){var b,c,e,h,d,f,g,k,l,m,n,q,r,s,t,u,v,w,x,y,A,B,C;try{g=new qa;f=this.getMediaNode(a,"content");if(f instanceof Array)for(g.source=[],r=0,v=f.length;r<v;r++)e=f[r],m={src:e["@attributes"].url,type:e["@attributes"].type},c=e["media-category"],null!=c&&(b=c["@attributes"],"http://mrss.akamai.com/user_agent_hint"===b.schema&&(d=b.label||c["#text"],null!=d&&""!==d&&(null==m.rules&&(m.rules=[]),m.rules.push(d)))),g.source.push(m),g.medium=e["@attributes"].medium,g.duration=
parseFloat(e["@attributes"].duration);else g.type=f["@attributes"].type,g.src=f["@attributes"].url,g.medium=f["@attributes"].medium,g.duration=parseFloat(f["@attributes"].duration);g.guid=a.guid;g.title=this.getMediaNode(a,"title");g.link=a.link;g.description=this.getMediaNode(a,"description");g.pubDate=new Date(Date.parse(a.pubDate));g.thumbnail=g.poster=null!=(A=this.getMediaNode(a,"thumbnail"))?null!=(B=A["@attributes"])?B.url:void 0:void 0;g.embed=this.createEmbed(a);g.scenes=null!=(C=this.getMediaNode(a,
"scenes"))?C["media-scene"]:void 0;k=this.getMediaNode(a,"status",!1);null!=k&&(g.status={state:k["@attributes"].state,reason:k["@attributes"].reason});k=this.getMediaNode(a,"restriction",!1);if(null!=k)for(k instanceof Array||(k=[k]),g.restriction=[],s=0,w=k.length;s<w;s++)l=k[s],g.restriction.push({relationship:l["@attributes"].relationship,type:l["@attributes"].type,value:l["#text"].split(" ")});g.category=a.category;g.category instanceof Array||(g.category=[g.category]);k=this.getMediaNode(a,
"category",!1);if(null!=k)for(t=0,x=k.length;t<x;t++)c=k[t],null!=c["#text"]&&""!==c["#text"]&&g.category.push(c["#text"]);null!=g.category&&g.category.sort(function(a,b){a=a.toLowerCase();b=b.toLowerCase();return a>b?1:a<b?-1:0});k=this.getMediaNode(a,"subTitle");if(null!=k)for(null==g.track&&(g.track=[]),k instanceof Array||(k=[k]),u=0,y=k.length;u<y;u++)n=k[u],null!=n["@attributes"]&&g.track.push({src:n["@attributes"].href,type:n["@attributes"].type,kind:"captions",srclang:n["@attributes"].lang||
"en"});c=a.category;c instanceof Array||(c=[c]);g.isLive="live"===a.temporalType||null!=c&&-1!==c.join(",").indexOf("live_stream");g.temporalType=g.isLive?"live":a.temporalType||"vod";for(h in a)q=a[h],h in g||(g.metadata[h]=q)}catch(D){Y.error("[AMP Feed Parse Error] media parse error: "+D.message,D)}return g};var Wd=function(){};Wd.setCookie=function(a,b,c,e,h){var d;b=escape(b);null!=c&&(d=new Date,d.setDate(d.getDate()+c),b+="; expires\x3d"+d.toUTCString());null!=h&&(b+="; domain\x3d"+h);null!=
e&&(b+="; path\x3d"+e);return document.cookie=a+"\x3d"+b};Wd.getCookie=function(a){var b,c,e,h,d,f;c=document.cookie.split(";");d=0;for(f=c.length;d<f;d++)if(b=c[d],e=b.indexOf("\x3d"),h=b.substr(0,e).replace(/^\s+|\s+$/g,""),b=unescape(b.substr(e+1)),h===a)return b};Wd.deleteCookie=function(a){return this.setCookie(a,"",-1)};var ra=function(){ra.__super__.constructor.call(this)};f(ra,Fa);ra.prototype.xhr=null;ra.prototype.headers=null;ra.prototype.response=null;ra.prototype.responseXML=null;ra.prototype.responseText=
null;ra.prototype.responseType=null;ra.prototype.withCredentials=!1;ra.prototype.readyState=0;ra.prototype.status=null;ra.prototype.open=function(a,b){var c,e,h=this;try{e=new XMLHttpRequest}catch(d){e=new window.ActiveXObject("Microsoft.XMLHTTP")}if(ra.isCORS(b))if(Object.prototype.hasOwnProperty.call(e,"withCredentials"))try{e.withCredentials=this.withCredentials}catch(f){Y.warn("[AMP XHR WARNING]","withCredentials not properly supported in this browser.",f)}else"undefined"!==typeof XDomainRequest&&
(c=!0,e=new XDomainRequest);if(null!=e){c&&(e.onprogress=function(){},e.ontimeout=function(){},e.onerror=function(){},e.onload=function(a){"function"===typeof e.onreadystatechange&&(e.readyState=4,e.status=200,e.contentType.match(/\/xml/)&&(e.responseXML=new ActiveXObject("Microsoft.XMLDOM"),e.responseXML.async=!1,e.responseXML.loadXML(e.responseText)),e.onreadystatechange.call(e,a,!1))});e.onreadystatechange=function(a){var b,c;h.readyState=e.readyState;h.dispatchEvent(new D("readystatechange",e));
if(4===e.readyState)if(h.status=e.status,199<(b=h.status)&&400>b||0===h.status){null==e.responseText&&(e.responseText=e.text);h.responseText=e.responseText;if(null!=e.responseXML&&0<(null!=(c=e.responseXML.childNodes)?c.length:void 0))h.response=h.responseXML=e.responseXML,h.responseType="document";else try{h.response=JSON.parse(e.responseText),h.responseType="json"}catch(d){h.response=e.responseText,h.responseType="text"}h.dispatchEvent(new D("load",h))}else 0!==h.status&&h.dispatchEvent(new D("error",
h))};try{"undefined"!==typeof e.onerror&&(e.onerror=function(a){h.dispatchEvent(new D("error",h))})}catch(g){}e.open(a,b)}this.xhr=e};ra.prototype.send=function(a){var b,c,e,h=this;if(null!=this.headers)for(b in e=this.headers,e)c=e[b],null!=b&&null!=c&&this.xhr.setRequestHeader(b,c);setTimeout(function(){h.xhr.send(a)},0)};ra.prototype.setRequestHeader=function(a,b){null!=a&&null!=b&&(null==this.headers&&(this.headers={}),this.headers[a]=b)};ra.prototype.setRequestHeaders=function(a){return this.headers=
a};ra.prototype.getResponseHeader=function(a){var b;return null!=(b=this.xhr)?"function"===typeof b.getResponseHeader?b.getResponseHeader(a):void 0:void 0};ra.prototype.getAllResponseHeaders=function(){var a;return null!=(a=this.xhr)?"function"===typeof a.getAllResponseHeaders?a.getAllResponseHeaders():void 0:void 0};ra.isCORS=function(a){var b,c;b=document.createElement("a");b.href=a;a=""!==b.hostname?b.hostname:location.hostname;c="0"!==b.port?b.port:location.port;return location.protocol!==(":"!==
b.protocol?b.protocol:location.protocol)||location.hostname!==a||location.port!==c&&!(""===location.port&&"80"===c)};var Rb=function(a,b){var c=this;this.delay=a;this.repeatCount=null!=b?b:0;Rb.__super__.constructor.call(this);this._running=!1;this._currentCount=0;this._startTime=this._timeout=null;this._currentTime=0;this.tick=this.tick.bind(this);this.next=setTimeout.bind(null,this.tick,this.delay);Object.defineProperties(this,{currentCount:{get:function(){return c._currentCount},enumerable:!0,
configurable:!1},running:{get:function(){return c._running},enumerable:!0,configurable:!1},time:{get:function(){return c._currentTime+(Date.now()-c._startTime)},enumerable:!0,configurable:!1}})};f(Rb,Fa);Rb.prototype.reset=function(){this.stop();this._currentTime=this._currentCount=0;this._startTime=null};Rb.prototype.start=function(){var a;!0!==this._running&&(a=this.delay-(this._currentTime-this.delay*this._currentCount),this._running=!0,this._timeout=setTimeout(this.tick,a))};Rb.prototype.stop=
function(){!1!==this._running&&(clearTimeout(this._timeout),this._currentTime+=Date.now()-this._startTime,this._timeout=null,this._running=!1)};Rb.prototype.tick=function(){var a;clearTimeout(this._timeout);a=0!==this.repeatCount&&this._currentCount>=this.repeatCount;this._currentCount++;this._currentTime+=this.delay;this._startTime=Date.now();!1===a&&(this._timeout=this.next());this.dispatchEvent(new D("timer",this));!0===a&&(this.stop(),this.dispatchEvent(new D("complete",this)))};var g=function(){};
g.blankImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjI2QkJDQTBCMzQ4MTFFMUFERDJBRkRGQUQwNTcxRTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjI2QkJDQTFCMzQ4MTFFMUFERDJBRkRGQUQwNTcxRTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowODg4NjdFQkIzNDgxMUUxQUREMkFGREZBRDA1NzFFMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowODg4NjdFQ0IzNDgxMUUxQUREMkFGREZBRDA1NzFFMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pu0++ecAAAAGUExURf///wAAAFXC034AAAABdFJOUwBA5thmAAAADElEQVR42mJgAAgwAAACAAFPbVnhAAAAAElFTkSuQmCC";
g.mimeTypes={mp4:"video/mp4",flv:"video/x-flv",f4m:"video/f4m",smil:"application/smil",smilxml:"application/smil+xml",m3u8:"application/x-mpegURL",mp3:"audio/mpeg",json:"application/json",txt:"text/plain",xml:"application/xml",ogv:"video/ogg",webm:"video/webm",mpd:"application/dash+xml",ism:"application/vnd.ms-sstr+xml",js:"text/javascript",css:"text/css",swf:"application/x-shockwave-flash",vtt:"text/vtt",ttml:"application/ttml+xml",srt:"application/x-subrip",cea608:"text/cea-608",cea708:"text/cea-708"};
g.flashTypes=[g.mimeTypes.mp4,g.mimeTypes.flv,g.mimeTypes.f4m,g.mimeTypes.smil,g.mimeTypes.smilxml];g.rules={flashTablets:{label:"Android 2 \x26 3 or Kindle Fire 1",regexp:"Android [23]|Silk/1"},html5Phones:{label:"iPhone",regexp:"iPhone"},html5Tablets:{label:"HTML5 Tablets",regexp:"iPad|Android [4-9]|Silk/2"},desktop:{label:"Desktop",regexp:"^((?!iPad|iPhone|Android|BlackBerry|PlayBook|Silk).)*$"}};g.getPlaybackMode=function(a){var b,c,e;null==a&&(a=(null!=(c=Ea["amp-mode"])?c.toLowerCase():void 0)||
Aa.HTML_AUTO);c=!1;for(b in Aa)if(e=Aa[b],e===a){c=!0;break}c||(a=Aa.AUTO);a===Aa.HTML_AUTO&&(a=this.isHTMLFirst()?Aa.HTML:Aa.AUTO);if(a!==Aa.AUTO)return a!==Aa.FLASH||this.hasFlash()&&"undefined"!==typeof m||(a=this.supportsHTML5Video()?Aa.HTML:Aa.NONE),a;this.hasFlash()||(a=this.supportsHTML5Video()?Aa.HTML:Aa.NONE);a===Aa.AUTO&&(a=this.isHTML5()?Aa.HTML:Aa.FLASH);return a};g.getIEVersion=function(){var a,b,c;b=-1;c=navigator.userAgent;"Microsoft Internet Explorer"===navigator.appName?a=/MSIE ([0-9]{1,}[.0-9]{0,})/:
"Netscape"===navigator.appName?a=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/:/Edge\/[0-9\.]+$/.test(c)&&(a=/Edge\/([0-9\.]+)/);null!=(null!=a?a.exec(c):void 0)&&(b=parseFloat(RegExp.$1));return b};g.getFFVersion=function(){var a;a=-1;/Firefox\/([0-9\.]+)$/.exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1));return a};g.getSafariVersion=function(){var a,b;a=-1;b=navigator.userAgent;/Safari\/[0-9\.]+$/.test(b)&&null!=/Version\/([0-9]+\.[0-9]+) Safari/.exec(b)&&(a=parseFloat(RegExp.$1));return a};g.isChrome=
function(){return/Chrom(e|ium)/.test(navigator.userAgent)};g.getChromeVersion=function(){var a,b;a=-1;b=navigator.userAgent;/Chrome( Mobile)?\/([0-9\.]+)/.test(b)&&(a=parseFloat(b.match(/Chrome( Mobile)?\/([0-9\.]+)/)[2].split(".").slice(0,2).join(".")));return a};g.isHTMLFirst=function(){return null!=window.MediaSource};g.mergeRules=function(a){var b,c,e;e=[];for(b in a)c=a[b],e.push(g.rules[b]=c);return e};g.checkRules=function(a){var b,c,e;if(null!=a&&0<a.length)for(c=0,e=a.length;c<e;c++)if(b=
a[c],b=g.rules[b])if(b=RegExp(b.regexp),b.test(navigator.userAgent))return!0;return!1};g.selectSource=function(a,b){var c,e,h;e=0;for(h=a.length;e<h;e++)if(c=a[e],g.checkRules(c.rules))return c;e=0;for(h=a.length;e<h;e++)if(c=a[e],""!==b(c.type||g.getMimeType(c.src)))return c;return null};g.getSourceByType=function(a,b){var c,e,h,d;e=null!=a.source?a.source.slice():[];null==a.type&&(a.type=g.getMimeType(a.src));e.unshift(a);h=0;for(d=e.length;h<d;h++)if(c=e[h],c.type===b)return c;return null};g.getMimeType=
function(a){return this.mimeTypes[g.getFileExtension(a)]};g.selectTrack=function(a,b){var c,e,h,d;h=0;for(d=a.length;h<d;h++)if(c=a[h],c.kind===b){e=c;break}return e};g.isIPhone=function(){return/iPhone/.test(navigator.platform)||/iPhone/.test(navigator.userAgent)};g.isIPad=function(){return/iPad/.test(navigator.platform)||/iPad/.test(navigator.userAgent)};g.isAndroid=function(){return/Android [4-9]/.test(navigator.userAgent)};g.isKindleFireHD=function(){return/Silk\/2/.test(navigator.userAgent)};
g.isKindleFire=function(){return/Silk\/1/.test(navigator.userAgent)};g.isBlackBerry=function(){return/BlackBerry;|PlayBook|BB10/.test(navigator.userAgent)};g.isFirefoxOS=function(){return/\(Mobile;.*Firefox\//.test(navigator.userAgent)};g.supportsHTML5Video=function(){return null!=document.createElement("video").canPlayType};g.isHTML5=function(){return this.isIOS()||this.isAndroid()||this.isKindleFireHD()||this.isBlackBerry()||this.isFirefoxOS()};g.isIOS=function(){var a;a=/iP(hone|od|ad)/i;return a.test(navigator.platform)||
a.test(navigator.userAgent)};g.getIOSversion=function(){var a;if(this.isIOS())return a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]};g.hasFlash=function(){var a;try{a=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(b){a="undefined"!==typeof navigator.mimeTypes["application/x-shockwave-flash"]}return a};g.isFullscreenDevice=function(){return this.isKindleFireHD()||this.isIPhone()};g.getDevice=function(){var a;a="desktop";
this.isIPhone()?a="iphone":this.isIPad()?a="ipad":/Android/.test(navigator.userAgent)?a="android":this.isKindleFireHD()?a="kindlefirehd":this.isKindleFire()&&(a="kindlefire");return a};g.xmlToJson=function(a){var b,c,e,h,d;e={};9===a.nodeType&&(a=a.firstChild);if(1===a.nodeType){if(0<a.attributes.length)for(e["@attributes"]={},c=a.attributes,b=h=0,d=c.length;h<d;b=++h)b=c[b],e["@attributes"][b.nodeName]=b.nodeValue}else if(3===a.nodeType||4===a.nodeType)e=a.nodeValue;if(a.hasChildNodes())for(d=a.childNodes,
b=a=0,h=d.length;a<h;b=++a)if(c=d[b],3!==c.nodeType||/\S/.test(c.nodeValue))b=c.nodeName.replace(/:/,"-"),c=this.xmlToJson(c),null==c["@attributes"]&&null!=c["#text"]&&(c=c["#text"]),null==e[b]?e[b]=c:(e[b]instanceof Array||(e[b]=[e[b]]),e[b].push(c));return e};g.getXHR=function(){return new ra};g.get=function(a,b,c){var e;null==b&&(b={});null==c&&(c=null);e=g.getXHR();null!=b&&(null!=b.withCredentials&&(e.withCredentials=b.withCredentials),null!=b.onload&&(e.onload=b.onload),null!=b.onerror&&(e.onerror=
b.onerror));e.open("GET",a);null!=c&&e.setRequestHeaders(c);e.send();return e};g.getUTC=function(){return this.request("//time.akamai.com").then(function(a){return 1E3*parseInt(a.responseText)})};g.send=function(a,b,c,e){var h;null==c&&(c={});null==e&&(e={"Content-Type":"String"});h=g.getXHR();null!=c.onload&&(h.onload=c.onload);null!=c.onerror&&(h.onerror=c.onerror);h.open("POST",a);null!=e&&h.setRequestHeaders(e);h.send(b);return h};g.request=function(a){null==a&&(a={});return new Promise(function(b,
c){var e,h,d,f;"string"===typeof a&&(a={url:a});null==a.method&&(a.method="GET");d=new XMLHttpRequest;d.open(a.method,a.url);d.onload=function(){return b(d)};d.onerror=function(a){return c(a)};d.withCredentials=a.withCredentials;if(null!=a.responseType)try{d.responseType=a.responseType}catch(g){}if(null!=a.headers)for(e in f=a.headers,f)h=f[e],null!=e&&null!=h&&d.setRequestHeader(e,h);return d.send(a.data||a.body)})};g.requestText=function(a){null==a&&(a={});return this.request(a).then(function(a){return a.responseText})};
g.requestJson=function(a){null==a&&(a={});return this.requestText(a).then(function(a){return JSON.parse(a)})};g.loadScript=function(a,b){return new Promise(function(c,e){var h,d;h=b||document.getElementsByTagName("head")[0];d=document.createElement("script");d.type="text/javascript";d.addEventListener?(d.onload=function(){c(d)},d.onerror=function(a){e(a)}):d.readyState&&(d.onreadystatechange=function(a){if("loaded"===this.readyState||"complete"===this.readyState)this.onreadystatechange=null,c(d)});
d.src=a;h.appendChild(d)})};g.loadStyleSheet=function(a){var b,c;b=document.getElementsByTagName("head")[0];c=document.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=a;return b.appendChild(c)};g.read=function(a,b,c,e){var h,d;null==b&&(b={});null==c&&(c="");null==e&&(e=[]);try{return d=this.get(a,b,e),h=d.responseText||d.text,c===g.mimeTypes.json?JSON.parse(h):c===g.mimeTypes.xml&&null!=d.responseXML?d.responseXML:h}catch(f){return"undefined"!==typeof console&&null!==console&&"function"===
typeof console.error&&console.error("Read Error: ",f),null}};g.getFileExtension=function(a){null==a&&(a="");return a.replace(/\?.*/,"").replace(/\#.*/,"").split(".").pop()};g.getResponseHeader=function(a,b,c){var e;null==c&&(c={});e=g.getXHR();null!=c.onerror&&(e.onerror=c.onerror);e.open("HEAD",a,!1);e.send();return e.getResponseHeader(b)};g.getResponseHeaders=function(a,b,c){var e,h,d;null==c&&(c={});e=g.getXHR();null!=c.onerror&&(e.onerror=c.onerror);e.open("HEAD",a,!1);e.send();c={};if(null==
b)return e.getAllResponseHeaders();h=0;for(d=b.length;h<d;h++)a=b[h],c[a]=e.getResponseHeader(a);return c};g.isTouch=null;g.isTouchDevice=function(){if(null==this.isTouch)try{document.createEvent("TouchEvent"),this.isTouch=!0}catch(a){this.isTouch=!1}return this.isTouch};g.clamp=function(a,b,c){a<b&&(a=b);a>c&&(a=c);return a};g.beacon=function(a,b){var c;null==b&&(b="beaconId");c=document.getElementById(b);null==c&&(c=document.createElement("img"),c.setAttribute("id",b),c.setAttribute("height",0),
c.setAttribute("width",0),document.body.appendChild(c),c.style.display="none");c.setAttribute("src",a);return c};g.getElementOffset=function(a,b){var c,e,h,d,f,g;null==b&&(b=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement);f=e=0;g=a.offsetWidth;for(c=a.offsetHeight;a&&a!==b;)"BODY"===a.tagName?(h=a.scrollLeft||document.documentElement.scrollLeft,d=a.scrollTop||document.documentElement.scrollTop,e+=a.offsetLeft-h+a.clientLeft,
f+=a.offsetTop-d+a.clientTop):(e+=a.offsetLeft-a.scrollLeft+a.clientLeft,f+=a.offsetTop-a.scrollTop+a.clientTop),a=a.offsetParent;return{left:e,top:f,width:g,height:c}};g.override=function(a,b,c){var e;null==c&&(c=!0);if(null==a)return b;if(null==b)return a;!0===c&&(a=g.clone(a),b=g.clone(b));for(e in b)c=b[e],"object"===typeof c&&null!==c?(null==a[e]&&(a[e]=c instanceof Array?[]:{}),a[e]=g.override(a[e],c,!1)):a[e]=c;return a};g.diff=function(a,b){var c,e,h,d;if(null==b)return null;if(null==a&&null!=
b)return b;c={};for(h in b)if(d=b[h],(e=a[h])!==d)if(null==e)c[h]=d;else switch(typeof d){case "string":case "number":case "boolean":case "function":c[h]=d;break;case "object":d instanceof Array?e.length!==d.length&&(c[h]=d):(e=this.diff(e,d),null!=e&&(c[h]=e))}return 0===Object.keys(c).length?null:c};g.clone=function(a,b){var c,e,d,J,f,g,k;null==b&&(b=!0);if(null==a)return a;if("object"!==typeof a)c=a;else for(J in c=a instanceof Array?[]:{},a)if(f=a[J],"object"===typeof f&&null!==f&&!0===b)if(f instanceof
Array)for(c[J]=[],g=0,k=f.length;g<k;g++)e=f[g],c[J].push(this.clone(e));else for(d in c[J]={},f)e=f[d],c[J][d]=this.clone(e);else c[J]=f;return c};g.formatTimecode=function(a,b){var c;a=parseInt(a);if(isNaN(a))return"00:00";c=g.formatZeroFill(a%60);a=parseInt(a/60);c=g.formatZeroFill(a%60)+":"+c;a=parseInt(a/60);0<a&&(c=g.formatZeroFill(a)+":"+c);3600<=b&&5===c.length&&(c="00:"+c);return c};g.formatZeroFill=function(a){var b;b=a.toString();10>a&&(b="0"+b);return b};g.flattenTimecode=function(a,b){var c,
e,d;null==b&&(b=30);if(null==a||""===a)return NaN;d=a.split(":");c=0;4===d.length?c=parseInt(d.pop())/b:3===d.length&&(d[2]=d[2].replace(",","."),-1!==d[2].indexOf(".")&&(e=d[2].split(".")),1<(null!=e?e.length:void 0)&&(d[2]=e[0],c=parseInt(e[1])/1E3));for(e=parseInt(d.pop());0<d.length;)e+=Math.pow(60,d.length)*parseInt(d.shift());return e+c};g.cacheBust=function(a,b,c){var e;null==b&&(b="cacheBust");null==c&&(c=Date.now());e=-1===a.indexOf("?")?"?":"\x26";return a+e+b+"\x3d"+c};g.formatStyleName=
function(a){return a.replace(/([A-Z])/,"-$1").toLowerCase()};g.trim=function(a){return a.replace(/^\s*(.*)/,"$1").replace(/(.*)\s*$/,"$1")};g.getFeed=function(a){return this.request(a).then(function(a){return"document"===a.responseType||/^</.test(a.responseText)?g.xmlToJson(a.responseXML):JSON.parse(a.responseText)})};g.getSource=function(a,b,c){var e;e=g.getPlaybackMode();g.getFeed(a).then(function(a){var c,d;a=(new xb).createFeed(a);0<(null!=a?null!=(d=a.item)?d.length:void 0:void 0)&&(c=function(a){return"flash"===
e&&-1!==g.flashTypes.indexOf(a)||"html"===e&&-1===g.flashTypes.indexOf(a)?"maybe":""},c=g.selectSource(a.item[0].source,c));"function"===typeof b&&b(c)})["catch"](c)};g.trackMouse=function(){try{null!=document.addEventListener?document.addEventListener("mousemove",this.mouseTracker):null!=document.attachEvent&&document.attachEvent("mousemove",this.mouseTracker)}catch(a){}};g.clientX=0;g.clientY=0;g.pageX=0;g.pageY=0;g.mouseTracker=function(a){g.clientX=a.clientX;g.clientY=a.clientY;g.pageX=a.pageX;
g.pageY=a.pageY};g.isMouseOverElement=function(a){var b;b=!1;if(null==a)return b;try{b=a.contains(document.elementFromPoint(g.clientX,g.clientY))}catch(c){b=!1}return b};g.trackMouse();g.getActualSize=function(a,b){var c,e,d;null==b&&(b=!0);d=a.offsetWidth;c=a.offsetHeight;!0===b&&(e=getComputedStyle(a),d+=parseInt(e.marginLeft)+parseInt(e.marginRight),c+=parseInt(e.marginTop)+parseInt(e.marginBottom));return{width:d,height:c}};g.isVolumeSettable=function(){var a,b;b=navigator.userAgent.toLowerCase();
a=/ipad|iphone|ipod|android|blackberry|windows ce|windows phone|webos|playbook/.exec(b);return null==a||"android"===a[0]&&/Firefox/.test(b)?!0:!1};g.createFlashObject=function(a,b){var c,e,d,f,p,z;if(null!=a){p={allowFullScreen:!0,allowScriptAccess:"always",wmode:"direct",bgColor:"#000000"};g.override(p,a.params,!1);if(null!=a.vars){d=[];z=a.vars;for(f in z)e=z[f],d.push(""+f+"\x3d"+e);p.flashvars=d.join("\x26")}e=(null!=(c=a.attributes)?c.id:void 0)||this.createUID();c={id:e,name:e,width:"100%",
height:"100%",type:"application/x-shockwave-flash"};g.override(c,a.attributes,!1);-1!==this.getIEVersion()&&"direct"===p.wmode&&(p.wmode="transparent");d="\x3cobject ";for(f in c)e=c[f],d+=""+f+'\x3d"'+e+'" ';d+="\x3e\n";for(f in p)e=p[f],d+='\x3cparam name\x3d"'+f+'" value\x3d"'+e+'" /\x3e\n';b.innerHTML=d+"\x3c/object\x3e"}};g.createUID=function(a){var b,c;null==a&&(a=16);b=Date.now();c=2*a-1;return(Math.round(Math.random()*c+a).toString(16)+b.toString(16)).toUpperCase()};g.chain=function(a,b){var c,
e,d,f;c=Promise.resolve(b);d=0;for(f=a.length;d<f;d++)e=a[d],c=c.then(e);return c};g.transform=function(a,b){a=a.map(function(a){return"function"===typeof a.transform?a.transform:a});return this.chain(a,b)};g.arrayBufferToString=function(a){return String.fromCharCode.apply(null,new Uint8Array(a))};g.parseJWT=function(a){a=a.split(".");return{header:JSON.parse(atob(a[0])),payload:JSON.parse(atob(a[1])),signature:a[2]}};g.getFullScreenApi=function(a,b){var c;c={};null!=a.webkitRequestFullScreen?(c.enter=
a.webkitRequestFullScreen.bind(a),c.exit=null!=document.webkitExitFullscreen?document.webkitExitFullscreen.bind(document):document.webkitCancelFullScreen.bind(document),c.event="onwebkitfullscreenchange",c.element="webkitFullscreenElement",c.error="webkitfullscreenerror"):null!=a.requestFullscreen?(c.enter=a.requestFullscreen.bind(a),c.exit=null!=document.exitFullscreen?document.exitFullscreen.bind(document):document.cancelFullscreen.bind(document),c.event="onfullscreenchange",c.element="fullscreenElement",
c.error="fullscreenerror"):null!=a.mozRequestFullScreen?(c.enter=a.mozRequestFullScreen.bind(a),c.exit=document.mozCancelFullScreen.bind(document),c.event="onmozfullscreenchange",c.element="mozFullscreenElement",c.error="mozfullscreenerror"):null!=a.msRequestFullscreen?(c.enter=a.msRequestFullscreen.bind(a),c.exit=document.msExitFullscreen.bind(document),c.event="MSFullscreenChange",c.element="msFullscreenElement",c.error="MSFullscreenError"):null!=b.webkitEnterFullscreen&&(c.enter=b.webkitEnterFullscreen.bind(b),
c.exit=b.webkitExitFullscreen.bind(b),c.event=null,c.error=null);return c};g.stringToArray=function(a){var b,c,e,d;b=new ArrayBuffer(2*a.length);b=new Uint16Array(b);c=e=0;for(d=a.length-1;0<=d?e<=d:e>=d;c=0<=d?++e:--e)b[c]=a.charCodeAt(c);return b};g.arrayToString=function(a){return String.fromCharCode.apply(null,new Uint16Array(a.buffer))};g.base64DecodeUint8Array=function(a){var b,c,e,d;c=window.atob(a);e=c.length;a=new Uint8Array(new ArrayBuffer(e));b=d=0;for(e-=1;0<=e?d<=e:d>=e;b=0<=e?++d:--d)a[b]=
c.charCodeAt(b);return a};g.base64EncodeUint8Array=function(a){for(var b="",c,e,d,f,g,z,k=0;k<a.length;)c=a[k++],e=k<a.length?a[k++]:Number.NaN,d=k<a.length?a[k++]:Number.NaN,f=c>>2,c=(c&3)<<4|e>>4,g=(e&15)<<2|d>>6,z=d&63,isNaN(e)?g=z=64:isNaN(d)&&(z=64),b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(g)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(z);return b};g.getKeySystem=function(){var a;a=navigator.userAgent;return/Edge/.test(a)||/Trident/.test(a)?"com.microsoft.playready":/Chrome/.test(a)||/Firefox/.test(a)?"com.widevine.alpha":"com.apple.fps.1_0"};g.isAutoplaySupported=function(){var a;a=!0;this.isIOS()&&(-1!==this.getSafariVersion()?a=10<=this.getIOSversion()[0]:this.isChrome()&&(a=53<=this.getChromeVersion()));this.isChrome()&&this.isAndroid()&&(a=53<=this.getChromeVersion());
return a};g.fieldIsUnique=function(a,b,c){var e,d,f,g;d=!0;e=f=0;for(g=a.length;f<g;e=++f)if(e=a[e],null!==e&&void 0!==e&&null!==e[b]&&void 0!==e[b]&&e[b].toString().toLowerCase()===c.toString().toLowerCase()){d=!1;break}return d};g.toCamelCase=function(a){return a.replace(/-([a-z])/g,function(a){return a[1].toUpperCase()})};g.toHyphenated=function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a[0].toLowerCase()})};g.createElement=function(a,b,c,e){var d,f,g,z;null==e&&(e="div");"string"===
typeof e&&(e=document.createElement(e));d=e.classList;if(null!=a)for("string"===typeof a&&(a=[a]),g=0,z=a.length;g<z;g++)f=a[g],d.add(f);null!=c&&(e.textContent=c);null!=b&&b.appendChild(e);return e};var ma=function(){ma.__super__.constructor.call(this,this,!1)};f(ma,Fa);ma.UNINITIALIZED=0;ma.LOADING=1;ma.LOADED=2;ma.parseModule=function(a){var b,c,e,d;c={};a=a.childNodes;e=0;for(d=a.length;e<d;e++)b=a[e],1===(null!=b?b.nodeType:void 0)&&(c[b.nodeName]=this.parseItem(b));return c};ma.parseItem=function(a){var b,
c,e,d;b=(""+a.getAttribute("type")).toLowerCase();c=a.textContent||a.text||a.innerText;if("object"!==b&&"array"!==b&&/#\{.*\}/.test(c))return c;switch(b){case "object":c=this.parseModule(a);break;case "array":c=[];b=a.childNodes;e=0;for(d=b.length;e<d;e++)a=b[e],1===a.nodeType&&c.push(this.parseItem(a));break;case "boolean":c="true"===c.toLowerCase();break;case "number":c=parseFloat(c)}return c};ma.prototype.url=null;ma.prototype.data=null;ma.prototype.xml=null;ma.prototype.readyState=ma.UNINITIALIZED;
ma.prototype.loaded=!1;ma.prototype.flash={PlaybackMetricsPlugin:{src:"#{paths.resources}plugins/PlaybackMetricsPlugin.swf",blocking:!1,host:"akamai",main:"PlaybackMetricsPlugin"},SubclipMonitorPlugin:{src:"#{paths.resources}plugins/SubclipMonitorPlugin.swf",blocking:!1,host:"akamai",main:"SubclipMonitorPlugin"},NetSessionClientPlugin:{src:"#{paths.resources}plugins/NetSessionClientPlugin.swf",blocking:!1,host:"akamai",main:"NetSessionClientPlugin"}};ma.prototype.loadURL=function(a,b){var c=this;
null==b&&(b=!1);this.url=a;this.setReadyState(ma.LOADING);g.get(a,{withCredentials:b,onload:function(a){a=a.detail;"document"===a.responseType?(c.xml=a.responseXML,a=7!==c.xml.firstChild.nodeType?c.xml.firstChild:c.xml.childNodes[1],a=ma.parseModule(a)):(a=a.response,"string"===typeof a&&(a=JSON.parse(a)));c.loadData(a)},onerror:function(a){c.dispatchEvent(new D("error",a));Y.error(a)}})};ma.prototype.loadData=function(a){bb.defaults=a;this.setReadyState(ma.LOADED)};ma.prototype.load=function(a,b){null==
b&&(b=!1);switch(typeof a){case "object":this.loadData(a);break;case "string":this.loadURL(a,b);break;default:throw Error("[AMP ERROR] Invalid default configuration resource");}};ma.prototype.setReadyState=function(a){this.readyState=a;this.dispatchEvent(new D("readystatechange",a));a!==ma.LOADED||this.loaded||(this.loaded=!0,this.dispatchEvent(new D("load",this.data)))};var Ab=function(a,b,c){this.startTime=a;this.endTime=b;this.id=c};Ab.prototype.id=null;Ab.prototype.startTime=null;Ab.prototype.endTime=
null;Ab.prototype.text=null;Ab.prototype.html=null;Ab.prototype.align=null;var sf=function(){};sf.prototype.parse=function(a,b){var c,e,d,f,p,z,k,l,m;b=b.replace(/\r/g,"");e=b.split("\n\n");l=0;for(m=e.length;l<m;l++){c=e[l];c=c.split("\n");try{f=c[0],k=c[1].match(/([0-9:\,]+)\s*--\x3e\s*([0-9:\,]+)/).slice(1),p=g.flattenTimecode(k[0]),d=g.flattenTimecode(k[1]),z=c.slice(2)}catch(n){Y.instance.warn("SRT Parsing Warning")}c=new Ab(p,d,"cue_"+f);c.html="\x3cp\x3e"+z.join("\x3cbr /\x3e")+"\x3c/p\x3e";
c.text=z.join("\n");a.cues.push(c)}return a};var tf=function(){};tf.prototype.parse=function(a,b){var c,e,d,f,p,k,l,m,n,q,r;b=b.replace(/\r/g,"");e=b.split("\n\n");p=0;/^WEBVTT/.test(e[0])&&e.shift();q=0;for(r=e.length;q<r;q++)if(c=e[q],""!==c){c=c.trim().split("\n");try{p=/^[0-9]+$/.test(c[0])?c.shift():++p,n=c[0].match(/([0-9:\.]+)\s*--\x3e\s*([0-9:\.]+)([^\n]*)/).slice(1),k=n[2],l=g.flattenTimecode(n[0]),f=g.flattenTimecode(n[1]),m=c.slice(1),d=new Ab(l,f,"cue_"+p),d.html="\x3cp\x3e"+m.join("\x3cbr /\x3e")+
"\x3c/p\x3e",d.text=m.join("\n"),null!=k&&k.replace(/\s*([A-Za-z]+)\s*:\s*([\w\-\%]+)/g,function(a,b,c){d[b]=c;return""}),a.cues.push(d)}catch(s){Y.instance.error("WebVTT Parse Error")}}return a};var pf=function(){};pf.prototype.parse=function(a,b){var c,e;"string"===typeof b&&(b=da.parse(b));Array.prototype.slice.call(b.querySelectorAll("styling style")).forEach(function(b,c,e){var d;d="";c=b.getAttribute("id")||b.getAttribute("xml:id");Array.prototype.slice.call(b.attributes).forEach(function(a,
b,c){if("tts"===a.prefix)return d+=g.formatStyleName(a.localName)+":"+a.nodeValue+";"});a.styles[c]=d});Array.prototype.slice.call(b.querySelectorAll("body [style]")).forEach(function(b,c,e){c=b.getAttribute("style");b.setAttribute("style",a.styles[c])});e=b.querySelector("tt");e=e.getAttribute("lang")||e.getAttribute("xml:lang");if(void 0===a.language||null===a.language)a.language=e;c=Array.prototype.slice.call(b.querySelectorAll("body p[begin]"));c.forEach(function(b,e,d){var f;d=b.getAttribute("begin");
b.removeAttribute("begin");null!=b.getAttribute("end")?(f=b.getAttribute("end"),b.removeAttribute("end")):null!=c[e+1]&&(f=c[e+1].getAttribute("begin"));e=new Ab(g.flattenTimecode(d),g.flattenTimecode(f),"cue_"+e);f=b.getAttributeNS("http://www.w3.org/ns/ttml#styling","textAlign");null!=f&&(e.align="center"===f?"middle":f,b.removeAttributeNS("http://www.w3.org/ns/ttml#styling","textAlign"));b=da.serialize(b);b=b.replace(/\s*xmlns="[^"]*"/,"");e.html=b;b=b.replace(/^<p[^>]*>/,"");b=b.replace(/<\/p>$/,
"");b=b.replace(/<br\/>/,"\n");b=b.replace(/<span style="([^"]*)"/,"\x3cc.$1");b=b.replace(/<\/span>/,"\x3c/c\x3e");e.text=b;a.cues.push(e)});return a};var Ba=function(){var a,b=this;this.captions=[];this.head=document.getElementsByTagName("head")[0];a=window.com||{};a.akamai=a.akamai||{};a.akamai.amp=a.akamai.amp||{};a.akamai.amp.plugins=a.akamai.amp.plugins||{};a.akamai.amp.plugins.subply=a.akamai.amp.plugins.subply||{};a.akamai.amp.plugins.subply.response=function(a){b.parse(a);b.poll()};null==
window.com&&(window.com=a);Ba.__super__.constructor.call(this,this.constructor.NAME)};f(Ba,puremvc.Proxy);Ba.NAME="LiveCaptionProxy";Ba.prototype.data={base:"http://test.plymedia.com.s3.amazonaws.com/online/Akamai_",interval:1E3};Ba.prototype.caption=null;Ba.prototype.head=null;Ba.prototype.script=null;Ba.prototype.timeout=null;Ba.prototype.getURL=function(){return this.data.url};Ba.prototype.setURL=function(a){return this.data.url=a};Ba.prototype.start=function(){this.send()};Ba.prototype.poll=function(){var a=
this;setTimeout(function(){a.send()},this.data.interval||1E3)};Ba.prototype.send=function(){var a=this;null!=this.script&&this.head.removeChild(this.script);this.script=g.loadScript(this.data.base+this.data.url+".js?nocache\x3d"+Date.now()).then(function(b){return a.script=b})["catch"](function(b){return a.facade.logger.error("[AMP CAPTIONING ERROR]",b)})};Ba.prototype.stop=function(){clearTimeout(timeout)};Ba.prototype.parse=function(a){var b,c,e,d;if(a.Stream===this.data.url&&!(null!=this.caption&&
this.caption.id>=a.Ticks)){this.caption=new Ab(g.flattenTimecode(a.From),g.flattenTimecode(a.To),a.Ticks);this.caption.text=a.Text;b="";d=a.Text.split("\n");c=0;for(e=d.length;c<e;c++)a=d[c],""!==b&&(b+="\x3cbr /\x3e"),b+="\x3cspan\x3e"+a+"\x3c/span\x3e";this.caption.html="\x3cp\x3e"+b+"\x3c/p\x3e";this.sendNotification(O.CUE_CHANGE,[this.caption]);return this.caption}};var r=function(){};r.create=function(a,b,c){var e,d;d=Date.now();"string"===typeof a?(e=document.getElementById(a),null==e&&(e=document.querySelector(a))):
e=a;if(null==e)throw Error("[AMP ERROR] Invalid container. Could not find DOM element: "+a);b=b instanceof bb?b:bb.create(b);Y.instance=new Y(b.debug);a=this.getVersion();null==e.dataset&&(e.dataset={});e.dataset["amp.version"]=a;Y.instance.log("[AMP] "+a);a=this.createPlayer(b,e);a.initTime=d;e.amp=a;a.request=this.request.bind(this);a.require=this.require.bind(this);a.loadResources=a.loadModuleResources.bind(a);a.onready=c;a.initialize(b);return a};r.createPlayer=function(a,b){var c;c=this.players[a.mode];
null!=c&&(c=new c(b));return c};r.getVersion=function(){return this.VERSION};r.VERSION="AMP Premier v2.94.5";r.defaults=new ma;r.plugins=[];r.players={};r.loadDefaults=function(a,b,c,e){null==e&&(e=!1);null!=b&&this.defaults.addEventListener("load",b);null!=c&&this.defaults.addEventListener("error",c);this.defaults.load(a,e)};r.getPlaybackMode=function(){return g.getPlaybackMode()};r.registerPlayer=function(a,b){this.players[a]=b};r.registerPlugin=function(a,b,c){var e,d,f;null==
(e=this.plugins)[a]&&(e[a]={});"function"===typeof b&&(c=[c,b],b=c[0],c=c[1]);"string"===typeof b&&(b=[b]);null==b&&(b=["html","flash"]);d=0;for(f=b.length;d<f;d++)e=b[d],this.plugins[a][e]=c};r.resourceManager=null;r.getResourceManager=function(){null==this.resourceManager&&(this.resourceManager=new kb);return this.resourceManager};r.addResource=function(a){return this.getResourceManager().add(a)};r.addResources=function(a){return this.getResourceManager().addResources(a)};r.request=function(a){return g.request(a)};
r.requestJson=function(a){return g.requestJson(a)};r.require=function(a){return this.resourceManager.require(a)};r.getResource=function(a){return this.getResourceManager().item(a)};r.removeResource=function(a){return this.getResourceManager().remove(a)};r.evaluateBindings=function(a,b){return Wa.evaluateBindings(a,b)};r.registerPlayer("html",w);r.registerPlayer("flash",m);r.registerPlayer("none",of);r.registerPlayer("external",L);var H=function(){H.__super__.constructor.call(this)};f(H,C);H.prototype.plugin=
null;H.prototype.proxy=null;H.prototype.initializeNotifier=function(a){H.__super__.initializeNotifier.call(this,a);this.proxy=this.facade.retrieveProxy(F.NAME);this.plugin=this.facade};var Xd=function(){Xd.__super__.constructor.call(this)};f(Xd,H);Xd.prototype.execute=function(a){var b;b=a.getBody();a=a.getBody().track;this.proxy.setTracks(a);null==a?this.sendNotification(O.ENABLED,!1):(this.proxy.selectRenderer(b),this.sendNotification(O.ENABLED,!0))};var A=function(){A.__super__.constructor.call(this)};
f(A,H);A.prototype.dispatchEvent=function(a,b){var c,e;"string"!==typeof a&&(b=a.getBody(),null==b&&(b={}),a=a.getName());c="function"===typeof(e=this.plugin).getFeatureName?e.getFeatureName():void 0;null!=c&&"auth"!==c&&(a=a.replace(RegExp("^("+c+")"),""));c=this.plugin.getModuleName();a=a.replace(RegExp("^("+c+")"),"");c=new D(a,b);this.sendNotification(d.DISPATCH_EVENT,c)};A.prototype.dispatchEventAfterCommand=function(a,b){setTimeout(this.dispatchEvent.bind(this,a,b),0)};A.prototype.execute=function(a){this.dispatchEvent(a)};
var Yc=function(){Yc.__super__.constructor.call(this)};f(Yc,A);Yc.prototype.execute=function(a){this.proxy.setEnabled(a.getBody());Yc.__super__.execute.call(this,a)};var Zc=function(){Zc.__super__.constructor.call(this)};f(Zc,A);Zc.prototype.execute=function(a){var b;b=!a.getBody();b!==this.proxy.getHidden()&&(this.proxy.setHidden(b),Zc.__super__.execute.call(this,a))};var Yd=function(){Yd.__super__.constructor.call(this)};f(Yd,H);Yd.prototype.execute=function(a){var b,c,e,d,f,g;d=a.getBody();b=this.proxy.getTrack();
if(null!=b){a=b.activeCues;e=b.cues;b=!1;f=0;for(g=e.length;f<g;f++)c=e[f],d>=c.startTime&&d<c.endTime?0<=ud.call(a,c)||(a.push(c),b=!0):(c=a.indexOf(c),-1!==c&&(a.splice(c,1),b=!0));!0===b&&this.sendNotification(O.CUE_CHANGE,a)}};var Zd=function(){Zd.__super__.constructor.call(this)};f(Zd,puremvc.SimpleCommand);Zd.prototype.execute=function(a){var b,c;a=this.facade.retrieveProxy(I.NAME);b=a.getTrack();null==b&&0<(null!=(c=a.getTracks())?c.length:void 0)&&(b=a.autoSelectTrack());!0===(null!=b?b.isLive:
void 0)&&(this.facade.removeCommand(d.TIME_UPDATE),a=this.facade.retrieveProxy(Ba.NAME),null==a&&(a=new Ba,this.facade.registerProxy(a)),a.setURL(b.src),a.start())};CaptionParsers={"application/ttml+xml":new pf,"application/x-subrip":new sf,"text/vtt":new tf,undefined:new pf};var K=function(a,b){this.player=a;this.config=b;K.__super__.constructor.call(this);this.dispatcher=new Fa(this);this.createDefaults()};f(K,puremvc.Mediator);K.NAME="PluginWrapper";K.prototype.player=null;K.prototype.config=null;
K.prototype.dispatcher=null;K.prototype.flashPlugins=null;K.prototype.createFlashVars=null;K.prototype.createXML=null;K.prototype.createDefaults=function(){this.player.createDefaults.call(this)};K.prototype.addEventListener=function(a,b){this.dispatcher.addEventListener(a,b)};K.prototype.logEvent=function(a){};K.prototype.dispatchEvent=function(a){"timeupdate"!==a.type&&"timeremaining"!==a.type&&this.player.logger.log("[AMP "+this.constructor.NAME.replace("Wrapper","").toUpperCase()+" EVENT] "+a.type,
a);a.player=this.player;this.dispatcher.dispatchEvent(a)};K.prototype.removeEventListener=function(a,b){this.dispatcher.removeEventListener(a,b)};K.prototype.createElement=function(a,b,c){var e;e=a.createElement("element");e.setAttribute("id",b);null==c&&(c=this.getControls(a).controls);null!=c&&c.appendChild(e);return e};K.prototype.createProperty=function(a,b,c,e){var d;d=a.createElement("property");d.setAttribute("key",b);null!=e&&e.appendChild(d);if(null!=c)if("object"!==typeof c||c instanceof
Array)a=da.createTextContent(a,c.toString()),d.appendChild(a);else for(b in c)e=c[b],this.createProperty(a,b,e,d);return d};K.prototype.listNotificationInterests=function(){return["createFlashVars","createXML"]};K.prototype.handleNotification=function(a){var b;b=a.getName();a=a.getBody();switch(b){case "createFlashVars":"function"===typeof this.createFlashVars&&this.createFlashVars(a.flashvars);break;case "createXML":"function"===typeof this.createXML&&this.createXML(a.xml)}};K.prototype.destroy=
function(){};var Lb=function(a,b){var c,e=this;Lb.__super__.constructor.call(this,{kind:a.kind,label:a.label||this.srclang||this.kind,language:a.srclang});this.src=a.src;this.type=a.type;this.cues=a.cues||[];this.styles=a.styles||{};this.activeCues=[];this.isLive=/live-subply/.test(this.type);null==this.src||""===this.src||this.isLive?setTimeout(b,1):c=g.get(this.src,{onload:function(){try{CaptionParsers[e.type].parse(e,c.response)}catch(a){Y.instance.error("Could not parse caption track: "+e.src);
return}"function"===typeof b&&b()},onerror:function(){Y.instance.error("Could not load caption track: "+e.src)}})};f(Lb,Sa);Lb.prototype.src=null;Lb.prototype.cues=null;Lb.prototype.activeCues=null;Lb.prototype.type=null;Lb.prototype.styles=null;Lb.prototype.isLive=!1;var Ma=function(){Ma.__super__.constructor.call(this,null,null,null,null)};f(Ma,fa);Ma.prototype.componentType="overlay";Ma.prototype.onRegister=function(){Ma.__super__.onRegister.call(this);this.registerOverlay()};Ma.prototype.onRemove=
function(){Ma.__super__.onRemove.call(this);this.removeOverlay()};Ma.prototype.registerOverlay=function(){this.sendNotification(d.ADD_OVERLAY,this.viewComponent)};Ma.prototype.removeOverlay=function(){this.sendNotification(d.REMOVE_OVERLAY,this.viewComponent)};var I=function(a){this.activeCaptions=[];this.providers={};this.tracks=[];this.rendererMap=[];this.track={};I.__super__.constructor.call(this,a)};f(I,Z);I.NAME=F.NAME;I.TEXT_TRACK_RENDERER="caption-text";I.prototype.defaults={useNative:!1,crossorigin:null};
I.prototype.enabled=!1;I.prototype.hidden=!0;I.prototype.tracks=null;I.prototype.track=null;I.prototype.activeCaptions=null;I.prototype.captions=null;I.prototype.loaded=!0;I.prototype.rendererMap=null;I.prototype.getUseNative=function(){return this.getValue("useNative")};I.prototype.getCrossOrigin=function(){return this.getValue("crossorigin")};I.prototype.getTracks=function(){return this.tracks};I.prototype.setTracks=function(a){var b,c,e,d,f,g,k=this;this.tracks=[];this.track=null;if(null!=a){b=
a.length;e=0;d=function(){e++;e===b&&(k.sendNotification(O.TRACKS_LOADED,k.tracks),k.autoSelectTrack())};f=0;for(g=a.length;f<g;f++)c=a[f],c=new Lb(c,d),this.tracks.push(c);return a}};I.prototype.registerRenderer=function(a){null!=a&&(a.proxy=this,this.rendererMap.push(a))};I.prototype.retrieveRenderer=function(a){var b,c,e,d;d=this.rendererMap;c=0;for(e=d.length;c<e;c++)if(b=d[c],b.getRendererName()===a)return b};I.prototype.removeRenderer=function(a){var b;b=this.retrieveRenderer(a);b.proxy=null;
if(null==b)return null;a=this.rendererMap.indexOf(b);this.rendererMap.splice(a,1);return b};I.prototype.getRenderer=function(){return this.renderer};I.prototype.setRenderer=function(a){if(a===this.renderer)return a;null!=this.renderer&&this.facade.removeMediator(I.TEXT_TRACK_RENDERER);this.renderer=a;null!=this.renderer&&this.facade.registerMediator(this.renderer);return a};I.prototype.selectRenderer=function(a){var b,c,e,d,f,g,k,l;b=null;e=a.track;if(null!=e){d=0;for(g=e.length;d<g;d++){c=e[d];l=
this.rendererMap;f=0;for(k=l.length;f<k;f++)if(a=l[f],!0===a.canUseResource(c)){b=a;break}if(null!=b)break}this.setRenderer(b);return b}};I.prototype.getTrack=function(){return this.track};I.prototype.setTrack=function(a){this.track=a;this.captions=this.track.cues;this.activeCaptions=[];this.sendNotification(d.CHANGE_SETTINGS,{captions:{track:this.track.flatten()}});this.sendNotification(O.TRACK_SELECTED,this.track);return a};I.prototype.selectTrackByIndex=function(a){var b;0<=a&&a<this.tracks.length&&
(b=this.tracks[a],this.setTrack(b));return b};I.prototype.selectTrackByLanguage=function(a){var b,c,e,d,f;f=this.tracks;e=0;for(d=f.length;e<d;e++)if(b=f[e],b.language===a){c=b;break}null!=c&&this.setTrack(c);return c};I.prototype.getHidden=function(){return this.hidden};I.prototype.setHidden=function(a){return this.hidden=a};I.prototype.getEnabled=function(){return this.enabled};I.prototype.setEnabled=function(a){return this.enabled=a};I.prototype.autoSelectTrack=function(){var a,b,c;a=null!=(c=
this.facade.player.retrieveProxy($.NAME))?c.getLanguage():void 0;null!=a&&(a=a.split("-").shift(),b=this.selectTrackByLanguage(a));null==b&&(b=this.tracks[0],this.setTrack(b));return b};var $c=function(a,b,c,e){$c.__super__.constructor.call(this,a,b,c,e)};f($c,fa);$c.prototype.initializeNotifier=function(a){$c.__super__.initializeNotifier.call(this,a);this.plugin=this.facade.retrieveProxy(F.NAME);this.media=this.facade.player.retrieveProxy(q.NAME)};var aa=function(a){aa.__super__.constructor.call(this,
a)};f(aa,ac);aa.prototype.video=null;aa.prototype.index=-1;aa.prototype.plugin=null;aa.prototype.parallelement=null;aa.prototype.paralleltimer=null;aa.prototype.paddingvalue=6;aa.prototype.cueChangeListener=null;aa.prototype.lineheight=34;aa.prototype.playerDefaultHeight=648;aa.NAME=I.TEXT_TRACK_RENDERER;aa.prototype.getRendererName=function(){return"native"};aa.prototype.canUseResource=function(a){var b,c;if(null==a||null==document.createElement("video").textTracks)return!1;c=[g.mimeTypes.vtt,g.mimeTypes.cea608,
g.mimeTypes.cea708];b=a.type;return b===c[1]||b===c[2]?!0:/iphone|ipad/.test(g.getDevice())||this.proxy.getUseNative()?-1!==c.indexOf(a.type):!1};aa.prototype.onRegister=function(){this.plugin=this.facade.retrieveProxy(I.NAME);this.cueChangeListener=this.cueChange.bind(this);0>g.getSafariVersion()&&this.facade.player.getMediaElement().textTracks.addEventListener("addtrack",this.updateTrack.bind(this));this.facade.player.getMediaElement().textTracks.addEventListener("cuechange",this.cueChangeListener);
null==this.plugin||null==this.plugin.config||this.plugin.config.hasOwnProperty("useparallelrendering")||(this.plugin.config.useparallelrendering=!1)};aa.prototype.onRemove=function(){null!=this.viewComponent&&null!=this.parallelelment&&(this.viewComponent.removeChild(this.parallelement),this.facade.player.getMediaElement().textTracks.removeEventListener("addtrack",this.updateTrack),this.facade.player.getMediaElement().textTracks.removeEventListener("cuechange",this.cueChangeListener))};aa.prototype.listNotificationInterests=
function(){return[O.VISIBILITY_CHANGE,O.TRACK_SELECTED,O.TRACKS_LOADED,d.LOADED_METADATA,d.CAN_PLAY_THROUGH,k.BREAK_START]};aa.prototype.handleNotification=function(a){var b,c,e,h,f;b=a.getBody();switch(a.getName()){case O.TRACKS_LOADED:this.tracks=b;break;case O.TRACK_SELECTED:this.facade.player.getMediaElement().textTracks.length&&(c=this.facade.player.getMediaElement().textTracks[this.index]);null!=c&&(c.mode="hidden");this.index=this.plugin.getTracks().indexOf(b);this.lang=b.language;this.updateTrack();
break;case O.VISIBILITY_CHANGE:case d.CAN_PLAY_THROUGH:this.updateTrack();break;case k.BREAK_START:this.clearCaption();break;case d.LOADED_METADATA:if(null==this.tracks)break;a=this.facade.player.getMediaElement();c=this.plugin.getCrossOrigin();null!=c&&a.setAttribute("crossorigin",c);f=this.tracks;e=0;for(h=f.length;e<h;e++)c=f[e],c.type===g.mimeTypes.vtt&&(b=document.createElement("track"),b.src=c.src,null!=c.kind&&(b.kind=c.kind),null!=c.language&&(b.srclang=c.language),null!=c.label&&(b.label=
c.label),b["default"]="default"in c,a.appendChild(b));this.tracks=null}};aa.prototype.updateTrack=function(a){var b,c,e,d,f,g,k,l;b=this.plugin.config;g=this.facade.player.getMediaElement().textTracks;c=d=0;for(f=g.length;d<f;c=++d)if(e=g[c],/subtitles|captions/.test(e.kind)&&(e.language===this.lang||!e.language.length)){if(null==e)return;this.index=c;1<this.getTracksByKind(e.kind).length&&(this.suppressDupeTracks(e.kind,[1]),1===c&&(e.mode=this.plugin.getHidden()?"hidden":"showing"));"subtitles"===
e.kind?e.mode="hidden":!1===b.useparallelrendering&&(e.mode=this.plugin.getHidden()?"hidden":"showing")}a&&"metadata"===(null!=(k=a.track)?k.kind:void 0)||(this.plugin.getHidden()?null!=this.plugin&&this.plugin.config.useparallelrendering?null!=this.parallelement&&(this.parallelement.style.display="none"):this.clearCaption():null!=this.plugin&&this.plugin.config.useparallelrendering&&null!=this.parallelement&&(this.parallelement.style.display="inline"),null!=(l=this.plugin)&&l.config.useparallelrendering&&
(b=null,this.parallelement||this.createParallelement(),a&&(b=a.track),b&&null!==b.language&&b.language!==this.lang||this.useParallelRendering(this.plugin.config.useparallelrendering,b)))};aa.prototype.createParallelement=function(){if(!this.parallelement)return this.parallelement=document.createElement("div"),this.parallelement.className="akamai-caption-container",this.viewComponent.appendChild(this.parallelement),this.parallelement};aa.prototype.useParallelRendering=function(a,b){var c,e;null!=(c=
this.plugin)&&(c.config.useparallelrendering=a);!b&&null!=(e=this.facade.player.getMediaElement().textTracks)&&e.length&&(b=this.facade.player.getMediaElement().textTracks[this.index]);if(b)if(!0===a){if(!1===b.hasCueChangeListener||"undefined"===typeof b.hasCueChangeListener)return b.hasCueChangeListener=!0,b.addEventListener("cuechange",this.cueChangeListener)}else return b.hasCueChangeListener=!1,b.removeEventListener("cuechange",this.cueChangeListener)};aa.prototype.cueChange=function(a){var b,
c,e,d,f,g,k,l,m;c=this.proxy.track?this.proxy.track.kind===a.target.kind:!0;if(!this.plugin.getHidden()&&c){g=0;this.paralleltimer&&(clearTimeout(this.paralleltimer),this.paralleltimer=null);this.parallelement&&(this.parallelement.innerHTML="");c=[];for(f=0;f<a.target.activeCues.length;){if(/^{".*}$/.test(a.target.activeCues[f].text))return;this.parallelement.style.display="inline";c[f]=document.createElement("div");c[f].className="akamai-caption-text";this.viewComponent.getElementsByClassName("akamai-caption-container")[0].appendChild(c[f]);
b=document.createElement("p");c[f].appendChild(b);if(e=window.getComputedStyle(b).lineHeight.replace("px",""))this.lineheight=e;k=-1!==navigator.userAgent.indexOf("Firefox")?a.target.activeCues[f].position-50+"%":a.target.activeCues[f].position+"%";e=this.facade.player.getMediaElement().getBoundingClientRect().height;d=100*(e/this.playerDefaultHeight);l=a.target.activeCues[f].snapToLines;l=null===l||!0!==a.target.activeCues[f].snapToLines&&"undefined"!==typeof l?10*(e/100)*a.target.activeCues[f].line:
a.target.activeCues[f].line*(this.lineheight/100)*d;0<f&&l&&(d=this.viewComponent.getElementsByClassName("akamai-caption-container")[0].childNodes[0].offsetHeight-this.lineheight/100*d,l+=d*f);l+="px";c[f].style.left=k;c[f].style.top=l;c[f].style.textAlign="left";c[f].style.position="absolute";c[f].style.bottom="auto";c[f].style.display="inline";c[f].style.padding=this.paddingvalue+"px";c[f].style.width="auto";c[f].style["min-height"]="0px";b.innerHTML=a.target.activeCues[f].text;b.style.margin="0px";
b.style.display="block";b.style.lineHeight="normal";b=null;try{m=document.createElement("span"),m.style.fontSize=JSON.parse(localStorage.getItem("akamai-captioningDefault")).size,c[f].appendChild(m),b=window.getComputedStyle(m).fontSize.replace("px",""),m=null}catch(n){}b&&(g=Math.max(g,(Number(l.replace("px",""))||0)+c[f].getBoundingClientRect().height));f===a.target.activeCues.length-1&&(b=a.target.activeCues[f].endTime?a.target.activeCues[f].endTime:0,k=a.target.activeCues[f].startTime?a.target.activeCues[f].startTime:
0,b=1E3*(b-k),500<b&&(this.paralleltimer=setTimeout(this.clearCaption.bind(this),b)));f++}if(g>e)for(g-=e,f=0;f<c.length;)c[f].style.top=Number(c[f].style.top.replace("px",""))-g+"px",f++}};aa.prototype.clearCaption=function(){this.paralleltimer&&(clearTimeout(this.paralleltimer),this.paralleltimer=null);this.parallelement&&(this.parallelement.innerHTML="")};aa.prototype.getTracksByKind=function(a){var b,c,e,d,f;e=this.facade.player.getMediaElement().textTracks;b=[];d=0;for(f=e.length;d<f;d++)c=e[d],
c.kind===a&&"en"===c.language&&b.push(c);return b};aa.prototype.suppressDupeTracks=function(a,b){var c,e,d,f,g;g=this.getTracksByKind(a);c=d=0;for(f=g.length;d<f;c=++d)e=g[c],e.kind!==a||"en"!==e.language||null!=b&&RegExp(c).test(b)||(e.mode="hidden");return 0<c};var cb=function(a){cb.__super__.constructor.call(this,null,null,a,null)};f(cb,$c);cb.prototype.componentName=I.TEXT_TRACK_RENDERER;cb.prototype.captionText=null;cb.prototype.getRendererName=function(){return"html"};cb.prototype.onRemove=
function(){if(null!==this.viewComponent)for(;this.viewComponent.firstChild;)this.viewComponent.removeChild(this.viewComponent.firstChild)};cb.prototype.canUseResource=function(a){return null==a?!1:-1!==[g.mimeTypes.srt,g.mimeTypes.ttml,g.mimeTypes.vtt].indexOf(a.type)};cb.prototype.getCaptionDisplayHeight=function(){var a,b,c;a=0;for(b=c=this.viewComponent.childNodes.length;b;){--b;if(3===c&&0===b)break;a+=g.getActualSize(this.viewComponent.childNodes[b]).height}return a+"px"};cb.prototype.scrollCaptions=
function(a,b,c){var e,d,f=this;null==a&&(a=this.viewComponent.scrollHeight);null==b&&(b=this.viewComponent.scrollTop);null==c&&(c=20);d=(a-b)/c;e=function(){var c;if(b<a)return f.viewComponent.scrollTop=b+=d,setTimeout(e,20);for(c=[];2<f.viewComponent.childNodes.length;)c.push(f.viewComponent.removeChild(f.viewComponent.firstChild));return c};e()};cb.prototype.listNotificationInterests=function(){return[O.CUE_CHANGE,d.CHANGE_MEDIA]};cb.prototype.handleNotification=function(a){var b,c,e,h,f,g,k,l,
m;b=a.getName();a=a.getBody();switch(b){case d.CHANGE_MEDIA:this.viewComponent.innerHTML="";break;case O.CUE_CHANGE:h=this.facade.player.settings.captions||{};b="";h.scroll=h.scroll.toLowerCase().replace("-","");f=0;for(k=a.length;f<k;f++){e=a[f];m=this.viewComponent.children;g=0;for(l=m.length;g<l;g++)c=m[g],RegExp(e.html).test(c.outerHTML);b+=e.html}"painton"===h.scroll?this.classList.add("captioning-typed"):this.classList.remove("captioning-typed");switch(h.scroll){case "popout":this.viewComponent.innerHTML=
b;break;case "rollon":case "painton":a=document.createElement("div");a.innerHTML=b;c=a.childNodes;e=a=0;for(b=c.length;a<b;e=++a)e=c[e],this.viewComponent.children.length&&RegExp(e.innerText).test(this.viewComponent.lastChild.innerText)||this.viewComponent.appendChild(e);this.viewComponent.style.maxHeight=this.getCaptionDisplayHeight();this.scrollCaptions()}}};var O={VISIBILITY_CHANGE:"captioningvisibilitychange",ENABLED:"captioningenabled",TRACKS_LOADED:"captioningtracksloaded",TRACK_SELECTED:"captioningtrackselected",
CUE_CHANGE:"captioningcuechange",SETTINGS_VISIBILITY_CHANGE:"captioningsettingsvisibility",TOGGLE_SETTINGS_VISIBILITY:"togglesettingsvisibility",SETTINGS_CHANGE:"captioningsettingschange"},S=function(){};S.MSG_LIVE="MSG_LIVE";S.MSG_REPLAY="MSG_REPLAY";S.MSG_BUFFERING="MSG_BUFFERING_TEXT";S.MSG_CC="MSG_CC";S.MSG_CC_TITLE="MSG_CC_TITLE";S.MSG_CC_LANGUAGE="MSG_CC_LANGUAGE";S.MSG_CC_PRESETS="MSG_CC_PRESETS";S.MSG_CC_FONT="MSG_CC_FONT";S.MSG_CC_EDGE="MSG_CC_EDGE";S.MSG_CC_SIZE="MSG_CC_SIZE";S.MSG_CC_SCROLL=
"MSG_CC_SCROLL";S.MSG_CC_COLOR="MSG_CC_COLOR";S.MSG_CC_BACKGROUND="MSG_CC_BACKGROUND";S.MSG_CC_EDGE="MSG_CC_EDGE";S.MSG_CC_WINDOW="MSG_CC_WINDOW";S.MSG_CC_OPACITY="MSG_CC_OPACITY";S.MSG_CC_SHOW_ADVANCED="MSG_CC_SHOW_ADVANCED";S.MSG_CC_HIDE_ADVANCED="MSG_CC_HIDE_ADVANCED";S.MSG_CC_RESET="MSG_CC_RESET";S.MSG_CC_CANCEL="MSG_CC_CANCEL";S.MSG_CC_APPLY="MSG_CC_APPLY";S.MSG_CC_PREVIEW_TEXT="MSG_CC_PREVIEW_TEXT";S.MSG_SECONDS="MSG_SECONDS";S.MSG_RECOMMENDATIONS_TITLE="MSG_RECOMMENDATIONS_TITLE";S.MSG_NEXT_VIDEO=
"MSG_NEXT_VIDEO";S.MSG_NEXT_AD="MSG_NEXT_AD";S.MSG_TIME_SEPARATOR="MSG_TIME_SEPARATOR";S.MSG_VIEW_ALL="MSG_VIEW_ALL";S.MSG_VIDEO="MSG_VIDEO";var Bb=function(){Bb.__super__.constructor.call(this)};f(Bb,Ma);Bb.prototype.initializeNotifier=function(a){Bb.__super__.initializeNotifier.call(this,a);this.plugin=this.facade.retrieveProxy(F.NAME);this.media=this.facade.player.retrieveProxy(q.NAME)};Bb.prototype.onRegister=function(){Bb.__super__.onRegister.call(this);this.facade.viewComponent=this.viewComponent};
var Cb=function(a){Cb.__super__.constructor.call(this,a)};f(Cb,Bb);Cb.prototype.componentName="captioning";Cb.prototype.onRegister=function(){Cb.__super__.onRegister.call(this);this.captioningStyle=this.create(null,document.getElementsByTagName("head")[0],"style");this.captioningStyle.type="text/css";this.applyStyles()};Cb.prototype.listNotificationInterests=function(){return[O.VISIBILITY_CHANGE,O.ENABLED,O.TRACK_SELECTED,d.SETTINGS_CHANGE]};Cb.prototype.onRemove=function(){var a;this.captioningStyle&&
(a=document.getElementsByTagName("head")[0],a.removeChild(this.captioningStyle))};Cb.prototype.handleNotification=function(a){var b,c,e;c=(b=a.getBody())?d.ADD_APPLICATION_STATE:d.REMOVE_APPLICATION_STATE;switch(a.getName()){case O.TRACK_SELECTED:e="cc-embedded";c="embedded"===b.type?d.ADD_APPLICATION_STATE:d.REMOVE_APPLICATION_STATE;break;case O.VISIBILITY_CHANGE:e="cc-active";break;case O.ENABLED:c=b?d.ADD_CONTROL_STATE:d.REMOVE_CONTROL_STATE;e="cc-enabled";b||this.sendNotification(d.REMOVE_APPLICATION_STATE,
"cc-active");break;case d.SETTINGS_CHANGE:null!=b.captions&&this.applyStyles()}this.sendNotification(c,e)};Cb.prototype.applyStyles=function(){var a,b,c,e,d,f,g,k;c=this.facade.settings;null!=c.visible&&(this.facade.hidden=!c.visible);d="font-family: "+c.fontFamily+" !important;";e=""+c.edgeType+" "+c.edgeColor+" !important;";f="font-size: "+c.size+" !important;";b="color: "+c.fontColor+" !important;";a="background-color: "+c.backgroundColor+" !important;";k="background-color: "+c.windowColor+" !important;";
c="line-height:2.2em;";g=k.match(/rgba\([^)]+\)/g);null!=g&&g instanceof Array&&0<g.length&&(c=0===Number(g[0].replace(/^.*, (.+)\)/,"$1"))?"":c);g=this.facade.player.viewComponent.id;this.captioningStyle.innerHTML="#"+g+" .akamai-caption-text { "+d+f+e+k+" } #"+g+" .akamai-caption-text p { "+b+a+" } video::-webkit-media-text-track-display { "+k+" } video::-webkit-media-text-track-display span { "+d+f+e+a+" } video::-webkit-media-text-track-display { "+k+" } video::cue { "+b+d+f+e+a+" } video::-webkit-media-text-track-container {"+
c+"} video::-webkit-media-text-track-display-backdrop { background-color: rgba(0, 0, 0, 0) !important;}"};var ja=function(a,b){ja.__super__.constructor.call(this,a,b);Object.defineProperties(this,{enabled:{get:this.getEnabled,set:this.setEnabled,enumerable:!0,configurable:!1},hidden:{get:this.getHidden,set:this.setHidden,enumerable:!0,configurable:!1},visible:{get:this.getVisible,set:this.setVisible,enumerable:!0,configurable:!1},tracks:{get:this.getTracks,enumerable:!0,configurable:!1},track:{get:this.getTrack,
set:this.setTrack,enumerable:!0,configurable:!1}})};f(ja,K);ja.NAME="CaptioningWrapper";ja.prototype.flashPlugins=[{id:"AdobeCaptionPlugin",src:"#{paths.resources}plugins/AdobeCaptionPlugin.swf",blocking:!1,host:"akamai",main:"AdobeCaptionPlugin",type:"application/x-shockwave-flash"},{id:"AMPCaptionPlugin",src:"#{paths.resources}plugins/AMPCaptionPlugin.swf",blocking:!1,host:"akamai",main:"AMPCaptionPlugin",type:"application/x-shockwave-flash"},{id:"CaptionSettingsPlugin",src:"#{paths.resources}plugins/CaptionSettingsPlugin.swf",
blocking:!1,host:"akamai",main:"CaptionSettingsPlugin",type:"application/x-shockwave-flash"}];ja.prototype.flashView={elements:{captionDisplay:{attributes:{defaultMessage:"Sorry! No captions available for this stream",initState:"cookie",position:"relative",settingsEnabled:"true",style:"bottom: 0px; windowColor :0x000000; windowOpacity: 0; font: Monospaced Serif; fontColor: 0xffffff; fontOpacity: 1; fontBGColor: 0x000000; fontBGOpacity: 0; edgeType: none; edgeColor: 0x000000; edgeOpacity: 1; scroll: Pop-Out; fontSize: 12;"}},
controls:{elements:{captionBtn:{}}}}};ja.prototype._hidden=!0;ja.prototype.createXML=function(a){var b,c,e,d;e=null!=(d=this.config.flash)?d.subply:void 0;if(null!=e)try{null!=e.timeMethod&&(c=a.getElementsByTagName("player")[0],c.setAttribute("subply_time_method",e.timeMethod)),null!=e.plugin&&(b=a.firstChild,e=a.getElementsByTagName("subply")[0],null==e&&(e=a.createElement("subply"),b.appendChild(e)),this.createProperty(a,"SUBPLY_URL",this.config.flash.subply.plugin,e))}catch(f){this.facade.logger.error("[AMP CAPTIONING ERROR]",
f)}};ja.prototype.createFlashVars=function(a){var b,c,e,d,f,p;e=this.player.config;if(null!=(null!=(b=e.media)?b.track:void 0)){d=g.selectTrack(e.media.track,"captions");null!=d.src&&""!==d.src&&(a.caption_url=d.src);if(0<e.media.track.length){c=[];b=[];p=e.media.track;e=0;for(f=p.length;e<f;e++)d=p[e],c.push(d.src),b.push(d.srclang);a.caption_url=c.join(",");a.caption_language=b.join(",")}a.caption_type=null!=d.type?encodeURIComponent(d.type):"application/ttml+xml"}null==a.caption_language&&(a.caption_language=
"en-us")};ja.prototype.listNotificationInterests=function(){return ja.__super__.listNotificationInterests.apply(this,arguments).concat([d.MEDIA_CHANGE,"mediaPlayerCaptioningRequest","mediaPlayerCaptionLangChange","mediaPlayerInitialized"])};ja.prototype.handleNotification=function(a){var b,c,e;ja.__super__.handleNotification.call(this,a);b=a.getName();a=a.getBody();switch(b){case "mediaPlayerCaptionLangChange":e="";break;case "mediaPlayerCaptioningRequest":e="visibilitychange";a=a.enabled;this.hidden=
!a;break;case d.MEDIA_CHANGE:b=a;if(null!=b.track){this._tracks=b.track.map(function(a){return Object.assign({language:a.srclang},a)});c=g.selectTrack(this._tracks,"captions");if(null==c)return;null!=c.src&&""!==c.src&&(b.captioningUrl=c.src);null!=c.type&&(b.captioningType=c.type||"application/ttml+xml");this._track=c}break;case "mediaPlayerInitialized":this.hidden=!this.player.getMediaElement().getPlayerProperty("isCaptionVisible")}null!=e&&""!==e&&this.dispatchEvent(new D(e,a))};ja.prototype.getHidden=
function(){return this._hidden};ja.prototype.setHidden=function(a){this._hidden=a;this.facade.getMediaElement().setPlayerProperty("captionDisplay",{visible:!a});return a};ja.prototype.getVisible=function(){return!this._hidden};ja.prototype.setVisible=function(a){this.setHidden(!a);return a};ja.prototype.getTracks=function(){return this._tracks||[]};ja.prototype.getTrack=function(){return this._track};ja.prototype.selectTrackByIndex=function(a){};ja.prototype.selectTrackByLanguage=function(a){this.facade.getMediaElement().setTrackByLanguage(a)};
ja.prototype.changeSettings=function(a){if(null!=(null!=a?a.fontFamily:void 0)&&"object"===typeof a.fontFamily)return this.facade.getMediaElement().setPlayerProperty("captionSettingsUI",a);null!=(null!=a?a.visible:void 0)&&(this.hidden=!a.visible);this.facade.getMediaElement().setPlayerProperty("captionDisplay",{visible:!this.hidden,style:this.parseObject(a)})};ja.prototype.parseObject=function(a){var b,c,e,d;b={};try{for(e in a)switch(e){case "fontFamily":b.font=a[e];break;case "fontColor":case "backgroundColor":case "edgeColor":case "windowColor":c=
"fontColor"===e?"font":"backgroundColor"===e?"fontBG":"edgeColor"===e?"edge":"window";-1!==(null!=(d=a[e])?d.indexOf("rgba"):void 0)&&(b[c+"Color"]=this.parseRGBA(a[e]),b[c+"Opacity"]=a[e].replace(/^.*,(.+)\)/,"$1"));break;default:b[e]=a[e]}delete b.visible}catch(f){this.facade.logger.error("Captioning Settings Parse Error",f)}return b};ja.prototype.parseRGBA=function(a){return(a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===a.length?"0x"+("0"+parseInt(a[1],
10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""};r.registerPlugin("captioning","flash",ja);var Ya=function(){Ya.__super__.constructor.call(this)};f(Ya,Q);Ya.NAME="Feature";Ya.prototype.featureName=null;Ya.prototype.getFeatureName=function(){return this.featureName};Ya.prototype.registerFeature=function(){null!=this.getFeatureName()&&this.player.sendNotification("registerfeature",this)};Ya.prototype.onRegister=function(){this.registerFeature();
Ya.__super__.onRegister.call(this)};Ya.prototype.listNotificationPublications=function(){return Ya.__super__.listNotificationPublications.call(this).concat(["registerfeature"])};var ad=function(a,b){ad.__super__.constructor.call(this,a,b);g.flashTypes.push(g.mimeTypes.m3u8)};f(ad,K);ad.NAME="HLSWrapper";ad.prototype.flashPlugins=[{id:"flashlsOSMF",src:"#{paths.resources}plugins/flashlsOSMF.swf",host:"osmf",type:"application/x-shockwave-flash"}];r.registerPlugin("hls","flash",ad);var y=function(a,
b){this.plugin=b;y.__super__.constructor.call(this,a.types,a);this.temporalTypes=["vod","live","dvr"]};f(y,na);y.prototype.playbackCoreName="hls";y.prototype.player=null;y.prototype.hlsConfig=null;y.prototype.fragErrorTime=0;y.prototype.timedMedatadata=null;y.prototype.currentMedatadata=null;y.prototype.id3Track=null;y.prototype.manifestParsed=!1;y.prototype.details=null;y.prototype.quality=-1;y.prototype.qualityMode="auto";y.prototype.canPlayMedium=function(a){return y.__super__.canPlayMedium.call(this,
a)||"audio"===a};y.prototype.getUseMAE=function(){return y.__super__.getUseMAE.call(this)&&"undefined"!==typeof MediaAccelerationHlsJsWrapper&&null!==MediaAccelerationHlsJsWrapper};y.prototype.getConfig=function(){var a;a=g.clone(this.config.data);!0===this.config.withCredentials&&(a.xhrSetup=function(a,c){a.withCredentials=!0});a.debug=this.plugin.proxy.getDebug();this.getUseMAE()||(a.enableSoftwareAES=null!=a.enableSoftwareAES?a.enableSoftwareAES:!0);return a};y.prototype.load=function(){var a,
b,c,e,d,f=this;null!=this.player&&this.destroy();this.manifestParsed=!1;a=this.getConfig();this.getUseMAE()?(this.facade.mae=new MediaAccelerationHlsJsWrapper(this.config.mae,a),a=this.facade.mae.getPlayer()):a=new Hls(a);a.attachMedia(this.getMediaElement());e=Hls.Events;for(b in e)c=e[b],a.on(c,function(a,b){f.plugin.dispatcher.dispatchEvent(new D(a,b))});a.on(Hls.Events.MANIFEST_PARSED,this.onManifestParsed.bind(this));a.on(Hls.Events.ERROR,this.onError.bind(this));a.on(Hls.Events.FRAG_PARSING_METADATA,
this.onFragParsingMetadata.bind(this));a.on(Hls.Events.LEVEL_LOADED,this.onLevelLoaded.bind(this));a.on(Hls.Events.LEVEL_SWITCHING,this.onLevelSwitching.bind(this));a.on(Hls.Events.LEVEL_SWITCHED,this.onLevelSwitched.bind(this));a.on(Hls.Events.FRAG_LOADING,this.onFragmentLoadStart.bind(this));a.on(Hls.Events.FRAG_LOADED,this.onFragmentLoaded.bind(this));try{for(b in d=this.config.quality,d)c=d[b],a[b]=c}catch(g){}this.player=a;this.details=null;y.__super__.load.call(this)};y.prototype.applySrc=function(){this.currentMedatadata=
null;this.player.loadSource(this.getSrc());this.getMediaElement().load()};y.prototype.onManifestParsed=function(a,b){this.plugin.sendNotification(d.DISPATCH_EVENT,new D(Hls.Events.MANIFEST_PARSED,{event:a,data:b}));this.manifestParsed=!0;this.sendNotification(d.QUALITY_LEVELS_LOADED,b.levels);this.player.loadLevel=-1};y.prototype.onLevelLoaded=function(a,b){this.plugin.sendNotification(d.DISPATCH_EVENT,new D(Hls.Events.LEVEL_LOADED,{event:a,data:b}));this.player.levels[b.level].level=b.level;this.sendNotification(d.QUALITY_CHANGE,
this.player.levels[b.level]);this.details=b.details;this.details.totalduration!==this.data.duration&&(this.data.duration=this.details.totalduration,this.sendNotification(d.CHANGE_DURATION,this.data.duration));!0===b.details.live&&"dvr"!==this.facade.mediaProxy.getTemporalType()&&this.facade.mediaProxy.setTemporalType("live")};y.prototype.onLevelSwitching=function(a,b){this.plugin.sendNotification(d.DISPATCH_EVENT,new D(Hls.Events.LEVEL_SWITCHING,{event:a,data:b}));this.sendNotification(d.QUALITY_CHANGING,
this.player.levels[b.level])};y.prototype.onLevelSwitched=function(a,b){this.plugin.sendNotification(d.DISPATCH_EVENT,new D(Hls.Events.LEVEL_SWITCHED,{event:a,data:b}));return this.sendNotification(d.QUALITY_SWITCHED,this.player.levels[b.level])};y.prototype.onFragParsingMetadata=function(a,b){this.plugin.sendNotification(d.DISPATCH_EVENT,new D(Hls.Events.FRAG_PARSING_METADATA,{event:a,data:b}))};y.prototype.onFragmentLoadStart=function(a,b){this.plugin.sendNotification(d.DISPATCH_EVENT,new D(Hls.Events.FRAG_LOADING,
{event:a,data:b}));this.sendNotification(d.FRAGMENT_LOAD_START,this.player.levels[b.frag.level].bitrate)};y.prototype.onFragmentLoaded=function(a,b){this.plugin.sendNotification(d.DISPATCH_EVENT,new D(Hls.Events.FRAG_LOADED,{event:a,data:b}));this.sendNotification(d.FRAGMENT_LOADED,this.player.levels[b.frag.level].bitrate)};y.prototype.ontimeupdate=function(a){var b;!0!==(null!=(b=this.facade.ads)?b.inProgress:void 0)&&(this.data.currentTime=this.getCurrentTime(),this.sendNotification(d.TIME_CHANGE,
{currentTime:this.data.currentTime}))};y.prototype.ondurationchange=function(a){a=this.getDetails().totalduration;a===this.data.duration||0===a||isNaN(a)||(this.data.duration=a,this.sendNotification(d.CHANGE_DURATION,a))};y.prototype.oncanplaythrough=function(a){this.createTracks();this.sendNotification(d.CAN_PLAY_THROUGH);this.sendNotification(d.PROGRESS,this.getDuration());"manual"===this.qualityMode&&this.player.currentLevel!==this.quality&&this.setQuality(this.quality)};y.prototype.getCurrentTime=
function(){return this.getMediaElement().currentTime-this.getStartTime()};y.prototype.getDetails=function(){return this.details||{}};y.prototype.getFragmentDuration=function(){return this.getDetails().targetduration};y.prototype.getUTCStart=function(){return 1E4*this.getDetails().startSN};y.prototype.getUTCTime=function(){return this.getUTCStart()+1E3*this.getCurrentTime()};y.prototype.getUTCEnd=function(){return 1E4*this.getDetails().endSN};y.prototype.getStartTime=function(){return this.getMediaElement().duration-
this.getDuration()};y.prototype.goLive=function(){this.setCurrentTime(this.getLiveTime())};y.prototype.getLiveTime=function(){return this.getDuration()-this.getFragmentDuration()};y.prototype.isLive=function(){return this.getStartTime()+this.getCurrentTime()>=this.getLiveTime()};y.prototype.seek=function(a){var b=this;return y.__super__.seek.call(this,a+this.getStartTime()).then(function(a){"dvr"===b.mediaProxy.getTemporalType()&&b.sendNotification(d.IS_LIVE,b.isLive())})};y.prototype.onplaying=function(a){y.__super__.onplaying.call(this);
this.retried=!1};y.prototype.onError=function(a,b){this.plugin.sendNotification(d.DISPATCH_EVENT,new D("error",{event:a,data:b}));if(!0!==this.config.ignoreErrors)if(!1===this.config.retryOnError||!0===this.retried)this.retried=!1,this.error(b);else if(b.fatal&&b.type===Hls.ErrorTypes.MEDIA_ERROR&&b.details===Hls.ErrorDetails.FRAG_LOOP_LOADING_ERROR&&(b.fatal=!1),b.fatal)switch(b.type){case Hls.ErrorTypes.NETWORK_ERROR:this.retried=!0;this.manifestParsed?this.player.startLoad():this.player.loadSource(this.getSrc());
this.facade.logger.error("[AMP HLS] Playback Error trying to recover:",a);break;case Hls.ErrorTypes.MEDIA_ERROR:this.retried=!0;this.player.recoverMediaError();this.facade.logger.error("[AMP HLS] Playback Error trying to recover:",a);break;default:this.facade.logger.error("[AMP HLS] Playback Error:",a),this.error(b)}else b.details===Hls.ErrorDetails.FRAG_LOOP_LOADING_ERROR&&(this.fragErrorTime===this.getMediaElement().currentTime?(this.getMediaElement().currentTime++,this.facade.logger.error("[AMP HLS] Frag Loop Load Error, Seeking to :",
this.getMediaElement().currentTime)):this.fragErrorTime=this.getMediaElement().currentTime)};y.prototype.error=function(a){switch(a.type){case Hls.ErrorTypes.NETWORK_ERROR:a.code=MediaError.MEDIA_ERR_NETWORK;break;case Hls.ErrorTypes.MEDIA_ERROR:a.code=MediaError.MEDIA_ERR_DECODE;break;default:a.toString=function(){return a.details}}this.sendNotification(d.ERROR,a)};y.prototype.createTracks=function(){var a,b,c,e,d,f,p,k,l,m;a=this.player.audioTracks;e=this.player.audioTrack;k=this.facade.tracks.getAudioTracks();
c=a.length;b=function(a,b){this.facade.tracks.getAudioTracks().forEach(function(a){return a.data.enabled=!1});!0===b&&(this.facade.tracks.getAudioTracks()[a.id].data.enabled=!0,this.player.audioTrack=a.id)};d=l=0;for(m=a.length;l<m;d=++l)f=a[d],!1!==g.fieldIsUnique(k,"id",f.id)&&(p=new Sa({kind:f.type,label:f.name||f.id,language:f.lang,id:f.id,enabled:f.id===e,data:f}),p.changeEnabled=b.bind(this,f),k.add(p,d+1===c))};y.prototype.setQuality=function(a){var b;this.setQualityMode(-1<a?"manual":"auto");
if(a===this.player.currentLevel)this.onLevelSwitching("hlsLevelSwitching",this.player.levels[a]),this.onLevelSwitched("hlsLevelSwitched",{level:a});else return null!=(b=this.player)&&(b.currentLevel=this.quality=a),this.quality};y.prototype.getQuality=function(){var a,b,c;a=null!=(b=this.player)?b.currentLevel:void 0;-1===a&&(a=null!=(c=this.player)?c.nextLoadLevel:void 0);return a};y.prototype.getQualityLevels=function(){var a;return(null!=(a=this.player)?a.levels:void 0)||y.__super__.getQualityLevels.call(this)};
y.prototype.getQualityMode=function(){return this.qualityMode};y.prototype.setQualityMode=function(a){"auto"!==a&&"manual"!==a?a+=" is not a valid key":this.qualityMode=a;return a};y.prototype.destroy=function(){null!=this.player&&(y.__super__.destroy.call(this),this.player.destroy(),this.player=null)};var $d=function(){$d.__super__.constructor.call(this)};f($d,H);$d.prototype.execute=function(a){var b;"freewheel"===(null!=(b=a.getBody())?b.partner:void 0)&&(a=this.facade.player.getPlaybackRate(),
this.proxy.destroy(),this.facade.player.setPlaybackRate(a))};var k={BREAK_START:"adsbreakstart",BREAK_END:"adsbreakend",BREAK_SKIPPED:"adsbreakskipped",AD_CONTAINER_CREATED:"adscontainercreated",AD_LOADED:"adsloaded",AD_MANAGER_LOADED:"adsmanagerloaded",AD_STARTED:"adsstarted",AD_TIME_UPDATE:"adstimeupdate",AD_TIME_REMAINING:"adstimeremaining",AD_DURATION_CHANGE:"adsdurationchange",AD_ENDED:"adsended",AD_ERROR:"adserror",AD_PLAY:"adsplay",AD_PAUSE:"adspause",AD_PAUSED:"adspaused",AD_RESUME:"adsresume",
AD_CLICKED:"adclicked",AD_COMPANION:"adscompanion",FIRST_QUARTILE:"adsfirstquartile",MIDPOINT:"adsmidpoint",THIRD_QUARTILE:"adsthirdquartile",COMPLETE:"adscomplete",LOG:"adslog",REQUEST:"adsrequest",REQUEST_COMPLETE:"adsrequestcomplete",RESPONSE:"adsresponse",SKIPPED:"adsskipped",IMPRESSION:"adsimpression"},Mb=function(a){Mb.__super__.constructor.call(this,a)};f(Mb,Z);Mb.NAME=F.NAME;Mb.prototype.playbackProxy=null;Mb.prototype.createPlaybackProxy=function(){};Mb.prototype.initialize=function(){var a;
this.playbackProxy=this.createPlaybackProxy();null!=this.playbackProxy&&(this.sendNotification(d.INITIALIZED),a=this.facade.player.retrieveProxy(R.NAME),a.registerPlaybackCore(this.playbackProxy))};Mb.prototype.destroy=function(){var a;null!=(a=this.playbackProxy)&&a.destroy()};var vc=function(a){vc.__super__.constructor.call(this,a)};f(vc,Mb);vc.NAME=F.NAME;vc.prototype.defaults={types:["application/x-mpegURL"],data:{enableWorker:!0,enableCEA708Captions:!0},mae:null,buffer:null,quality:null,withCredentials:null,
retryOnError:!0,ignoreErrors:!1};vc.prototype.createPlaybackProxy=function(){if(null!=(window.MediaSource||window.WebKitMediaSource)&&Hls.isSupported())return new y(this.getConfigurationData(),this.facade)};var M=function(a){M.__super__.constructor.call(this,a.types,a);this.buffer=a.buffer;this.temporalTypes=["vod","live","dvr"]};f(M,na);M.prototype.playbackCoreName="dash";M.prototype.context=null;M.prototype.player=null;M.prototype.buffer=null;M.prototype.resumecomplete=function(){var a,b,c;try{b=
null!=(c=this.facade.getMediaElement())?c.textTracks:void 0,0!==(null!=b?b.length:void 0)&&(a=b[0],null!=a&&(a.mode="hidden"))}catch(e){}M.__super__.resumecomplete.call(this)};M.prototype.onerror=function(){};M.prototype.canPlayMedium=function(a){return M.__super__.canPlayMedium.call(this,a)||"audio"===a};M.prototype.createTracks=function(){var a,b,c,e,d,f,p,k,l,m;a=this.player.getTracksFor("audio");e=this.player.getCurrentTrackFor("audio");k=this.facade.tracks.getAudioTracks();c=a.length;b=function(a,
b,c){this.facade.tracks.getAudioTracks().forEach(function(a){return a.data.enabled=a===b});!0===c&&this.player.setCurrentTrack(a)};d=l=0;for(m=a.length;l<m;d=++l)f=a[d],!1!==g.fieldIsUnique(k,"id",f.id)&&(p=new Sa({kind:f.roles.join(" "),label:f.id,language:f.lang,id:f.id,enabled:f===e,data:f}),p.changeEnabled=b.bind(this,f,p),k.add(p,d+1===c))};M.prototype.getUseMAE=function(){return M.__super__.getUseMAE.call(this)&&"undefined"!==typeof MediaAccelerationDashJsWrapper&&null!==MediaAccelerationDashJsWrapper};
M.prototype.load=function(){null==this.player&&(this.getUseMAE()?(this.facade.mae=new MediaAccelerationDashJsWrapper(this.config.mae),this.player=this.facade.mae.getPlayer()):this.player=dashjs.MediaPlayer().create(),this.player.on("error",this.onError.bind(this)),this.player.on("fragmentLoadingStarted",this.onFragmentLoadStart.bind(this)),this.player.on("fragmentLoadingCompleted",this.onFragmentLoaded.bind(this)),this.player.on("qualityChangeRequested",this.onLevelSwitching.bind(this)),this.player.getDebug().setLogToBrowserConsole(this.facade.logger.enabled),
this.player.initialize(this.getMediaElement(),null,!1),null!=this.config.initialBitrate&&this.player.setInitialBitrateFor(this.facade.getMedia().medium,this.config.initialBitrate));M.__super__.load.call(this)};M.prototype.applySrc=function(){var a;a=this.facade.getMedia().keys;null!=a&&this.player.setProtectionData(a);this.player.attachSource(this.getSrc());this.getMediaElement().load()};M.prototype.seek=function(a){return Promise.resolve(this.player.seek(a))};M.prototype.getCurrentTime=function(){var a;
return(null!=(a=this.player)?a.time():void 0)||0};M.prototype.getDuration=function(){var a;return(null!=(a=this.player)?a.duration():void 0)||0};M.prototype.getStats=function(){return{}};M.prototype.onFragmentLoadStart=function(a){this.sendNotification(d.FRAGMENT_LOAD_START,a.request.mediaInfo.bitrateList[a.request.quality].bandwidth)};M.prototype.onFragmentLoaded=function(a){this.sendNotification(d.FRAGMENT_LOADED,a.request.mediaInfo.bitrateList[a.request.quality].bandwidth)};M.prototype.onLevelSwitching=
function(a){this.sendNotification(d.QUALITY_CHANGING,this.getQualityLevels()[a.newQuality])};M.prototype.onError=function(a){this.facade.logger.error("DASH JS Playback Error:",a)};M.prototype.setQuality=function(a){var b,c,e;null!=(b=this.player)&&b.setAutoSwitchQualityFor(null!=(c=this.facade.getMedia())?c.medium:void 0,-1===a);if(-1!==a)return null!=(e=this.player)?e.setQualityFor("video",a):void 0};M.prototype.getQuality=function(){var a;return null!=(a=this.player)?a.getQualityFor("video"):void 0};
M.prototype.getQualityLevels=function(){var a;return(null!=(a=this.player)?a.getBitrateInfoListFor("video"):void 0)||M.__super__.getQualityLevels.call(this)};M.prototype.getQualityMode=function(){var a,b;return!0===(null!=(a=this.player)?a.getAutoSwitchQualityFor(null!=(b=this.facade.getMedia())?b.medium:void 0):void 0)?"auto":"abr"};M.prototype.setQualityMode=function(a){var b,c;return"auto"!==a?a+" is not a valid key":null!=(b=this.player)?b.setAutoSwitchQualityFor(null!=(c=this.facade.getMedia())?
c.medium:void 0,a):void 0};M.prototype.destroy=function(){null!=this.player&&(this.player.reset(),M.__super__.destroy.call(this))};var W=function(){W.__super__.constructor.call(this);Object.defineProperties(this,{enabled:{get:this.getEnabled,set:this.setEnabled,enumerable:!0,configurable:!1},hidden:{get:this.getHidden,set:this.setHidden,enumerable:!0,configurable:!1},visible:{get:this.getVisible,set:this.setVisible,enumerable:!0,configurable:!1},tracks:{get:this.getTracks,enumerable:!0,configurable:!1},
track:{get:this.getTrack,set:this.setTrack,enumerable:!0,configurable:!1},settings:{get:this.getSettings,enumerable:!0,configurable:!1}})};f(W,Ya);W.prototype.featureName="captioning";W.prototype.moduleName="captioning";W.prototype.mediatorname="";W.prototype.createController=function(){W.__super__.createController.call(this);this.registerCommand(d.CHANGE_MEDIA,Xd);this.registerCommand(d.STARTED,Zd);this.registerCommand(d.TIME_UPDATE,Yd);this.registerCommand(O.VISIBILITY_CHANGE,Zc);this.registerCommand(O.ENABLED,
Yc);this.registerCommand(O.TRACK_SELECTED,A);this.registerCommand(O.TRACKS_LOADED,A);this.registerCommand(O.CUE_CHANGE,A)};W.prototype.createModel=function(){this.proxy=new I(this.config);this.registerProxy(this.proxy)};W.prototype.createView=function(){var a;a=new Cb;this.registerMediator(a);this.mediatorname=a.getMediatorName();a=a.viewComponent;this.proxy.registerRenderer(new aa(a));this.proxy.registerRenderer(new cb(a))};W.prototype.destroy=function(){for(var a,b;1<=this.proxy.rendererMap.length;)b=
this.proxy.rendererMap[0],a=b.getMediatorName(),this.removeMediator(a),this.proxy.removeRenderer(b.getRendererName());this.removeMediator(this.mediatorname)};W.prototype.listNotificationInterests=function(){return[d.LOADED_METADATA,d.CAN_PLAY_THROUGH,d.CHANGE_MEDIA,d.STARTED,d.TIME_UPDATE,d.SETTINGS_CHANGE,O.TRACK_SELECTED]};W.prototype.listNotificationPublications=function(){return W.__super__.listNotificationPublications.call(this).concat([O.CUE_CHANGE,d.ADD_CONTROL_STATE,d.REMOVE_CONTROL_STATE,
d.CHANGE_SETTINGS,O.VISIBILITY_CHANGE,O.SETTINGS_CHANGE])};W.prototype.getEnabled=function(){return this.proxy.getEnabled()};W.prototype.setEnabled=function(a){this.sendNotification(O.ENABLED,a);return a};W.prototype.getHidden=function(){return this.proxy.getHidden()};W.prototype.setHidden=function(a){this.setVisible(!a);return a};W.prototype.getVisible=function(){return!this.proxy.getHidden()};W.prototype.setVisible=function(a){this.sendNotification(d.CHANGE_SETTINGS,{captions:{visible:a}});this.sendNotification(O.VISIBILITY_CHANGE,
a);return a};W.prototype.getTracks=function(){return this.proxy.getTracks()};W.prototype.getTrack=function(){return this.proxy.getTrack()};W.prototype.setTrack=function(a){this.proxy.setTrack(a);return a};W.prototype.selectTrackByIndex=function(a){return this.proxy.selectTrackByIndex(a)};W.prototype.selectTrackByLanguage=function(a){return this.proxy.selectTrackByLanguage(a)};W.prototype.changeSettings=function(a){this.sendNotification(d.CHANGE_SETTINGS,{captions:a});this.sendNotification(O.SETTINGS_CHANGE,
a);return a};W.prototype.getSettings=function(){return this.player.settings.captions};W.prototype.useParallelRendering=function(a){var b;(b=this.proxy.getRenderer())&&b.useParallelRendering(a);return a};r.registerPlugin("captioning","html",W);var ae=function(){ae.__super__.constructor.call(this)};f(ae,puremvc.SimpleCommand);ae.prototype.execute=function(a){var b,c,e,h,f=this;e=a.getBody();this.facade.retrieveProxy(n.NAME);a=this.facade.getMediaElement();null!=a&&a.webkitSupportsFullscreen&&(c=this.facade.retrieveProxy(t.NAME),
c.setDisplayState(e),b={},h=this.facade.viewComponent,null!=h.requestFullscreen?(b.enter=function(){return h.requestFullscreen()},b.exit=function(){return document.cancelFullscreen()},b.event="onfullscreenchange",b.element="fullscreenElement"):null!=h.webkitRequestFullScreen?(b.enter=function(){return h.webkitRequestFullScreen()},b.exit=function(){return document.webkitCancelFullScreen()},b.event="onwebkitfullscreenchange",b.element="webkitFullscreenElement"):null!=h.mozRequestFullScreen?(b.enter=
function(){return h.mozRequestFullscreen()},b.exit=function(){return document.mozCancelFullScreen()},b.event="onmozfullscreenchange",b.element="mozFullscreenElement"):null!=h.msRequestFullScreen&&(b.enter=function(){return h.msRequestFullscreen()},b.exit=function(){return document.msCancelFullScreen()},b.event="onmozfullscreenchange",b.element="mozFullscreenElement"),e===V.FULL_SCREEN?(b.enter(),null!=b.event&&(a[b.event]=function(a){if(null==document[b.element])return f.sendNotification(d.CHANGE_DISPLAY_STATE,
V.NORMAL)})):e===V.NORMAL&&(b.exit(),a[b.event]=null),this.facade.dispatchEvent(new D("fullscreenchange",e===V.FULL_SCREEN)))};var wc=function(a){wc.__super__.constructor.call(this,a)};f(wc,Mb);wc.NAME=F.NAME;wc.prototype.defaults={types:["application/dash+xml"],buffer:null,mae:null,initialBitrate:null};wc.prototype.createPlaybackProxy=function(){if(null!=(window.MediaSource||window.WebKitMediaSource))return new M(this.getConfigurationData())};var Na=function(){Na.__super__.constructor.call(this);
Object.defineProperties(this,{instance:{get:this.getInstance,enumerable:!0,configurable:!1}})};f(Na,Q);Na.prototype.moduleName="hls";Na.prototype.createModel=function(){this.proxy=new vc(this.config);this.registerProxy(this.proxy)};Na.prototype.createController=function(){this.registerCommand(k.BREAK_START,$d);Na.__super__.createController.call(this)};Na.prototype.logEvent=function(a){!0!==/(hlsFragLoading|hlsFragLoaded)/.test(a.type)&&Na.__super__.logEvent.call(this,a)};Na.prototype.getPlaybackProxy=
function(){return this.proxy.playbackProxy};Na.prototype.getInstance=function(){return this.getPlaybackProxy().player};Na.prototype.listNotificationInterests=function(){return Na.__super__.listNotificationInterests.call(this).concat([k.BREAK_START])};Na.prototype.listNotificationPublications=function(){return Na.__super__.listNotificationPublications.call(this).concat([d.TIMED_METADATA,d.QUALITY_LEVELS_LOADED,d.QUALITY_CHANGE,d.QUALITY_CHANGING,d.FRAGMENT_LOAD_START,d.FRAGMENT_LOADED])};r.registerPlugin("hls",
"html",Na);var Oa=function(a){Oa.__super__.constructor.call(this,a)};f(Oa,Z);Oa.NAME=F.NAME;Oa.prototype.defaults={config:null,dimensions:null,iplookup:!0};Oa.prototype.ready=function(){try{!0===this.getDebug()&&(window.AkamaiAnalytics_debug=1),window.akamaiSetVideoObject(this.facade.player.getMediaElement())}catch(a){this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]","Could not set video tag",a)}!1===this.value.iplookup&&"function"===typeof akamaiDisableServerIpLookup&&akamaiDisableServerIpLookup()};
Oa.prototype.setDimensions=function(a){var b,c,e;b=this.data.dimensions;for(c in a)e=a[c],null!=e&&(b[c]=e);this.applyDimensions(b);return a};Oa.prototype.applyDimensions=function(a){var b,c;if(null!=window.setAkamaiMediaAnalyticsData)try{for(b in a)c=a[b],setAkamaiMediaAnalyticsData(b,c)}catch(e){this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]","Could not set dimensions:",e)}};Oa.prototype.setMedia=function(a){var b,c;"function"===typeof akamaiSetStreamURL&&akamaiSetStreamURL(a.src,!1);b=this.value.viewerId||
this.value.viewerID||this.value["std:viewerId"];null!=b&&akamaiSetViewerId(b);b=null!=(null!=(c=a.mediaanalytics)?c.dimensions:void 0)?g.override(this.value.dimensions,a.mediaanalytics.dimensions):this.value.dimensions;akamaiHandleStreamSwitch();this.applyDimensions(b);return a};Oa.prototype.udpateMedia=function(a){"function"===typeof akamaiHandleTitleSwitch&&akamaiHandleTitleSwitch(a);return a};Oa.prototype.fragmentLoadStart=function(a){"function"===typeof fragmentDownloadStarted&&fragmentDownloadStarted(a)};
Oa.prototype.fragmentLoaded=function(a){"function"===typeof fragmentDownloadCompleted&&fragmentDownloadCompleted(a)};Oa.prototype.bitrateSwitch=function(a){"function"===typeof akamaiHandleBitRateSwitch&&akamaiHandleBitRateSwitch(a.bitrate)};var be=function(){be.__super__.constructor.call(this)};f(be,puremvc.SimpleCommand);be.prototype.execute=function(a){this.facade.retrieveProxy(Oa.NAME).ready()};var ce=function(){ce.__super__.constructor.call(this)};f(ce,H);ce.prototype.execute=function(a){this.proxy.setMedia(a.getBody())};
var de=function(){de.__super__.constructor.call(this)};f(de,puremvc.SimpleCommand);de.prototype.execute=function(a){this.facade.player.getMediaElement().dataset.isad=!0};var ee=function(){ee.__super__.constructor.call(this)};f(ee,puremvc.SimpleCommand);ee.prototype.execute=function(a){this.facade.player.getMediaElement().dataset.isad=!1};var fe=function(){fe.__super__.constructor.call(this)};f(fe,puremvc.SimpleCommand);fe.prototype.execute=function(a){var b,c;try{c=a.getBody(),b={adDuration:c.duration,
adPartnerId:c.partner,adTitle:c.title,adId:c.id},"function"===typeof akamaiHandleAdLoaded&&akamaiHandleAdLoaded(b)}catch(e){this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]",e)}};var ge=function(){ge.__super__.constructor.call(this)};f(ge,H);ge.prototype.execute=function(a){try{"function"===typeof akamaiHandleAdStarted&&akamaiHandleAdStarted()}catch(b){this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]",b)}};var he=function(){he.__super__.constructor.call(this)};f(he,H);he.prototype.execute=
function(a){a=a.getBody();a=Math.round(100*(a.currentTime/a.duration));try{25<=a&&25>this.proxy.percent?(this.facade.logger.debug("MediaAnalytics: First Quartile"),"function"===typeof akamaiHandleAdFirstQuartile&&akamaiHandleAdFirstQuartile()):50<=a&&50>this.proxy.percent?(this.facade.logger.debug("MediaAnalytics: Second Quartile"),"function"===typeof akamaiHandleAdMidpoint&&akamaiHandleAdMidpoint()):75<=a&&75>this.proxy.percent&&(this.facade.logger.debug("MediaAnalytics: Third Quartile"),"function"===
typeof akamaiHandleAdThirdQuartile&&akamaiHandleAdThirdQuartile())}catch(b){this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]",b)}this.proxy.percent=a};var ie=function(){ie.__super__.constructor.call(this)};f(ie,puremvc.SimpleCommand);ie.prototype.execute=function(a){try{"function"===typeof akamaiHandleAdCompleted&&akamaiHandleAdCompleted()}catch(b){this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]",b)}this.facade.player.getMediaElement().dataset.isad=!0};var je=function(){je.__super__.constructor.call(this)};
f(je,H);je.prototype.execute=function(a){a=a.getBody();this.proxy.setDimensions(a)};var ke=function(){ke.__super__.constructor.call(this)};f(ke,H);ke.prototype.execute=function(a){this.proxy.updatedMedia(a.getBody())};var le=function(){le.__super__.constructor.call(this)};f(le,H);le.prototype.execute=function(a){this.proxy.fragmentLoadStart(a.getBody())};var me=function(){me.__super__.constructor.call(this)};f(me,H);me.prototype.execute=function(a){this.proxy.fragmentLoaded(a.getBody())};var ne=function(){ne.__super__.constructor.call(this)};
f(ne,H);ne.prototype.execute=function(a){this.proxy.bitrateSwitch(a.getBody())};var db=function(a,b){db.__super__.constructor.call(this,a,b)};f(db,K);db.NAME="MediaAnalyticsWrapper";db.prototype.flashPlugins=[{id:"OSMFCSMALoader",host:"osmf",main:"com.akamai.playeranalytics.osmf.OSMFCSMALoaderInfo",type:"application/x-shockwave-flash"}];db.prototype.listNotificationInterests=function(){return db.__super__.listNotificationInterests.call(this).concat([d.MEDIA_CHANGE,"mediaanalytics:setDimensions"])};
db.prototype.createFlashVars=function(a){var b,c,e,d;b=null!=(e=this.player.config)?null!=(d=e.media)?d.mediaanalytics:void 0:void 0;if(null!=b)for(c in b)e=b[c],a["report_"+c]=e;return a};db.prototype.createXML=function(a){var b,c,e,d,f;b=a.firstChild;e=a.getElementsByTagName("metrics")[0];null==e&&(e=a.createElement("metrics"),b.appendChild(e));b=a.createElement("vendor");b.setAttribute("id","akamai");e.appendChild(b);null!=this.config.config&&(e=a.createElement("property"),e.setAttribute("key",
"MEDIA_ANALYTICS_BEACON"),e.appendChild(da.createTextContent(a,this.config.config)),b.appendChild(e),f=(null!=(c=this.config.plugin)?c.swf:void 0)||"http://79423.analytics.edgesuite.net/csma/plugin/csma.swf",e=a.createElement("property"),e.setAttribute("key","MEDIA_ANALYTICS_PLUGIN_PATH"),e.appendChild(da.createTextContent(a,f)),b.appendChild(e));if(null!=this.config.dimensions)for(d in c=a.createElement("property"),c.setAttribute("key","dimensions"),b.appendChild(c),f=this.config.dimensions,f)b=
f[d],e=a.createElement("property"),e.setAttribute("key",d),e.appendChild(da.createTextContent(a,b)),c.appendChild(e);return a};db.prototype.handleNotification=function(a){var b,c,e;db.__super__.handleNotification.call(this,a);c=a.getName();a=a.getBody();switch(c){case d.MEDIA_CHANGE:if(null!=(null!=(e=a.mediaanalytics)?e.dimensions:void 0))for(b in a.dimensions=[],e=a.mediaanalytics.dimensions,e)c=e[b],a.dimensions.push({key:b,value:c});break;case "mediaanalytics:setDimensions":this.setDimensions(a)}};
db.prototype.setDimensions=function(a){this.player.mediaElement.setPlayerProperty("maDimensions",a);return a};var qb=function(){qb.__super__.constructor.call(this);Object.defineProperties(this,{instance:{get:this.getInstance,enumerable:!0,configurable:!1}})};f(qb,Q);qb.prototype.moduleName="dash";qb.prototype.createModel=function(){this.proxy=new wc(this.config);this.registerProxy(this.proxy)};qb.prototype.getPlaybackProxy=function(){return this.proxy.playbackProxy};qb.prototype.getInstance=function(){return this.getPlaybackProxy().player};
qb.prototype.registered=function(){this.player.registerCommand(d.CHANGE_DISPLAY_STATE,ae);qb.__super__.registered.call(this)};qb.prototype.listNotificationPublications=function(){return qb.__super__.listNotificationPublications.call(this).concat([d.FRAGMENT_LOAD_START,d.FRAGMENT_LOADED])};r.registerPlugin("dash","html",qb);var bd=function(a,b){bd.__super__.constructor.call(this,a,b)};f(bd,K);bd.NAME="OctoshapeWrapper";bd.prototype.flashPlugins=[{id:"OctoShapeStreamingPlugin",src:"#{paths.resources}plugins/infinitehd-osmf-plugin-1511180@v330-OSMF_1_6_MA.swf",
host:"osmf",main:"com.octoshape.osmf.streamingplugin.OctoshapeStreamingPluginInfo"}];r.registerPlugin("octoshape","flash",bd);var xa={LOAD_FEED:"loadfeed",FEED_CHANGED:"feedchanged",FEED_LOADED:"feedloaded",FEED_ERROR:"feederror"},rb=function(){rb.__super__.constructor.call(this)};f(rb,Q);rb.prototype.moduleName="mediaanalytics";rb.prototype.initialize=function(a,b){window.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH=a.config;rb.__super__.initialize.call(this,a,b)};rb.prototype.createModel=function(){this.proxy=
new Oa(this.config);this.registerProxy(this.proxy)};rb.prototype.createController=function(){rb.__super__.createController.call(this);this.registerCommand(d.READY,be);this.registerCommand(d.MEDIA_CHANGE,ce);this.registerCommand(k.BREAK_START,de);this.registerCommand(k.BREAK_END,ee);this.registerCommand(k.AD_LOADED,fe);this.registerCommand(k.AD_STARTED,ge);this.registerCommand(k.AD_TIME_UPDATE,he);this.registerCommand(k.AD_ENDED,ie);this.registerCommand("mediaanalytics:setDimensions",je);this.registerCommand(d.CONTENT_CHANGED,
ke);this.registerCommand(d.FRAGMENT_LOAD_START,le);this.registerCommand(d.FRAGMENT_LOADED,me);this.registerCommand(d.QUALITY_CHANGE,ne)};rb.prototype.listNotificationInterests=function(){return[d.READY,d.MEDIA_CHANGE,k.BREAK_START,k.BREAK_END,k.AD_LOADED,k.AD_STARTED,k.AD_TIME_UPDATE,k.AD_ENDED,"mediaanalytics:setDimensions",d.CONTENT_CHANGED,d.FRAGMENT_LOAD_START,d.FRAGMENT_LOADED,d.QUALITY_CHANGE]};rb.prototype.setDimensions=function(a){this.retrieveProxy(Oa.NAME).setDimensions(a);return a};r.registerPlugin("mediaanalytics",
"html",rb);r.registerPlugin("mediaanalytics","flash",db);var Pa=function(a){Pa.__super__.constructor.call(this,a);this.helper=new xb};f(Pa,F);Pa.NAME=F.NAME;Pa.prototype.defaults={url:null,data:null};Pa.prototype.feed=null;Pa.prototype.helper=null;Pa.prototype.setURL=function(a){var b=this;this.data.url=this.facade.evaluatePaths(a);this.sendNotification(d.DISPATCH_EVENT,new D("request",this.data.url));this.helper.getFeed(this.data.url).then(function(a){b.sendNotification(xa.FEED_LOADED,a);b.sendNotification(xa.CHANGE_FEED,
a)})["catch"](function(c){b.sendNotification(xa.FEED_ERROR,{error:c,url:a});Y.instance.error("[AMP Feed Load Error]",b.data.url,c)});return a};Pa.prototype.getURL=function(){return this.data.url};Pa.prototype.setFeedData=function(a){this.data.data=a;this.feed=this.helper.createFeed(a);this.sendNotification(xa.FEED_CHANGED,this.feed);return a};Pa.prototype.getFeedData=function(){return this.data.data};Pa.prototype.invoke=function(){var a;null!=this.data.url&&""!==this.data.url?a=this.sendNotification.bind(this,
xa.LOAD_FEED,this.data.url):null!=this.data.data&&(a=this.sendNotification.bind(this,xa.CHANGE_FEED,this.data.data));null!=a&&setTimeout(a,1)};var oe=function(){oe.__super__.constructor.call(this)};f(oe,puremvc.SimpleCommand);oe.prototype.execute=function(a){this.facade.retrieveProxy(Pa.NAME).setURL(a.getBody())};var pe=function(){pe.__super__.constructor.call(this)};f(pe,puremvc.SimpleCommand);pe.prototype.execute=function(a){this.facade.retrieveProxy(Pa.NAME).setFeedData(a.getBody())};var cd=function(){cd.__super__.constructor.call(this)};
f(cd,A);cd.prototype.execute=function(a){cd.__super__.execute.call(this,a);this.player.sendNotification(d.CHANGE_PLAY_STATE,U.READY);a=a.getBody().item[0];this.player.sendNotification(d.SET_MEDIA,a)};var qe=function(){qe.__super__.constructor.call(this)};f(qe,puremvc.SimpleCommand);qe.prototype.execute=function(a){this.facade.retrieveProxy(Pa.NAME).invoke()};var Ga=function(a,b){null==b&&(b={});Ga.__super__.constructor.call(this,a,b);null!=b.url&&(this.url=b.url);null!=b.data&&(this.data=b.data);
this.player.load=function(){}};f(Ga,K);Ga.NAME="FeedWrapper";Ga.prototype.url=null;Ga.prototype.data=null;Ga.prototype.updateData=!0;Ga.prototype.createFlashVars=function(a){null!=this.url&&""!==this.url&&(a.data_feed_url=escape(this.facade.evaluatePaths(this.url)))};Ga.prototype.listNotificationInterests=function(){return Ga.__super__.listNotificationInterests.apply(this,arguments).concat(["jsApiReady","mediaPlayerFeedLoaded","mediaPlayerDataFeedRequested"])};Ga.prototype.handleNotification=function(a){var b,
c,e=this;Ga.__super__.handleNotification.call(this,a);b=a.getName();a=a.getBody();switch(b){case "mediaPlayerFeedLoaded":this.sendNotification(xa.FEED_CHANGED,this.data);break;case "mediaPlayerDataFeedRequested":c="request";break;case "jsApiReady":null!=this.data?setTimeout(function(){e.setData(e.data)},25):null!=this.url&&""!==this.url&&this.sendNotification(xa.LOAD_FEED,this.url)}null!=c&&this.dispatchEvent(new D(c,a))};Ga.prototype.setURL=function(a){null!=a&&""!==a&&(this.url=a,this.player.mediaElement.playFile(this.url,
this.player.getAutoplay()),this.sendNotification(xa.LOAD_FEED,this.url));return a};Ga.prototype.getURL=function(){return this.url};Ga.prototype.setData=function(a){this.data=a;this.updateData=!1;this.player.mediaElement.playFile(this.data,this.player.getAutoplay());return a};Ga.prototype.getData=function(){return this.data};var re=function(){re.__super__.constructor.call(this)};f(re,Q);re.prototype.moduleName="octoshape";r.registerPlugin("octoshape","html",re);var Db={TIME_UPDATE:"autoadvancetimeupdate",
START:"autoadvancestart",STOP:"autoadvancestop",ADVANCE:"autoadvanceadvance"},eb=function(a,b){null==b&&(b={});eb.__super__.constructor.call(this,a,b);null!=b.interval&&(this.interval=b.interval);null!=b.handler&&(this.handler=b.handler)};f(eb,K);eb.NAME="AutoAdvanceWrapper";eb.prototype.interval=null;eb.prototype.handler=null;eb.prototype.getInterval=function(){return this.interval};eb.prototype.setInterval=function(a){return this.interval=a};eb.prototype.getHandler=function(){return this.handler};
eb.prototype.setHandler=function(a){return this.handler=a};eb.prototype.listNotificationInterests=function(){return["createFlashVars","mediaPlayerAutoAdvance"]};eb.prototype.handleNotification=function(a){var b,c,e;b=a.getName();a=a.getBody();switch(b){case "createFlashVars":b=a.flashvars;null!=this.interval&&(b.next_video_timer=this.interval,b.auto_play_list=!0);break;case "mediaPlayerAutoAdvance":"function"===typeof(e=this.config).handler&&e.handler(),c="advance"}null!=c&&this.dispatchEvent(new D(c))};
var Eb=function(a){Eb.__super__.constructor.call(this,a)};f(Eb,F);Eb.NAME=F.NAME;Eb.prototype.defaults={interval:15,handler:null};Eb.prototype.currentTime=0;Eb.prototype.timeout=null;Eb.prototype.start=function(){var a=this;this.currentTime=this.data.interval;this.timeout=setInterval(function(){a.updateTime()},1E3);this.sendNotification(Db.TIME_UPDATE,this.currentTime)};Eb.prototype.stop=function(){clearInterval(this.timeout)};Eb.prototype.updateTime=function(){this.currentTime--;this.sendNotification(Db.TIME_UPDATE,
this.currentTime);0>=this.currentTime&&(this.stop(),this.sendNotification(Db.ADVANCE,this.data.handler))};var dd=function(){dd.__super__.constructor.call(this)};f(dd,A);dd.prototype.execute=function(a){this.sendNotification(d.ADD_APPLICATION_STATE,"autoadvance-mode");this.proxy.start();dd.__super__.execute.call(this,a)};var ed=function(){ed.__super__.constructor.call(this)};f(ed,A);ed.prototype.execute=function(a){var b;b=a.getBody();null!=b&&("string"===typeof b?eval(""+b+"()"):"function"===typeof b&&
b());this.sendNotification(d.REMOVE_APPLICATION_STATE,"autoadvance-mode");ed.__super__.execute.call(this,a)};var se=function(){se.__super__.constructor.call(this)};f(se,H);se.prototype.execute=function(a){null!=this.proxy.getData().interval&&this.sendNotification(Db.START,a.getBody())};var Nb=function(){Nb.__super__.constructor.call(this)};f(Nb,H);Nb.prototype.execute=function(a){this.proxy.stop()};var Ob=function(){Ob.__super__.constructor.call(this)};f(Ob,Ma);Ob.prototype.componentName="autoadvance";
Ob.prototype.text=null;Ob.prototype.onRegister=function(){Ob.__super__.onRegister.call(this);this.text=this.create("autoadvance-text")};Ob.prototype.listNotificationInterests=function(){return[Db.TIME_UPDATE]};Ob.prototype.handleNotification=function(a){switch(a.getName()){case Db.TIME_UPDATE:a=a.getBody(),this.text.textContent=""+this.localizationManager.getString("MSG_NEXT_VIDEO")+" "+a+" "+this.localizationManager.getString("MSG_SECONDS")}};var Qa=function(){Qa.__super__.constructor.call(this);
try{Object.defineProperties(this,{url:{get:this.getURL,set:this.setURL,enumerable:!0,configurable:!1},data:{get:this.getData,set:this.setData,enumerable:!0,configurable:!1}})}catch(a){console.error(a)}};f(Qa,Q);Qa.prototype.moduleName="feed";Qa.prototype.createModel=function(){this.proxy=new Pa(this.config);this.registerProxy(this.proxy)};Qa.prototype.createController=function(){Qa.__super__.createController.call(this);this.registerCommand(d.READY,qe);this.registerCommand(xa.LOAD_FEED,oe);this.registerCommand(xa.CHANGE_FEED,
pe);this.registerCommand(xa.FEED_CHANGED,cd);this.registerCommand(xa.FEED_LOADED,A);this.registerCommand(xa.FEED_ERROR,A)};Qa.prototype.listNotificationInterests=function(){return Qa.__super__.listNotificationInterests.call(this).concat([d.READY])};Qa.prototype.listNotificationPublications=function(){var a,b;return Qa.__super__.listNotificationPublications.call(this).concat(function(){var c;c=[];for(a in xa)b=xa[a],c.push(b);return c}())};Qa.prototype.setURL=function(a){this.sendNotification(xa.LOAD_FEED,
a);return a};Qa.prototype.getURL=function(){return this.proxy.getURL()};Qa.prototype.setData=function(a){this.sendNotification(xa.CHANGE_FEED,a);return a};Qa.prototype.getData=function(){return this.proxy.getFeedData()};r.registerPlugin("feed","html",Qa);r.registerPlugin("feed","flash",Ga);var Ta={RECOMMENDATIONS_LOADED:"recommendationsloaded",RECOMMENDATION_SELECTED:"recommendationsselected"},Fb=function(a,b,c,e,d,f,g,k,l){this.guid=a;this.link=b;this.title=c;this.description=e;this.thumbnail=d;
this.duration=f;this.pubDate=g;this.target=k;this.metadata=null!=l?l:{}};Fb.prototype.guid=null;Fb.prototype.link=null;Fb.prototype.title=null;Fb.prototype.description=null;Fb.prototype.thumbnail=null;Fb.prototype.duration=null;Fb.prototype.pubDate=null;Fb.prototype.target=null;Fb.prototype.metadata=null;var sa=function(a,b){null==b&&(b={});sa.__super__.constructor.call(this,a,b);null!=b.url&&(this.url=b.url);null!=b.target&&(this.target=b.target)};f(sa,K);sa.NAME="RecommendationsWrapper";sa.prototype.flashPlugins=
[{id:"RecommendationsPlugin",src:"#{paths.resources}plugins/RecommendationsPlugin.swf",blocking:!1,host:"akamai",main:"RecommendationsPlugin",type:"application/x-shockwave-flash"}];sa.prototype.flashView={elements:{recommendationSlate:{attributes:{items:"5",viewMode:"grid"}}}};sa.prototype.url=null;sa.prototype.target=null;sa.prototype.recommendations=null;sa.prototype.getFeatureName=function(){return"recommendations"};sa.prototype.getData=function(){return this.recommendations};sa.prototype.setData=
function(a){return this.recommendations=a};sa.prototype.getTarget=function(){var a,b;return this.target||(null!=(a=this.player)?null!=(b=a.config)?b.target:void 0:void 0)};sa.prototype.getURL=function(){return this.url};sa.prototype.createFlashVars=function(a){a.recommendations_partner="mrss";null!=this.config.target&&(a.external_target=this.config.target)};sa.prototype.createXML=function(a){var b,c;b=a.firstChild;c=a.getElementsByTagName("recommendations")[0];null==c&&(c=a.createElement("recommendations"),
b.appendChild(c));b=a.createElement("vendor");b.setAttribute("id","mrss");c.appendChild(b);this.createProperty(a,"RECOMMENDATIONS_MRSS_URL",this.url,b)};sa.prototype.listNotificationInterests=function(){return sa.__super__.listNotificationInterests.apply(this,arguments).concat(["mediaPlayerRecommendationSelected","mediaPlayerRecommendationsLoaded"])};sa.prototype.handleNotification=function(a){var b,c;sa.__super__.handleNotification.call(this,a);b=a.getName();a=a.getBody();switch(b){case "mediaPlayerRecommendationsLoaded":c=
"loaded";this.recommendations=a;break;case "mediaPlayerRecommendationSelected":c="selected"}null!=c&&this.dispatchEvent(new D(c,a))};var fd=function(){fd.__super__.constructor.call(this)};f(fd,A);fd.prototype.execute=function(a){fd.__super__.execute.call(this,a);a=a.getBody();"none"!==a.target&&"player"!==a.target&&window.open(a.link,a.target)};var te=function(){te.__super__.constructor.call(this)};f(te,H);te.prototype.execute=function(a){this.proxy.invoke()};var ue=function(){ue.__super__.constructor.call(this)};
f(ue,H);ue.prototype.execute=function(a){var b;b=this.proxy.getRecommendations();a=a.getBody();a.value===U.ENDED?0<(null!=b?b.length:void 0)&&this.sendNotification(d.ADD_APPLICATION_STATE,"recommendations-mode"):a.previous===U.ENDED&&0<(null!=b?b.length:void 0)&&this.sendNotification(d.REMOVE_APPLICATION_STATE,"recommendations-mode")};var ya=function(a){ya.__super__.constructor.call(this,a);this.helper=new xb};f(ya,Z);ya.NAME=F.NAME;ya.prototype.defaults={url:null,target:"_blank"};ya.prototype.loaded=
!0;ya.prototype.recommendations=null;ya.prototype.helper=null;ya.prototype.getRecommendations=function(){return this.recommendations};ya.prototype.setRecommendations=function(a){this.recommendations=a;this.sendNotification(Ta.RECOMMENDATIONS_LOADED,this.recommendations);return a};ya.prototype.getURL=function(){return this.getConfigurationData().url};ya.prototype.setURL=function(a){this.data.url=a;this.invoke();return a};ya.prototype.getTarget=function(){return this.getConfigurationData().target||
this.facade.player.retrieveProxy(N.NAME).getTarget()};ya.prototype.setTarget=function(a){return this.data.target=a};ya.prototype.invoke=function(){var a;a=this.getURL();if(null==a||""===a)this.facade.logger.error("[AMP RECOMMENDATIONS ERROR]","Load Error: No url provided");else g.getFeed(a).then(this.onload.bind(this))["catch"](this.onerror.bind(this))};ya.prototype.onload=function(a){a=this.createRecommendations(a);this.setRecommendations(a)};ya.prototype.onerror=function(a){this.facade.logger.error("[AMP RECOMMENDATIONS ERROR]",
"Load Error:",a)};ya.prototype.createRecommendations=function(a){var b,c,e,d;a=this.helper.createFeed(a);c=[];d=a.item;a=0;for(e=d.length;a<e;a++)b=d[a],b=new Fb(b.guid,b.link,b.title,b.description,b.thumbnail,b.duration,b.pubDate,this.getTarget(),b),c.push(b);return c};var Gb=function(){Gb.__super__.constructor.call(this)};f(Gb,Ma);Gb.prototype.componentName="recommendations";Gb.prototype.listArea=null;Gb.prototype.onRegister=function(){Gb.__super__.onRegister.call(this);this.createText("recommendations-label",
"Recommended");this.listArea=this.create("recommendations-list-area")};Gb.prototype.listNotificationInterests=function(){return[Ta.RECOMMENDATIONS_LOADED]};Gb.prototype.handleNotification=function(a){var b,c,e;switch(a.getName()){case Ta.RECOMMENDATIONS_LOADED:if(this.listArea.innerHTML="",b=a.getBody(),null!=b&&0<b.length)for(c=0,e=b.length;c<e;c++)a=b[c],this.addElement(a)}};Gb.prototype.addElement=function(a){var b,c=this;b=this.create("recommendation",this.listArea);null==b.dataset&&(b.dataset=
{});b.dataset.link=a.link;b.dataset.target=a.target;b.innerHTML="\x3cimg src\x3d'"+a.thumbnail+"' class\x3d'"+this.cssPrefix+"recommendation-thumbnail' /\x3e \x3cspan class\x3d'"+this.cssPrefix+"recommendation-text'\x3e"+a.description+"\x3c/span\x3e";b.onclick=function(a){a.stopImmediatePropagation();c.sendNotification(Ta.RECOMMENDATION_SELECTED,a.currentTarget.dataset);return!1}};var fb=function(){fb.__super__.constructor.call(this)};f(fb,Q);fb.NAME="AutoAdvancePlugin";fb.prototype.moduleName="autoadvance";
fb.prototype.createController=function(){fb.__super__.createController.call(this);this.registerCommand(Db.START,dd);this.registerCommand(Db.ADVANCE,ed);this.registerCommand(d.MEDIA_SEQUENCE_ENDED,se);this.registerCommand(d.CHANGE_MEDIA,Nb);this.registerCommand(d.PLAY,Nb);this.registerCommand(d.PLAYING,Nb);this.registerCommand(d.REPLAY,Nb);this.registerCommand(d.SEEK,Nb);this.registerCommand(ia.SEEK,Nb);this.registerCommand(d.TIME_UPDATE,A);this.registerCommand(d.STOP,A)};fb.prototype.createModel=
function(){this.registerProxy(new Eb(this.config))};fb.prototype.createView=function(){this.registerMediator(new Ob)};fb.prototype.listNotificationInterests=function(){return[d.CHANGE_MEDIA,d.PLAY,d.PLAYING,d.REPLAY,d.MEDIA_SEQUENCE_ENDED,d.SEEK,ia.SEEK]};fb.prototype.listNotificationPublications=function(){var a,b;return fb.__super__.listNotificationPublications.call(this).concat(function(){var c;c=[];for(a in Db)b=Db[a],c.push(b);return c}())};r.registerPlugin("autoadvance","html",fb);r.registerPlugin("autoadvance",
"flash",eb);var Hb=function(){Hb.__super__.constructor.call(this)};f(Hb,Ma);Hb.prototype.componentName="recommendations-grid";Hb.prototype.grid=null;Hb.prototype.onRegister=function(){Hb.__super__.onRegister.call(this);this.createText("recommendations-grid-label",this.localizationManager.getString(S.MSG_RECOMMENDATIONS_TITLE));this.grid=this.create("recommendations-grid-table-grid",this,"table")};Hb.prototype.listNotificationInterests=function(){return[Ta.RECOMMENDATIONS_LOADED]};Hb.prototype.handleNotification=
function(a){var b,c,e;switch(a.getName()){case Ta.RECOMMENDATIONS_LOADED:if(this.grid.innerHTML="",this.create("recommendations-grid-row",this.grid,"tr"),this.create("recommendations-grid-row",this.grid,"tr"),b=a.getBody(),null!=b&&0<b.length)for(c=0,e=b.length;c<e;c++)a=b[c],this.addElement(a,c)}};Hb.prototype.addElement=function(a,b){var c,e=this;c=this.create("recommendations-grid-item",this.grid.childNodes[2>b%4?0:1],"td");null==c.dataset&&(c.dataset={});c.dataset.link=a.link;c.dataset.target=
this.config.getTarget();c.innerHTML="\x3cimg src\x3d'"+a.thumbnail+"' class\x3d'"+this.cssPrefix+"recommendations-grid-thumbnail' /\x3e \x3cspan class\x3d'"+this.cssPrefix+"recommendations-grid-text'\x3e"+a.description+"\x3c/span\x3e";c.onclick=function(a){a.stopImmediatePropagation();e.sendNotification(Ta.RECOMMENDATION_SELECTED,a.currentTarget.dataset);return!1}};var Ua=function(){Ua.__super__.constructor.call(this)};f(Ua,Ma);Ua.prototype.componentName="recommendations-fluid-grid";Ua.prototype.grid=
null;Ua.prototype.timeout=null;Ua.prototype.gridBounds={width:0,height:0};Ua.prototype.onRegister=function(){Ua.__super__.onRegister.call(this);this.grid=this.viewComponent;window.addEventListener("orientationchange",this.delayedResizeGridHanlder.bind(this))};Ua.prototype.listNotificationInterests=function(){return[Ta.RECOMMENDATIONS_LOADED,d.ENDED,d.CHANGE_MEDIA,d.PLAY,d.PLAYING,d.REPLAY]};Ua.prototype.delayedResizeGridHanlder=function(a){try{clearTimeout(this.timeout)}catch(b){}this.timeout=setTimeout(this.resizeGridHandler.bind(this,
!0),100)};Ua.prototype.resizeGridHandler=function(a){var b,c,e;null==a&&(a=!1);b=this.grid.getBoundingClientRect();if(this.gridBounds.width!==b.width||this.gridBounds.height!==b.height||a){this.grid.setAttribute("style","align-content:flex-start; -webkit-align-content:flex-start; -ms-flex-align: flex-start;opacity:0;");this.gridBounds=b;e=this.grid.childNodes;b=0;for(c=e.length;b<c;b++)a=e[b],a.style.display="block";e=this.grid.childNodes;b=0;for(c=e.length;b<c;b++)a=e[b],a.getBoundingClientRect().bottom>
this.gridBounds.bottom&&(a.style.display="none");this.grid.setAttribute("style","align-content:center; -webkit-align-content:center; -ms-flex-align: center;opacity:1;")}};Ua.prototype.handleNotification=function(a){var b,c,e,h=this;switch(a.getName()){case d.CHANGE_MEDIA:case d.PLAY:case d.PLAYING:case d.REPLAY:try{clearInterval(this.timeout)}catch(f){}break;case d.ENDED:this.timeout=setInterval(function(){h.resizeGridHandler()},500);break;case Ta.RECOMMENDATIONS_LOADED:if(this.grid.innerHTML="",
b=a.getBody(),null!=b&&0<b.length)for(c=0,e=b.length;c<e;c++)a=b[c],this.addElement(a,c)}};Ua.prototype.addElement=function(a,b){var c,e,d,f=this;c=this.create("recommendations-fluid-grid-tile",this.grid);c.style.backgroundImage="url("+a.thumbnail+")";null!=(null!=(e=this.facade.getConfig().responsive)?e.rows:void 0)&&(c.style.height="calc("+100/this.facade.getConfig().responsive.rows+"%)");null!=(null!=(d=this.facade.getConfig().responsive)?d.column:void 0)&&(c.style.width="calc("+100/this.facade.getConfig().responsive.columns+
"%)");c.dataset.link=a.link;c.dataset.target=this.facade.getConfig().target;G.create(c,G.CLICK,function(a){a.stopImmediatePropagation();f.sendNotification(Ta.RECOMMENDATION_SELECTED,a.currentTarget.dataset);return!1});this.create("recommendations-fluid-grid-tile-caption",c,"span",a.description)};var va=function(){va.__super__.constructor.call(this)};f(va,Ya);va.prototype.featureName="recommendations";va.prototype.moduleName="recommendations";va.prototype.createController=function(){va.__super__.createController.call(this);
this.registerCommand(Ta.RECOMMENDATION_SELECTED,fd);this.registerCommand(d.START,te);this.registerCommand(d.PLAY_STATE_CHANGE,ue);this.registerCommand(Ta.RECOMMENDATIONS_LOADED,A)};va.prototype.createModel=function(){this.proxy=new ya(this.config);this.registerProxy(this.proxy)};va.prototype.createView=function(){this.registerMediator(new Gb)};va.prototype.listNotificationInterests=function(){return[d.START,d.PLAY_STATE_CHANGE]};va.prototype.listNotificationPublications=function(){var a,b;return va.__super__.listNotificationPublications.call(this).concat(function(){var c;
c=[];for(a in Ta)b=Ta[a],c.push(b);return c}())};va.prototype.setURL=function(a){this.proxy.set(a)};va.prototype.getURL=function(){return this.proxy.getURL()};va.prototype.getData=function(){return this.proxy.getData()};va.prototype.setData=function(a){this.proxy.setData(a)};va.prototype.getTarget=function(){return this.proxy.getTarget()};va.prototype.setTarget=function(a){this.proxy.setTarget(a)};r.registerPlugin("recommendations","html",va);r.registerPlugin("recommendations","flash",sa);var xc=
function(){return xc.__super__.constructor.apply(this,arguments)};f(xc,K);xc.NAME="ComscoreStreamsenseWrapper";xc.prototype.flashPlugins=[{id:"ComscoreStreamSensePlugin",src:"#{paths.resources}plugins/ComscoreStreamSensePlugin.swf",blocking:!1,host:"akamai",main:"ComscoreStreamSensePlugin"}];xc.prototype.createXML=function(a){var b,c,e,d,f;b=a.firstChild;c=a.getElementsByTagName("metrics")[0];null==c&&(c=a.createElement("metrics"),b.appendChild(c));b=a.createElement("vendor");b.setAttribute("id",
"comscoreStreamSense");c.appendChild(b);e=[{value:this.config.data.clientId,key:"C2"},{value:this.config.data.publisherSecret,key:"PUBLISHER_SECRET"},{value:this.config.data.appVersion,key:"APP_VERSION"},{value:this.config.data.metadata,key:"metadata"}];d=0;for(f=e.length;d<f;d++)c=e[d],null!=c.value&&this.createProperty(a,c.key,c.value,b);return a};var oa=function(a){oa.__super__.constructor.call(this,a)};f(oa,Z);oa.NAME=F.NAME;oa.prototype.defaults={plugin:{js:null},data:{clientId:null,publisherSecret:null,
appVersion:null,metadata:null}};oa.prototype.myStreamingTag=null;oa.prototype.sdk=null;oa.prototype.getScript=function(){return this.config.plugin.js};oa.prototype.initialize=function(){oa.__super__.initialize.call(this);this.sdk=akamai.amp.ns_;null!=this.sdk&&null===this.myStreamingTag&&(this.myStreamingTag=new this.sdk.StreamingTag({customerC2:this.value.data.clientId}))};oa.prototype.mediaChange=function(){null!=this.myStreamingTag&&this.myStreamingTag.stop();this.myStreamingTag=null;this.myStreamingTag=
new this.sdk.StreamingTag({customerC2:this.value.data.clientId});this.facade.logger.log("[AMP ComscoreStreamsense Event] : Media Change, StreamTag ReInitialize")};oa.prototype.adStart=function(a){this.myStreamingTag.playVideoAdvertisement(this.getMetaData(!0));this.facade.logger.log("[AMP ComscoreStreamsense Event] : Ad Start")};oa.prototype.start=function(a){var b;null!=(b=this.facade.player.ads)&&b.getInProgress()||(this.myStreamingTag.playVideoContentPart(this.getMetaData()),this.facade.logger.log("[AMP ComscoreStreamsense Event] : Content Play"))};
oa.prototype.stop=function(){this.myStreamingTag.stop();this.facade.logger.log("[AMP ComscoreStreamsense Event] : Stop")};oa.prototype.ended=function(){this.myStreamingTag.stop();this.facade.logger.log("[AMP ComscoreStreamsense Event] : End");this.myStreamingTag=null;this.myStreamingTag=new this.sdk.StreamingTag({customerC2:this.value.data.clientId})};oa.prototype.getMetaData=function(a){var b,c,e;null==a&&(a=!1);c={};a=a?this.value.data.metadata.ads:this.value.data.metadata.video;for(b in a)e=a[b],
"null"!==e&&(c[b]=e);return c};var ve=function(){ve.__super__.constructor.call(this)};f(ve,puremvc.SimpleCommand);ve.prototype.execute=function(a){this.facade.retrieveProxy(oa.NAME).start(a.body)};var we=function(){we.__super__.constructor.call(this)};f(we,puremvc.SimpleCommand);we.prototype.execute=function(a){this.facade.retrieveProxy(oa.NAME).adStart(a.body)};var yc=function(){yc.__super__.constructor.call(this)};f(yc,puremvc.SimpleCommand);yc.prototype.execute=function(a){this.facade.retrieveProxy(oa.NAME).stop(a.body)};
var xe=function(){xe.__super__.constructor.call(this)};f(xe,puremvc.SimpleCommand);xe.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(oa.NAME);b.adStart(a.body);b.stop(a.body)};var ye=function(){ye.__super__.constructor.call(this)};f(ye,puremvc.SimpleCommand);ye.prototype.execute=function(a){this.facade.retrieveProxy(oa.NAME).mediaChange()};var ze=function(){ze.__super__.constructor.call(this)};f(ze,puremvc.SimpleCommand);ze.prototype.execute=function(a){this.facade.retrieveProxy(oa.NAME).ended()};
var bc=function(){bc.__super__.constructor.call(this)};f(bc,va);bc.prototype.moduleName="recommendationsgrid";bc.prototype.createView=function(){"tile"===this.config.view?this.registerMediator(new Ua):this.registerMediator(new Hb)};bc.prototype.listNotificationInterests=function(){return bc.__super__.listNotificationInterests.call(this).concat([d.ENDED,d.CHANGE_MEDIA,d.PLAY,d.PLAYING,d.REPLAY])};r.registerPlugin("recommendationsgrid","html",bc);r.registerPlugin("recommendationsgrid","flash",sa);var sb=
function(a){sb.__super__.constructor.call(this,a)};f(sb,pa);sb.prototype.configurationName="comscore";sb.NAME=F.NAME;sb.prototype.defaults={url:"//b.scorecardresearch.com/b",events:{ads:null,video:null},data:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:null,c8:null,c9:null,c10:null,c14:null}};sb.prototype.adStart=function(){var a;a=this.constructURL("ads","started");g.beacon(a)};sb.prototype.videoStart=function(){var a;a=this.constructURL("video","started");g.beacon(a)};sb.prototype.constructURL=
function(a,b){var c,e,d,f,g,k,l,m;c={};d=null!=(f=this.value.events)?f[a]:void 0;if(null!=d)for(l=0,m=d.length;l<m;l++)f=d[l],f.type===b&&(e=f);f=this.value.data;for(g in f)d=f[g],c[g]=(null!=e?null!=(k=e.data)?k[g]:void 0:void 0)||d;null==c.c7&&(c.c7=document.location.href.substr(0,512));null==c.c8&&(c.c8=document.referrer.substr(0,512));null==c.c9&&(c.c9=document.title);null==c.cv&&(c.cv="2.0");c.rn=Date.now();k=this.value.url;e=[];for(g in c)d=c[g],null!=d&&""!==d&&e.push(g+"\x3d"+escape(d));0<
e.length&&(k+="?"+e.join("\x26"));return k.substr(0,2080)};var zc=function(){return zc.__super__.constructor.apply(this,arguments)};f(zc,K);zc.NAME="ComscoreWrapper";zc.prototype.flashPlugins=[{id:"ComscorePlugin",src:"#{paths.resources}plugins/ComscorePlugin.swf",blocking:!1,host:"akamai",main:"ComscorePlugin",type:"application/x-shockwave-flash"}];zc.prototype.createXML=function(a){var b,c,e,d,f,g,k,l,m,n,q,r,s,t,u,v,w;b=a.firstChild;c=a.getElementsByTagName("metrics")[0];null==c&&(c=a.createElement("metrics"),
b.appendChild(c));b=a.createElement("vendor");b.setAttribute("id","comscore");c.appendChild(b);f={ads:{started:"adStart",ended:"adComplete"},video:{started:"videoStart",ended:"videoComplete"}};l=[{value:"c1",key:"COMSCORE_CSC1"},{value:"c2",key:"COMSCORE_CSC2"},{value:"c3",key:"COMSCORE_CSC3"},{value:"c4",key:"COMSCORE_CSC4"},{value:"c5",key:"COMSCORE_CSC5"},{value:"c6",key:"COMSCORE_CSC6"},{value:"c7",key:"COMSCORE_CSC7"},{value:"c8",key:"COMSCORE_CSC8"},{value:"c9",key:"COMSCORE_CSC9"},{value:"c10",
key:"COMSCORE_CSC10"},{value:"c11",key:"COMSCORE_CSC14"}];u=this.config.events;for(n in u)if(d=u[n],null!=d&&0<d.length)for(q=0,s=d.length;q<s;q++)for(e=d[q],g=a.createElement("property"),g.setAttribute("key",f[n][e.type]),b.appendChild(g),c=a.createElement("property"),c.setAttribute("key","COMSCORE_CSURL"),m=da.createTextContent(a,this.config.url),c.appendChild(m),g.appendChild(c),r=0,t=l.length;r<t;r++)k=l[r],m=(null!=(v=e.data)?v[k.value]:void 0)||(null!=(w=this.config.data)?w[k.value]:void 0),
null!=m&&""!==m&&(c=a.createElement("property"),c.setAttribute("key",k.key),m=da.createTextContent(a,m),c.appendChild(m),g.appendChild(c));return a};var Ae=function(){Ae.__super__.constructor.call(this)};f(Ae,puremvc.SimpleCommand);Ae.prototype.execute=function(a){this.facade.retrieveProxy(sb.NAME).adStart()};var gd=function(){gd.__super__.constructor.call(this)};f(gd,puremvc.SimpleCommand);gd.prototype.execute=function(a){this.facade.retrieveProxy(sb.NAME).videoStart()};var Sb=function(){Sb.__super__.constructor.call(this)};
f(Sb,Q);Sb.prototype.moduleName="comscorestreamsense";Sb.prototype.createModel=function(){this.registerProxy(new oa(this.config))};Sb.prototype.createController=function(){Sb.__super__.createController.call(this);this.registerCommand(d.MEDIA_CHANGE,ye);this.registerCommand(k.AD_STARTED,we);this.registerCommand(k.AD_ENDED,yc);this.registerCommand(k.SKIPPED,yc);this.registerCommand(k.AD_ERROR,xe);this.registerCommand(d.PLAYING,ve);this.registerCommand(d.PAUSED,yc);this.registerCommand(d.ENDED,ze)};
Sb.prototype.listNotificationInterests=function(){return[d.MEDIA_CHANGE,k.AD_STARTED,k.AD_ENDED,k.AD_ERROR,k.SKIPPED,d.ENDED,d.PAUSED,d.PLAYING]};r.registerPlugin("comscorestreamsense","html",Sb);r.registerPlugin("comscorestreamsense","flash",xc);var Ac=function(a,b){if(!0===b.heartbeat.enabled||!0===b.useJS)this.createXML=function(){},this.flashPlugins=[],this.plugin=new Tb,this.plugin.oninitialized=a.registerModule.bind(a,this.plugin),this.plugin.initialize(b,a);Ac.__super__.constructor.call(this,
a,b)};f(Ac,K);Ac.NAME="OmnitureWrapper";Ac.prototype.flashPlugins=[{id:"OmniturePlugin",src:"#{paths.resources}plugins/OmniturePlugin.swf",blocking:!1,host:"akamai",main:"OmniturePlugin"}];Ac.prototype.createXML=function(a){var b,c,e,d,f,g,k,l,m,n,q,r;if(!0!==this.config.useJS){b=a.firstChild;g=a.getElementsByTagName("metrics")[0];null==g&&(g=a.createElement("metrics"),b.appendChild(g));b=a.createElement("vendor");b.setAttribute("id","omniture");g.appendChild(b);k=[{value:this.config.channel,key:"OMNITURE_CHANNEL"},
{value:this.config.account,key:"OMNITURE_ACCOUNT"},{value:this.config.debugTracking,key:"OMNITURE_DEBUG_TRACKING"},{value:this.config.trackLocal,key:"OMNITURE_TRACK_LOCAL"},{value:this.config.visitorNamespace,key:"OMNITURE_VISITOR_NAMESPACE"},{value:this.config.trackingServer,key:"OMNITURE_TRACKING_SERVER"},{value:this.config.trackingServerSecure,key:"OMNITURE_TRACKING_SERVER_SECURE"},{value:this.config.currencyCode,key:"OMNITURE_CURRENCY_CODE"},{value:this.config.trackWhilePlaying,key:"OMNITURE_TRACK_WHILE_PLAYING"},
{value:this.config.trackMediaMethods,key:"OMNITURE_TRACK_MEDIA_METHODS"},{value:this.config.mediaName,key:"OMNITURE_MEDIA_NAME"},{value:this.config.playerName,key:"OMNITURE_PLAYER_NAME"}];c=0;for(e=k.length;c<e;c++)g=k[c],null!=g.value&&this.createProperty(a,g.key,g.value,b);c=this.config.Media;if(null!=c){k=[{value:c.autoTrack,key:"OMNITURE_AUTO_TRACK"},{value:c.segmentByMilestones,key:"OMNITURE_SEGMENT_MILESTONES"},{value:c.trackVars,key:"OMNITURE_TRACKVARS"},{value:c.trackEvents,key:"OMNITURE_TRACKEVENTS"},
{value:c.trackUsingContextData,key:"OMNITURE_TRACK_CONTEXT_DATA"},{value:c.trackSecondIntervals,key:"OMNITURE_TRACKSECOND_INTERVALS"}];e=0;for(l=k.length;e<l;e++)g=k[e],null!=g.value&&this.createProperty(a,g.key,g.value,b);if(null!=c.trackMilestones)for(m=this.createProperty(a,"OMNITURE_TRACK_MILESTONES",null,b),e=c.trackMilestones,n=0,q=e.length;n<q;n++)for(f in g=e[n],l=this.createProperty(a,g.percent,null,m),g)k=g[f],"percent"!==f&&this.createProperty(a,f,k,l);e=c.contextDataMapping;if(null!=e)for(f in c=
this.createProperty(a,"OMNITURE_CONTEXT_DATA",null,b),e)if(k=e[f],"string"===typeof k&&this.createProperty(a,f,k,c),k instanceof Array)for(l=this.createProperty(a,f,null,c),m=0,n=k.length;m<n;m++)g=k[m],this.createProperty(a,g.percent,g.events,l)}e=this.config.customLinkTracking;if(null!=e)for(f in l=this.createProperty(a,"OMNITURE_CUSTOM_LINK_TRACKING",null,b),e)if("intervalReached"===f)for(k=this.createProperty(a,f,null,l),q=e[f],n=0,m=q.length;n<m;n++)for(f in c=q[n],g=this.createProperty(a,c.interval,
null,k),c)"interval"!==f&&this.createProperty(a,f,c[f],g);else this.createProperty(a,f,e[f],l);f=null!=(d=this.config.events)?d.video:void 0;if(null!=f)for(c=0,k=f.length;c<k;c++){d=f[c];switch(d.type){case "started":g="videoStart";break;case "ended":g="videoComplete";break;case "play":g="videoResume";break;case "pause":g="videoPause";break;default:g=d.type}this.createProperty(a,g,d.data,b)}f=null!=(r=this.config.events)?r.ads:void 0;if(null!=f)for(k=0,r=f.length;k<r;k++)d=f[k],g="started"===d.type?
"adStart":"ended"===d.type?"adComplete":d.type,this.createProperty(a,g,d.data,b)}};var P=function(a){P.__super__.constructor.call(this,a)};f(P,Z);P.NAME=F.NAME;P.prototype.defaults={main:"s",heartbeat:null,account:null,playerName:null,mediaName:null,trackingServer:null,visitorNamespace:null,visitor:null,visitorID:null,pageName:null};P.prototype.media=null;P.prototype.started=!1;P.prototype.ad=null;P.prototype.adCurrentTime=null;P.prototype.adStarted=!1;P.prototype.adsEnabled=!1;P.prototype.getMediaName=
function(){return this.getConfigurationData().mediaName||this.media.getTitle()};P.prototype.getPlayerName=function(){var a;return this.getConfigurationData().playerName||(null!=(a=this.facade.player.retrieveProxy(N.NAME))?a.getName():void 0)||this.facade.player.config.name||"amp"};P.prototype.getPlaybackCore=function(){var a;return(null!=(a=this.facade.player.retrieveProxy(R.NAME))?a.getActivePlaybackCore():void 0)||this.facade.player.playback};P.prototype.initialize=function(){var a,b;P.__super__.initialize.call(this);
this.media=this.facade.player.retrieveProxy(q.NAME);this.adsEnabled=null!=(a=this.facade.player.ads)?a.getEnabled():void 0;if(null!=this.plugin){try{null==this.plugin.Media&&this.plugin.loadModule("Media")}catch(c){this.error("initialize",c)}null==(null!=(b=this.plugin.Media)?b.openAd:void 0)&&(this.adStart=this.adEnded=this.adPlay=this.adPause=this.adCurrentTime=function(){})}};P.prototype.createPlugin=function(){return window[this.getConfigurationData().main]};P.prototype.mediaChange=function(){var a;
this.started=!1;this.adsEnabled=null!=(a=this.facade.player.ads)?a.getEnabled():void 0};P.prototype.start=function(){if(!0!==this.started){try{this.started=!0,this.plugin.Media.open(this.getMediaName(),this.media.getDuration(),this.getPlayerName())}catch(a){this.error(a)}!0!==this.adsEnabled&&this.play()}};P.prototype.play=function(){if(!0!==this.started)this.start();else if(!0!==this.adStarted)try{this.plugin.Media.play(this.getMediaName(),this.getPlaybackCore().getCurrentTime()||0)}catch(a){this.error(a)}};
P.prototype.pause=function(){if(!0!==this.adStarted)try{this.plugin.Media.stop(this.getMediaName(),this.getPlaybackCore().getCurrentTime())}catch(a){this.error(a)}};P.prototype.seeking=function(){try{this.plugin.Media.stop(this.getMediaName(),this.getPlaybackCore().getCurrentTime())}catch(a){this.error(a)}};P.prototype.seeked=function(){try{this.plugin.Media.play(this.getMediaName(),this.getPlaybackCore().getCurrentTime())}catch(a){this.error(a)}};P.prototype.ended=function(){try{this.plugin.Media.stop(this.getMediaName(),
this.getPlaybackCore().getCurrentTime()),this.plugin.Media.close(this.getMediaName()),this.started=!1}catch(a){this.error(a)}};P.prototype.getAd=function(){return this.ad};P.prototype.setAd=function(a){this.adStarted=!1;this.adCurrentTime=0;return this.ad=a};P.prototype.adStart=function(){try{this.adStarted=!0,this.plugin.Media.openAd(this.ad.title,this.ad.duration,this.getPlayerName(),this.getMediaName(),this.ad.type,this.ad.position,this.ad.cpm),this.adPlay()}catch(a){this.error("ad start",a)}};
P.prototype.adPlay=function(){!0!==this.adStarted&&this.adStart();try{this.plugin.Media.play(this.ad.title,this.adCurrentTime||0)}catch(a){this.error("ad play",a)}};P.prototype.adPause=function(){try{this.plugin.Media.stop(this.ad.title,this.adCurrentTime)}catch(a){this.error("ad pause",a)}};P.prototype.adCurrentTime=function(a){this.adCurrentTime=a};P.prototype.adEnded=function(){if(!1!==this.adStarted){try{this.adStarted=!1,this.plugin.Media.stop(this.ad.title,this.ad.duration),this.plugin.Media.close(this.ad.title)}catch(a){this.error("ad end",
a)}this.play()}};var ba=function(a){ba.__super__.constructor.call(this,a)};f(ba,P);ba.NAME=F.NAME;ba.prototype.aaPlugin=null;ba.prototype.playerPlugin=null;ba.prototype.heartbeat=null;ba.prototype.resumed=!1;ba.prototype.liveLinear=null;ba.prototype.initialize=function(){var a,b,c,e=this;ba.__super__.initialize.call(this);b=this.getConfigurationData();null!=b.heartbeat.liveLinear&&this.calculateLiveLinear();"undefined"!==typeof Visitor&&null!==Visitor&&(c=new Visitor(b.visitor.marketingCloudOrgId),
c.trackingServer=b.visitor.trackingServer);a=new AppMeasurement;a.account=b.account;a.trackingServer=b.trackingServer;a.visitor=c;a.pageName=b.pageName;a.charSet="UTF-8";a.visitorID=b.visitorID;c=this.createDelegate();this.playerPlugin=new ADB.va.plugins.videoplayer.VideoPlayerPlugin(c);c=new ADB.va.plugins.videoplayer.VideoPlayerPluginConfig;c.debugLogging=this.getDebug();this.playerPlugin.configure(c);c=new ADB.va.plugins.aa.AdobeAnalyticsPluginDelegate;c.onError=function(a){e.facade.logger.error("AdobeAnalyticsPlugin error: "+
a.getMessage()+" | "+a.getDetails())};this.aaPlugin=new ADB.va.plugins.aa.AdobeAnalyticsPlugin(a,c);c=new ADB.va.plugins.aa.AdobeAnalyticsPluginConfig;c.channel=b.heartbeat.channel;c.debugLogging=this.getDebug();this.aaPlugin.configure(c);c=new ADB.va.plugins.ah.AdobeHeartbeatPluginDelegate;c.onError=function(a){e.facade.logger.error("AdobeHeartbeatPlugin error: "+a.getMessage()+" | "+a.getDetails())};a=new ADB.va.plugins.ah.AdobeHeartbeatPlugin(c);c=new ADB.va.plugins.ah.AdobeHeartbeatPluginConfig(b.heartbeat.trackingServer,
b.heartbeat.publisher);c.ovp=b.heartbeat.ovp;c.sdk=b.heartbeat.sdk;c.ssl=!0===b.heartbeat.ssl;c.debugLogging=this.getDebug();a.configure(c);b=[this.playerPlugin,this.aaPlugin,a];c=new ADB.va.HeartbeatDelegate;c.onError=function(a){e.facade.logger.error("Heartbeat error: "+a.getMessage()+" | "+a.getDetails())};this.heartbeat=new ADB.va.Heartbeat(c,b);c=new ADB.va.HeartbeatConfig;c.debugLogging=this.getDebug();this.heartbeat.configure(c)};ba.prototype.calculateLiveLinear=function(){var a,b,c=this;null==
this.liveLinear&&(this.liveLinear={});!0!==this.liveLinear.updating&&(this.liveLinear.updating=!0,a={updating:!1},b=Date.now(),g.getUTC().then(function(e){var d,f,g,k;g=Date.now();d=new Date(e);f=d.toJSON().replace(/([^T]+T).+/,"$1");k=c.getConfigurationData().heartbeat.liveLinear.timezone||"Z";a.utc=e;d=new Date(b+(g-b)/2);a.client=d.getTime();a.offset=a.client-e;d=new Date(f+"00:00:00.000"+k);a.start=d.getTime();d=new Date(f+"23:59:59.999"+k);a.end=d.getTime();a.duration=Math.round((a.end-a.start)/
1E3);return c.liveLinear=a}))};ba.prototype.calculateLiveLinearTime=function(){var a;a=Date.now()-this.liveLinear.offset;a=Math.round((a-this.liveLinear.start)/1E3);a>this.liveLinear.duration&&(a-=this.liveLinear.duration,this.calculateLiveLinear());return a};ba.prototype.createDelegate=function(){var a,b=this;a=new ADB.va.plugins.videoplayer.VideoPlayerPluginDelegate;a.getVideoInfo=function(){var a,e;a=b.getPlaybackCore();e=new ADB.va.plugins.videoplayer.VideoInfo;e.id=b.media.getGUID()||b.media.getTitle();
e.playerName=b.getPlayerName();e.name=b.getMediaName();e.resumed=b.resumed;!0===b.getConfigurationData().heartbeat.liveLinear.enabled?(e.length=b.liveLinear.duration,e.streamType=ADB.va.plugins.videoplayer.AssetType.ASSET_TYPE_LIVE,e.playhead=b.calculateLiveLinearTime()):"live"===b.media.getTemporalType()?(e.length=-1,e.streamType=ADB.va.plugins.videoplayer.AssetType.ASSET_TYPE_LIVE,e.playhead=0):(e.length=b.media.getDuration(),e.streamType=ADB.va.plugins.videoplayer.AssetType.ASSET_TYPE_VOD,a=null!=
a?"function"===typeof a.getCurrentTime?a.getCurrentTime():void 0:void 0,e.playhead=null==a||isNaN(a)?0:a);return e};a.getAdInfo=function(){var a,e;a=new ADB.va.plugins.videoplayer.AdInfo;if(null==b.ad)return null;a.id=b.ad.id;e=b.ad.duration;a.length=isNaN(e)||0===e?-1:e;a.position=b.ad.position;a.name=b.ad.title;return a};a.getAdBreakInfo=function(){var a;a=new ADB.va.plugins.videoplayer.AdBreakInfo;if(null==b.ad)return null;a.name=b.ad.type;a.position=b.ad.position;a.playerName=b.getPlayerName();
a.startTime=b.getPlaybackCore().getCurrentTime();return a};a.getChapterInfo=function(){var a,e;e=b.media.getScene(b.getPlaybackCore().getCurrentTime());if(null==e)return null;a=new ADB.va.plugins.videoplayer.ChapterInfo;a.name=e.title;a.length=e.end-e.start;a.position=e.position;a.startTime=e.start;return a};a.onError=function(a){b.facade.logger.error("Heartbeat Error:",a)};a.getQoSInfo=function(){new ADB.va.plugins.videoplayer.QoSInfo;return null};return a};ba.prototype.mediaChange=function(){var a,
b;ba.__super__.mediaChange.call(this);this.resumed=!1;a=null!=(b=this.getValue("heartbeat").metadata)?b.video:void 0;null!=a&&this.aaPlugin.setVideoMetadata(a)};ba.prototype.start=function(){if(!0!==this.started){try{this.playerPlugin.trackVideoLoad(),this.started=!0}catch(a){this.error(a)}this.play()}};ba.prototype.play=function(){!0!==this.started&&this.start();try{this.playerPlugin.trackPlay()}catch(a){this.error(a)}};ba.prototype.pause=function(){try{this.playerPlugin.trackPause(),this.resumed=
!0}catch(a){this.error(a)}};ba.prototype.seeking=function(){try{this.playerPlugin.trackSeekStart()}catch(a){this.error(a)}};ba.prototype.seeked=function(){try{this.playerPlugin.trackSeekComplete()}catch(a){this.error(a)}};ba.prototype.ended=function(){try{this.playerPlugin.trackComplete(),this.playerPlugin.trackVideoUnload(),this.started=!1,this.aaPlugin.setVideoMetadata(null)}catch(a){this.error(a)}};ba.prototype.adStart=function(){var a,b;if(!0!==this.started)a=null!=(b=this.getValue("heartbeat").metadata)?
b.ad:void 0,null!=a&&this.aaPlugin.setAdMetadata(a),this.start(),setTimeout(this.adStart.bind(this),0);else try{this.playerPlugin.trackAdStart()}catch(c){this.error(c)}};ba.prototype.adEnded=function(){try{this.playerPlugin.trackAdComplete(),this.aaPlugin.setAdMetadata(null)}catch(a){this.error(a)}};ba.prototype.adPlay=function(){};ba.prototype.adPause=function(){};var Be=function(){Be.__super__.constructor.call(this)};f(Be,H);Be.prototype.execute=function(a){this.proxy.start()};var Ce=function(){Ce.__super__.constructor.call(this)};
f(Ce,H);Ce.prototype.execute=function(a){this.proxy.play()};var De=function(){De.__super__.constructor.call(this)};f(De,H);De.prototype.execute=function(a){this.proxy.pause()};var Ee=function(){Ee.__super__.constructor.call(this)};f(Ee,H);Ee.prototype.execute=function(a){this.proxy.seeking()};var Fe=function(){Fe.__super__.constructor.call(this)};f(Fe,H);Fe.prototype.execute=function(a){this.proxy.seeked()};var hd=function(){hd.__super__.constructor.call(this)};f(hd,H);hd.prototype.execute=function(a){this.proxy.ended()};
var Ge=function(){Ge.__super__.constructor.call(this)};f(Ge,H);Ge.prototype.execute=function(a){this.proxy.setMedia(a.getBody());this.proxy.start()};var He=function(){He.__super__.constructor.call(this)};f(He,H);He.prototype.execute=function(a){this.proxy.setAd(a.getBody())};var Ie=function(){Ie.__super__.constructor.call(this)};f(Ie,H);Ie.prototype.execute=function(a){this.proxy.adStart()};var Je=function(){Je.__super__.constructor.call(this)};f(Je,H);Je.prototype.execute=function(a){this.proxy.adPlay()};
var Ke=function(){Ke.__super__.constructor.call(this)};f(Ke,H);Ke.prototype.execute=function(a){this.proxy.adPause()};var Le=function(){Le.__super__.constructor.call(this)};f(Le,H);Le.prototype.execute=function(a){this.proxy.adEnded();this.proxy.setAd(null)};var Me=function(){Me.__super__.constructor.call(this)};f(Me,H);Me.prototype.execute=function(a){this.proxy.adCurrentTime(a.getBody())};var Ne=function(){Ne.__super__.constructor.call(this)};f(Ne,H);Ne.prototype.execute=function(a){this.proxy.mediaChange()};
var Ub=function(){Ub.__super__.constructor.call(this)};f(Ub,Q);Ub.prototype.moduleName="comscore";Ub.prototype.createController=function(){Ub.__super__.createController.call(this);this.registerCommand(d.STARTED,gd);this.registerCommand(d.CONTENT_CHANGED,gd);this.registerCommand(k.AD_STARTED,Ae)};Ub.prototype.createModel=function(){this.registerProxy(new sb(this.config))};Ub.prototype.listNotificationInterests=function(){return[d.STARTED,k.AD_STARTED,d.CONTENT_CHANGED]};r.registerPlugin("comscore",
"html",Ub);r.registerPlugin("comscore","flash",zc);var Bc=function(a,b){null==b&&(b={});Bc.__super__.constructor.call(this,a,b)};f(Bc,K);Bc.NAME="InfoWrapper";Bc.prototype.listNotificationInterests=function(){return["createFlashVars","createXML","mediaPlayerShare","mediaPlayerShareRequest"]};Bc.prototype.handleNotification=function(a){var b,c,e,d,f,g,k,l;d=a.getName();a=a.getBody();switch(d){case "createXML":d=a.xml;f=d.getElementsByTagName("view")[0];c=d.getElementsByTagName("element");k=0;for(l=
c.length;k<l;k++)if(b=c[k],"infoOverlayAdvanced"===b.getAttribute("id")){e=b;break}if(null==f)return;null==e&&(e=d.createElement("element"),e.setAttribute("id","infoOverlayAdvanced"),e.setAttribute("displayStates","preplay,paused,ns,fs,mouseover"),f.insertBefore(e,f.childNodes[0]));b=d.createElement("data");e.appendChild(b);null!=this.config.title&&(e=d.createElement("property"),e.setAttribute("key","title"),f=da.createTextContent(d,this.config.title),e.appendChild(f),b.appendChild(e));null!=this.config.description&&
(e=d.createElement("property"),e.setAttribute("key","description"),f=da.createTextContent(d,this.config.description),e.appendChild(f),b.appendChild(e));null!=this.config.more&&(e=d.createElement("property"),e.setAttribute("key","more"),f=da.createTextContent(d,this.config.more),e.appendChild(f),b.appendChild(e));null!=this.config.less&&(e=d.createElement("property"),e.setAttribute("key","less"),f=da.createTextContent(d,this.config.less),e.appendChild(f),b.appendChild(e));null!=this.config.provider&&
(c=d.createElement("property"),c.setAttribute("key","provider"),b.appendChild(c),null!=this.config.provider.name&&(e=d.createElement("property"),e.setAttribute("key","name"),f=da.createTextContent(d,this.config.provider.name),e.appendChild(f),c.appendChild(e)),null!=this.config.provider.image&&(e=d.createElement("property"),e.setAttribute("key","image"),f=da.createTextContent(d,this.config.provider.image),e.appendChild(f),c.appendChild(e)));break;case "mediaPlayerShare":case "mediaPlayerShareRequest":g=
"share"}if(null!=g)return this.dispatchEvent(new D(g,a))};r.registerPlugin("info","flash",Bc);var Ha=function(){Ha.__super__.constructor.call(this)};f(Ha,Bb);Ha.prototype.componentName="info";Ha.prototype.title=null;Ha.prototype.shortDescription=null;Ha.prototype.icon=null;Ha.prototype.provider=null;Ha.prototype.onRegister=function(){Ha.__super__.onRegister.call(this);this.title=this.create("info-title");this.provider=this.create("info-provider");this.shortDescription=this.create("info-short-description");
this.icon=this.create("info-icon",this,"img");this.dataChangedHandler()};Ha.prototype.listNotificationInterests=function(){return[d.MEDIA_CHANGE]};Ha.prototype.handleNotification=function(a){var b;b=a.getName();a.getBody();switch(b){case d.MEDIA_CHANGE:this.dataChangedHandler()}};Ha.prototype.moreClicked=function(a){return this.classList.add("open")};Ha.prototype.closeClicked=function(a){return this.classList.remove("open")};Ha.prototype.dataChangedHandler=function(){var a;null!=this.plugin.value.title&&
(this.title.textContent=this.plugin.value.title);null!=(null!=(a=this.plugin.value.provider)?a.image:void 0)&&(this.icon.src=this.plugin.value.provider.image);a=getComputedStyle(this.title);this.title.clientHeight>parseInt(a.lineHeight)?(this.classList.add("info-small"),this.shortDescription.innerHTML=this.provider.innerHTML=""):(this.classList.remove("info-small"),this.truncateDescription(this.plugin.value.description,this.plugin.value.more),this.provider.textContent=null!=this.plugin.value.provider.name?
""+this.plugin.value.provider.name:"")};Ha.prototype.truncateDescription=function(a){var b,c,e,d,f;c="";e=this.shortDescription;e.textContent="";if(null!=a)for(b=d=0,f=a.length;d<f;b=++d)if(b=a[b],e.textContent=c+b+"...",e.scrollHeight>e.clientHeight){e.textContent=c+"...";break}else c+=b};var Cc=function(a){Cc.__super__.constructor.call(this,a)};f(Cc,pa);Cc.prototype.configurationName="info";Cc.NAME=F.NAME;Cc.prototype.defaults={title:"#{media.title}",description:"#{media.description}",provider:{},
more:"read more",less:"less"};var Oe=function(){Oe.__super__.constructor.call(this)};f(Oe,H);Oe.prototype.execute=function(a){this.proxy.contentStarted()};var Pe=function(){Pe.__super__.constructor.call(this)};f(Pe,H);Pe.prototype.execute=function(a){this.proxy.contentEnded()};var Qe=function(){Qe.__super__.constructor.call(this)};f(Qe,H);Qe.prototype.execute=function(a){!1!==this.proxy.getEnabled()&&this.proxy.engage(a.getBody())};var id=function(){id.__super__.constructor.call(this)};f(id,A);id.prototype.execute=
function(a){this.sendNotification(d.UPDATE_DATA_BINDINGS,{contexts:[this.proxy.getContextName()]});id.__super__.execute.call(this,a)};var jd=function(){jd.__super__.constructor.call(this)};f(jd,A);jd.prototype.execute=function(a){jd.__super__.execute.call(this,a);this.proxy.breakStart()};var kd=function(){kd.__super__.constructor.call(this)};f(kd,A);kd.prototype.execute=function(a){var b;kd.__super__.execute.call(this,a);this.proxy.breakEnd();"ima"===(null!=(b=a.getBody())?b.partner:void 0)&&(a=this.applicationState.getPlaybackRate(),
this.facade.player.setPlaybackRate(a));this.applicationState.getEnded()&&!0===this.applicationState.getHasPostContent()&&this.sendNotification(d.MEDIA_SEQUENCE_ENDED)};var Re=function(){Re.__super__.constructor.call(this)};f(Re,H);Re.prototype.execute=function(a){this.proxy.contentSeek(a.getBody())};var ld=function(){ld.__super__.constructor.call(this)};f(ld,A);ld.prototype.execute=function(a){this.proxy.container=a.getBody();ld.__super__.execute.call(this,a)};var Se=function(){Se.__super__.constructor.call(this)};
f(Se,H);Se.prototype.execute=function(a){"function"===typeof this.proxy.replay&&!1===this.facade.player.getAutoplay()&&this.proxy.replay()};var ta=function(a,b,c,e,d,f,g,k,l,m,n,q){this.id=a;this.title=b;this.duration=c;this.position=e;this.type=d;this.partner=f;this.advertiser=g;this.companions=k;this.request=l;this.metadata=m;this.totalAds=n;this.time=q};ta.prototype.id=null;ta.prototype.title=null;ta.prototype.duration=NaN;ta.prototype.position=NaN;ta.prototype.totalAds=NaN;ta.prototype.type=null;
ta.prototype.partner=null;ta.prototype.advertiser=null;ta.prototype.companions=null;ta.prototype.metadata=null;ta.prototype.request=null;ta.prototype.error=null;ta.prototype.time=null;var md=function(){md.__super__.constructor.call(this)};f(md,A);md.prototype.execute=function(a){this.sendNotification(d.PLAY_REQUEST);!1===this.playback.initialized&&this.player.sendNotification(d.INITIALIZED);this.proxy.start();md.__super__.execute.call(this,a)};var nd=function(){nd.__super__.constructor.call(this)};
f(nd,H);nd.prototype.execute=function(a){!0!==this.applicationState.getLocked()&&(this.sendNotification(d.PLAY_REQUEST),!1===this.proxy.getStarted()?this.sendNotification(d.START,!0):(this.proxy.play(),this.facade.player.sendNotification(d.CHANGE_PLAY_STATE,U.PLAYING)))};var od=function(){od.__super__.constructor.call(this)};f(od,H);od.prototype.execute=function(a){var b;b=this.proxy.adVO.time;a=this.proxy.adVO.duration;"undefined"!==b&&b&&b!==a&&(this.proxy.pause(),this.player.sendNotification(d.CHANGE_PLAY_STATE,
U.PAUSED))};var Te=function(){Te.__super__.constructor.call(this)};f(Te,A);Te.prototype.execute=function(a){a=this.proxy.getPaused()||!1===this.proxy.getStarted()?d.PLAY:d.PAUSE;this.sendNotification(a,!0)};var pd=function(){pd.__super__.constructor.call(this)};f(pd,A);pd.prototype.execute=function(a){this.proxy.setVolume(a.getBody());pd.__super__.execute.call(this,a)};var Ue=function(){Ue.__super__.constructor.call(this)};f(Ue,A);Ue.prototype.execute=function(a){"playing"===a.getBody().value&&this.dispatchEvent("playing",
this.proxy.adVO)};var Tb=function(){Tb.__super__.constructor.call(this)};f(Tb,Q);Tb.prototype.moduleName="omniture";Tb.prototype.createController=function(){this.registerCommand(d.MEDIA_CHANGE,Ne);this.registerCommand(d.ENDED,hd);this.registerCommand(d.STARTED,Be);this.registerCommand(d.PLAY,Ce);this.registerCommand(d.PAUSE,De);this.registerCommand(d.SEEKING,Ee);this.registerCommand(d.SEEKED,Fe);this.registerCommand(d.CHANGE_CONTENT,hd);this.registerCommand(d.CONTENT_CHANGED,Ge);this.registerCommand(k.AD_LOADED,
He);this.registerCommand(k.AD_STARTED,Ie);this.registerCommand(k.AD_PLAY,Je);this.registerCommand(k.AD_PAUSE,Ke);this.registerCommand(k.AD_TIME_UPDATE,Me);this.registerCommand(k.BREAK_END,Le)};Tb.prototype.createModel=function(){var a;!0===(null!=(a=this.config.heartbeat)?a.enabled:void 0)?this.registerProxy(new ba(this.config)):this.registerProxy(new P(this.config))};Tb.prototype.listNotificationInterests=function(){return[d.CHANGE_MEDIA,d.MEDIA_CHANGE,d.CHANGE_CONTENT,d.CONTENT_CHANGED,d.TIME_UPDATE,
d.ENDED,d.STARTED,d.PLAY,d.PAUSE,d.SEEKING,d.SEEKED,k.AD_LOADED,k.AD_STARTED,k.AD_PLAY,k.AD_PAUSE,k.AD_TIME_REMAINING,k.BREAK_START,k.BREAK_END]};r.registerPlugin("omniture","html",Tb);r.registerPlugin("omniture","flash",Ac);var B=function(a){B.__super__.constructor.call(this,a);this.pods=[]};f(B,Z);B.NAME=Z.NAME;B.prototype.inProgress=!1;B.prototype.paused=!1;B.prototype.started=!1;B.prototype.adVO=null;B.prototype.contextName="ad";B.prototype.container=null;B.prototype.partner=null;B.prototype.pods=
null;B.prototype.createDefaultAdVO=function(){return new ta(null,null,null,null,null,this.partner,null,null,null,null,null)};B.prototype.getContextData=function(){return this.adVO||{}};B.prototype.setCompanions=function(a){this.adVO.companions=a;this.sendNotification(k.AD_COMPANION,this.adVO);return a};B.prototype.getCompanions=function(){var a;return null!=(a=this.adVO)?a.companions:void 0};B.prototype.getInProgress=function(){return this.inProgress};B.prototype.setInProgress=function(a){return this.inProgress=
a};B.prototype.getStarted=function(){return this.started};B.prototype.setStarted=function(a){return this.started=a};B.prototype.getPaused=function(){return this.paused};B.prototype.setPaused=function(a){return this.paused=a};B.prototype.setCues=function(a){var b,c,e,d;c=[];e=0;for(d=a.length;e<d;e++)b=a[e],c.push({startTime:b,endTime:b});this.facade.player.mediaProxy.setCues(c);return a};B.prototype.play=function(){this.setPaused(!1);this.sendNotification(k.AD_PLAY,this.adVO)};B.prototype.pause=function(){this.setPaused(!0);
this.sendNotification(k.AD_PAUSE,this.adVO)};B.prototype.breakStart=function(){this.setInProgress(!0)};B.prototype.breakEnd=function(){this.setInProgress(!1);this.reset()};B.prototype.error=function(a,b){var c;null==b&&(b=!0);c=("function"===typeof a.getMessage?a.getMessage():void 0)||a.message;this.facade.logger.error("[AMP AD ERROR]",""+c+" Skipping ad content.",a);null==this.adVO&&(this.adVO={});this.adVO.error=a;this.sendNotification(k.AD_ERROR,this.adVO);!0===b&&this.endBreak()};B.prototype.engage=
function(a){!1!==this.getEnabled()&&(this.setStarted(!1),this.getInProgress()&&(this.reset(),this.facade.player.sendNotification(d.REMOVE_APPLICATION_STATE,"ad-mode")),this.engageAds())};B.prototype.engageAds=function(){this.facade.player.removeCommand(d.START);this.facade.player.removeCommand(d.PLAY);this.facade.player.removeCommand(d.PAUSE);this.facade.player.removeCommand(d.ENDED);this.facade.player.removeCommand(ia.PLAY);this.facade.player.removeCommand(ia.PAUSE);this.facade.player.removeCommand(ia.TOGGLE_PLAY_PAUSE);
this.facade.isFullscreenDevice()&&this.facade.player.removeCommand(d.CHANGE_DURATION);this.facade.removeCommand(d.STARTED);this.facade.removeCommand(d.ENDED);this.facade.registerCommand(d.START,md);this.facade.registerCommand(d.PLAY,nd);this.facade.registerCommand(d.PAUSE,od);this.facade.registerCommand(ia.PLAY,nd);this.facade.registerCommand(ia.PAUSE,od);this.facade.registerCommand(ia.TOGGLE_PLAY_PAUSE,Te);this.facade.registerCommand(d.VOLUME_CHANGE,pd);this.facade.registerCommand(d.PLAY_STATE_CHANGE,
Ue)};B.prototype.reset=function(){this.facade.removeCommand(d.START);this.facade.removeCommand(d.PLAY);this.facade.removeCommand(d.PAUSE);this.facade.removeCommand(ia.PLAY);this.facade.removeCommand(ia.PAUSE);this.facade.removeCommand(ia.TOGGLE_PLAY_PAUSE);this.facade.removeCommand(d.VOLUME_CHANGE);this.facade.removeCommand(d.PLAY_STATE_CHANGE);this.facade.player.registerCommand(d.START,Kc);this.facade.player.registerCommand(d.PLAY,$b);this.facade.player.registerCommand(d.PAUSE,Zb);this.facade.player.registerCommand(d.ENDED,
kc);this.facade.player.registerCommand(ia.PLAY,$b);this.facade.player.registerCommand(ia.PAUSE,Zb);this.facade.player.registerCommand(ia.TOGGLE_PLAY_PAUSE,Fc);this.facade.isFullscreenDevice()&&this.facade.player.registerCommand(d.CHANGE_DURATION,Uc);this.facade.registerCommand(d.STARTED,Oe);this.facade.registerCommand(d.ENDED,Pe)};B.prototype.requestAd=function(){this.sendNotification(k.REQUEST,this.adVO)};B.prototype.getPodById=function(a){var b,c,e,d;d=this.pods;c=0;for(e=d.length;c<e;c++)if(b=
d[c],b.id===a)return b};B.prototype.setPodLocks=function(a){var b,c,e,d;c=0;for(e=a.length;c<e;c++)b=a[c],null!=(d=this.getPodById(b.id))&&(d.locked=b.locked)};B.prototype.resize=function(a){};B.prototype.startBreak=function(a){null!=a&&(this.adVO=a);this.setStarted(!0);this.sendNotification(k.BREAK_START,this.adVO);return!1===this.getEnabled()?(this.endBreak(),!1):!0};B.prototype.endBreak=function(){this.sendNotification(k.BREAK_END,this.adVO)};B.prototype.start=function(){this.startBreak()};B.prototype.contentPlay=
function(){this.facade.player.sendNotification(d.PLAY,!0)};B.prototype.contentPause=function(){var a;a=this.facade.player.mediaElement;if(!0===a.seeking)a.once("seeked",function(){a.pause()});else a.pause()};B.prototype.contentStarted=function(){};B.prototype.contentSeek=function(a){};B.prototype.contentEnded=function(){};B.prototype.setVolume=function(a){};B.prototype.getVolume=function(){};B.prototype.terminateAd=function(){};B.prototype.terminateAllAds=function(){};var Vb=function(){Vb.__super__.constructor.call(this)};
f(Vb,Q);Vb.prototype.moduleName="info";Vb.prototype.createModel=function(){this.registerProxy(new Cc(this.config))};Vb.prototype.createView=function(){this.registerMediator(new Ha)};Vb.prototype.listNotificationInterests=function(){return[d.MEDIA_CHANGE]};r.registerPlugin("info","html",Vb);r.registerPlugin("info","external",Vb);var ca={BREAK_START:"adComponentBreakInitiated",BREAK_END:"adComponentBreakComplete",BREAK_SKIPPED:"adComponentBreakSkipped",AD_LOADED:"adComponentLoaded",AD_STARTED:"adComponentAdBegin",
AD_TIME_UPDATE:"adComponentPlaybackProgress",AD_TIME_REMAINING:"adComponentTimeElapsed",AD_DURATION_CHANGE:"addurationchange",AD_ENDED:"adComponentImpressionEnd",COMPLETE:"adComponentAdComplete",AD_ERROR:"adComponentInitFailed",AD_PLAY:"adComponentPlaybackResumed",AD_PAUSE:"adComponentPlaybackPaused",AD_LOG:"adComponentLog",AD_COMPANION:"adComponentCompanion",AD_PLAYBACK_FAILED:"adComponentPlaybackFailed",AD_PLAYBACK_TERMINATED:"adComponentPlaybackTerminated",AD_MEDIA_LOADED:"adComponentMediaLoaded",
AD_CLICKED:"adComponentClicked",AD_FIRST_QUARTILE:"adComponentFirstQuartile",AD_MIDPOINT:"adComponentMidpoint",AD_THIRD_QUARTILE:"adComponentThirdQuartile",AD_REQUEST:"adComponentAdsRequest",AD_REQUEST_COMPLETE:"adComponentAdsRequestComplete",AD_SKIPPED:"adComponentAdSkipped",AD_IMPRESSION:"adComponentImpression"},Ca=function(a){Ca.__super__.constructor.call(this,a)};f(Ca,pa);Ca.prototype.configurationName="imaoverlay";Ca.NAME="IMAOveralyProxy";Ca.prototype.defaults={adTagUrl:null,duration:15,interval:30,
delay:30};Ca.prototype.durationTimer=null;Ca.prototype.intervalTimer=null;Ca.prototype.delayTimer=null;Ca.prototype.stop=function(){clearTimeout(this.durationTimer);clearTimeout(this.delayTimer);clearTimeout(this.intervalTimer)};Ca.prototype.play=function(){var a=this;this.stop();this.delayTimer=setTimeout(function(){return a.requestAd()},1E3*this.value.delay)};Ca.prototype.requestAd=function(){var a;a=this.getValue("adTagUrl");null!=a&&(a=a.replace("[timestamp]",(new Date).getTime()),a=a.replace("__random-number__",
(new Date).getTime()));g.get(a,{withCredentials:!0,onload:this.vastLoadHandler.bind(this),onerror:this.error.bind(this)},!1)};Ca.prototype.vastLoadHandler=function(a){var b,c,e,d,f;a=a.target.responseXML;if(null!=a)try{b=a.querySelector("NonLinear"),null!=b?(f=null!=a.querySelector("Impression")?a.querySelector("Impression").textContent:"",e=null!=a.querySelector("Tracking[event\x3dcreativeView]")?a.querySelector("Tracking[event\x3dcreativeView]").textContent:"",c=null!=b.querySelector("NonLinearClickThrough")?
b.querySelector("NonLinearClickThrough").textContent:"",d={src:b.querySelector("StaticResource").textContent,width:b.getAttribute("width"),height:b.getAttribute("height"),tracking:[f,e],href:c},this.displayAd(d)):this.error("No overlay was returned")}catch(g){this.error(g)}};Ca.prototype.error=function(a){this.facade.logger.error("[AMP IMA OVERLAY ERROR]",a);this.stop()};Ca.prototype.displayAd=function(a){var b=this;this.sendNotification(Wb.ADD_OVERLAY,a);this.durationTimer=setTimeout(function(){b.sendNotification(Wb.REMOVE_OVERLAY);
return b.intervalTimer=setTimeout(function(){return b.requestAd()},1E3*b.value.interval)},1E3*this.value.duration)};var Wb={INITIALIZED:"ima/initialize",ADD_OVERLAY:"ima/addOverlay",REMOVE_OVERLAY:"ima/removeOverlay"},u=function(a){u.__super__.constructor.call(this,a);this.intervals=[];this.loadedmetadata=this.onLoadedMetadata.bind(this);this.adVO=this.createDefaultAdVO()};f(u,B);u.NAME=B.NAME;u.prototype.defaults={adTagUrl:null,overlay:null,width:null,height:null,maxBitrate:-1,ppid:null,companions:null,
logEventsEnabled:!1};u.prototype.partner="ima";u.prototype.key="ima";u.prototype.intervals=null;u.prototype.adDisplayContainer=null;u.prototype.adDisplayContainerInitialized=!1;u.prototype.adsLoader=null;u.prototype.adsRenderingSettings=null;u.prototype.adsManagerLoaded=!1;u.prototype.adsManager=null;u.prototype.cuepoints=null;u.prototype.adLoaded=!1;u.prototype.playWhenLoaded=!1;u.prototype.contentHasEnded=!1;u.prototype.adTagUrl=null;u.prototype.viewMode=null;u.prototype.playbackCore=null;u.prototype.loadedmetadata=
null;u.prototype.setEnabled=function(a){var b;u.__super__.setEnabled.call(this,a);!1===a&&(null!=(b=this.adsManager)&&"function"===typeof b.destroy&&b.destroy(),this.getInProgress()&&this.contentPlay());return a};u.prototype.onLoadedMetadata=function(a){this.canPlay()&&!0===this.playWhenLoaded&&this.startAd()};u.prototype.initialize=function(){};u.prototype.ready=function(){var a,b;this.viewMode=google.ima.ViewMode.NORMAL;window.addEventListener("resize",this.resize.bind(this));null!=this.config.vpaidAllowed&&
google.ima.settings.setVpaidAllowed(this.config.vpaidAllowed);null!=this.config.vpaidMode&&null!=(a=google.ima.ImaSdkSettings.VpaidMode[this.config.vpaidMode.toUpperCase()])&&google.ima.settings.setVpaidMode(a);null!=this.config.disableFlashAds&&google.ima.settings.setDisableFlashAds(this.config.disableFlashAds);this.adDisplayContainer=this.createPlugin();this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer);a=(a=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./))?52<parseInt(a[2],10):
!1;(10<=(null!=(b=g.getIOSversion())?b[0]:void 0)||a)&&!1!==this.facade.player.getConfig().playsinline&&google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0);this.adsRenderingSettings=new google.ima.AdsRenderingSettings;this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1);this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this),!1)};u.prototype.createPlugin=function(){return new google.ima.AdDisplayContainer(this.getContainer())};
u.prototype.engage=function(a){var b,c;!1!==this.getEnabled()&&(u.__super__.engage.call(this),(!0===this.adsManagerLoaded&&!1===this.contentHasEnded||!0===this.contentHasEnded&&"postroll"===(null!=(b=this.adVO)?b.type:void 0))&&null!=(c=this.adsManager)&&"function"===typeof c.destroy&&c.destroy(),this.playWhenLoaded=this.adsManagerLoaded=this.contentHasEnded=this.adsManagerLoaded=!1)};u.prototype.setVolume=function(a){var b;null!=(b=this.adsManager)&&b.setVolume(a);return a};u.prototype.getVolume=
function(){var a;return null!=(a=this.adsManager)?a.getVolume():void 0};u.prototype.requestAd=function(){var a,b,c,e,d,f;u.__super__.requestAd.call(this);a=this.getDimensions();e=a.clientWidth;c=a.clientHeight;a=new google.ima.AdsRequest;this.adTagUrl=this.getValue("adTagUrl");b=this.getValue("adsResponse");null!=b&&""!==b?a.adsResponse=g.read(b,null,g.mimeTypes.txt):a.adTagUrl=this.adTagUrl;if(null==a.adsResponse&&null==a.adTagUrl)this.onAdError("No valid adTagUrl or adsResponse provided.");else a.linearAdSlotWidth=
e,a.linearAdSlotHeight=c,a.nonLinearAdSlotWidth=(null!=(d=this.value.overlay)?d.width:void 0)||e,a.nonLinearAdSlotHeight=(null!=(f=this.value.overlay)?f.height:void 0)||c,e=this.adsLoader.getSettings(),null!=this.config.ppid&&e.setPpid(this.getValue("ppid")),this.adsLoader.requestAds(a)};u.prototype.requestOverlay=function(){var a,b;b=this.value.overlay;null!=b&&(a=new google.ima.AdsRequest,a.adTagUrl=b.adTagUrl,a.nonLinearAdSlotWidth=b.width||300,a.nonLinearAdSlotHeight=b.height||50,this.adsLoader.requestAds(a))};
u.prototype.start=function(a){var b;null==a&&(a=!0);!0===a?(this.playbackCore=this.facade.player.retrieveProxy(R.NAME).getActivePlaybackCore(),b=this.getMediaElement(),b.once("loadedmetadata",this.loadedmetadata),this.playbackCore.setEnabled(!1),b.load()):this.engage();if(!1===u.__super__.start.call(this))return!1;this.isLiveMidroll=!1===a&&"live"===this.facade.player.retrieveProxy(q.NAME).getTemporalType();!0!==this.adDisplayContainerInitialized&&(this.adDisplayContainer.initialize(),this.adDisplayContainerInitialized=
!0);!0===this.canPlay()&&!0===a?this.startAd():(this.playWhenLoaded=!0,this.requestAd())};u.prototype.canPlay=function(){return!0===this.adsManagerLoaded};u.prototype.startAd=function(){this.playWhenLoaded=!1;try{null==this.viewMode&&(this.viewMode=google.ima.ViewMode.NORMAL),this.adsManager.init(this.facade.player.getViewComponent().clientWidth,this.facade.player.getViewComponent().clientHeight,this.viewMode),this.adsManager.start()}catch(a){this.error(a)}};u.prototype.resize=function(a,b){var c;
null==b&&(b=this.getDimensions());if(null==this.dimensions||this.dimensions.width!==b.width||this.dimensions.height!==b.height)this.dimensions=b,null!=a&&(this.viewMode=a===V.FULL_SCREEN?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),null!=(c=this.adsManager)&&c.resize(this.dimensions.width,this.dimensions.height,this.viewMode)};u.prototype.onAdsManagerLoaded=function(a){var b;this.adsRenderingSettings.bitrate=this.getValue("maxBitrate");this.adsRenderingSettings.autoAlign=!0;this.adsRenderingSettings.useStyledNonLinearAds=
!0;null!=(b=this.adsManager)&&"function"===typeof b.destroy&&b.destroy();this.adsManager=a.getAdsManager(this.facade.player.mediaElement,this.adsRenderingSettings);this.sendNotification(k.AD_MANAGER_LOADED,{adManager:this.adsManager,viewMode:google.ima.ViewMode.NORMAL,adContainer:this.getContainer()});this.adsManagerLoaded=!0;this.cuePoints=this.adsManager.getCuePoints();this.setCues(this.cuePoints);-1!==this.cuePoints.indexOf(-1)&&this.sendNotification(d.HAS_POST_CONTENT,!0);b=this.onAdEvent.bind(this);
this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.contentPause.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.contentPlay.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,b);this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,b);this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,
b);this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onAdResumed.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdPaused.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,b);this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,this.onAdClick.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.IMPRESSION,b);this.adsManager.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,b);this.adsManager.addEventListener(google.ima.AdEvent.Type.MIDPOINT,
b);this.adsManager.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,b);this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,b);this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,b);this.sendNotification(k.REQUEST_COMPLETE,{pods:this.cuePoints});this.sendNotification(k.RESPONSE,{pods:this.cuePoints,response:a,adsManager:this.adsManager});this.canPlay()&&!0===this.playWhenLoaded&&this.startAd()};u.prototype.onAdClick=function(a){!1===(null!=a?a.getAd().isLinear():void 0)?
this.facade.player.sendNotification(d.PAUSE):(this.getPaused()||this.pause(),this.sendNotification(k.AD_CLICKED,this.adVO))};u.prototype.onAdPaused=function(a){this.setPaused(!0);this.facade.player.sendNotification(d.CHANGE_PLAY_STATE,U.PAUSED);this.facade.player.sendNotification(d.CHANGE_ACTIVE_STATE,ub.ACTIVE);this.facade.player.sendNotification(k.AD_PAUSED,this.adVO)};u.prototype.onAdResumed=function(a){this.setPaused(!1);this.facade.player.sendNotification(d.CHANGE_PLAY_STATE,U.PLAYING)};u.prototype.onAdEvent=
function(a){var b,c,e,f,g,l,m,n;b=a.getAd();null!=this.adVO&&(null!=b&&(b.wrapperAdIds="function"===typeof b.getWrapperAdIds?b.getWrapperAdIds():void 0,b.wrapperAdSystems="function"===typeof b.getWrapperAdSystems?b.getWrapperAdSystems():void 0),this.adVO.metadata=b);switch(a.type){case google.ima.AdEvent.Type.IMPRESSION:this.sendNotification(k.IMPRESSION,this.adVO);break;case google.ima.AdEvent.Type.LOADED:if(b.isLinear()){this.facade.player.sendNotification(d.REMOVE_APPLICATION_STATE,"ad-overlaymode");
a=b.getAdPodInfo().getPodIndex();c=0===a?"preroll":-1===a?"postroll":"midroll";this.adVO=new ta(b.getAdId(),b.getAdId(),b.getDuration(),a,c,"ima",null,null,this.adTagUrl,b,b.getAdPodInfo().getTotalAds());if(!this.getInProgress()&&"midroll"===c||"postroll"===c)this.startBreak(),this.engageAds();this.resize();this.sendNotification(k.AD_LOADED,this.adVO);this.sendNotification(k.AD_DURATION_CHANGE,this.adVO);this.setVolume(this.facade.player.retrieveProxy(t.NAME).getVolume())}else this.facade.player.sendNotification(d.ADD_APPLICATION_STATE,
"ad-overlaymode"),this.contentPlay();break;case google.ima.AdEvent.Type.STARTED:b.isLinear()&&(this.adVO.position=b.getAdPodInfo().getAdPosition(),this.sendNotification(k.AD_STARTED,this.adVO),this.intervals.push(setInterval(this.onAdTimeUpdate.bind(this),67)),this.facade.player.sendNotification(d.CHANGE_PLAY_STATE,U.PLAYING),this.sendNotification(k.AD_PLAY,this.adVO));try{e=[];f=("function"===typeof this.getConfigurationData?null!=(m=this.getConfigurationData())?m.companions:void 0:void 0)||[];g=
0;for(l=f.length;g<l;g++)c=f[g],e=e.concat(b.getCompanionAds(c.width,c.height));0<(null!=e?e.length:void 0)&&this.setCompanions(e)}catch(q){this.facade.logger.error("[AMP IMA ERROR]","Could not retrieve companion ads:",q)}break;case google.ima.AdEvent.Type.COMPLETE:b.isLinear()&&this.sendNotification(k.AD_ENDED,this.adVO);break;case google.ima.AdEvent.Type.FIRST_QUARTILE:this.sendNotification(k.FIRST_QUARTILE,this.adVO);break;case google.ima.AdEvent.Type.MIDPOINT:this.sendNotification(k.MIDPOINT,
this.adVO);break;case google.ima.AdEvent.Type.THIRD_QUARTILE:this.sendNotification(k.THIRD_QUARTILE,this.adVO);break;case google.ima.AdEvent.Type.LOG:!0===this.facade.player.retrieveProxy(t.NAME).getEnded()&&null!=(null!=(n=a.getAdData())?n.adError:void 0)&&(this.forceBreakEnd=!0);!0===this.getValue("logEventsEnabled")&&this.sendNotification(k.LOG,this.adVO);break;case google.ima.AdEvent.Type.SKIPPED:this.sendNotification(k.SKIPPED,this.adVO);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:if(!0===
this.getInProgress()||!0===this.forceBreakEnd)this.forceBreakEnd=!1,this.endBreak()}};u.prototype.getContainer=function(){var a,b;return(null!=(a=this.facade.player.ui)?null!=(b=a.ads)?b.container:void 0:void 0)||this.facade.player.container};u.prototype.getDimensions=function(){var a;a=this.getContainer();return{width:a.clientWidth,height:a.clientHeight}};u.prototype.onAdTimeUpdate=function(a){var b;this.resize();a=g.clamp(this.adsManager.getRemainingTime(),0,this.adVO.duration);b=this.adVO.duration-
a;this.adVO.time=b;this.sendNotification(k.AD_TIME_UPDATE,b);this.sendNotification(k.AD_TIME_REMAINING,a)};u.prototype.onAdError=function(a){a=(null!=a?"function"===typeof a.getError?a.getError():void 0:void 0)||a;this.error(a);this.contentPlay()};u.prototype.play=function(){var a;u.__super__.play.call(this);try{null!=(a=this.adsManager)&&a.resume(),this.sendNotification(k.AD_RESUME)}catch(b){this.facade.logger.error("[AMP IMA ERROR]","resume",b)}};u.prototype.pause=function(){u.__super__.pause.call(this);
if(null!=this.adsManager)try{this.adsManager.pause()}catch(a){this.facade.logger.error("[AMP IMA ERROR]","pause",a)}else this.playWhenLoaded=!1};u.prototype.clearIntervals=function(){var a,b;b=this.intervals;a=0;for(b=b.length;a<b;a++)clearInterval(this.intervals.pop())};u.prototype.breakEnd=function(){var a;this.clearIntervals();u.__super__.breakEnd.call(this);a=this.facade.retrieveProxy(Ca.NAME);null!=a&&a.play()};u.prototype.setCompanions=function(a){var b,c,e,d,f;c=[];e=0;for(d=a.length;e<d;e++)b=
a[e],c.push({data:b.getContent(),type:null!=(f=b.getContentType())?f.toLowerCase():void 0,width:b.getWidth(),height:b.getHeight(),metadata:b});u.__super__.setCompanions.call(this,c);return a};u.prototype.contentPause=function(){var a,b=this;a="pause waiting playing ended durationchange error".split(" ");if(!1===this.facade.player.retrieveProxy(t.NAME).getSeeking())a.push("seeked");else this.getMediaElement().once("seeked",function(){b.sendNotification(d.DISABLE_VIDEO_EVENTS,["seeked"])});this.sendNotification(d.DISABLE_VIDEO_EVENTS,
a);!0===this.isLiveMidroll?this.getMediaElement().volume=0:u.__super__.contentPause.call(this)};u.prototype.contentPlay=function(){var a,b;!0===this.getInProgress()&&this.endBreak();this.sendNotification(d.ENABLE_VIDEO_EVENTS,"pause seeked waiting playing ended durationchange error".split(" "));if("postroll"!==(null!=(a=this.adVO)?a.type:void 0)){if(!0===this.isLiveMidroll)if(this.getMediaElement().volume=this.facade.player.retrieveProxy(t.NAME).getVolume(),"ipad"===g.getDevice())this.getMediaElement().load();
else return;u.__super__.contentPlay.call(this);"midroll"===(null!=(b=this.adVO)?b.type:void 0)&&"desktop"===g.getDevice()&&this.facade.player.setCurrentTime(Math.floor(this.facade.player.getCurrentTime()))}};u.prototype.contentEnded=function(){var a;this.contentHasEnded=!0;try{null!=(a=this.adsLoader)&&"function"===typeof a.contentComplete&&a.contentComplete()}catch(b){this.facade.logger.error("[AMP IMA ERROR]","contentComplete",b)}};u.prototype.terminateAd=function(){var a;try{null!=(a=this.adsManager)&&
a.stop()}catch(b){this.facade.logger.error("[AMP IMA ERROR]","terminateAd",b)}"postrol"===this.adVO.type&&this.sendNotification(d.HAS_POST_CONTENT,!1);this.endBreak();this.contentPlay()};u.prototype.terminateAllAds=function(){var a;try{null!=(a=this.adsManager)&&a.destroy()}catch(b){this.facade.logger.error("[AMP IMA ERROR]","terminateAllAds",b)}this.sendNotification(d.HAS_POST_CONTENT,!1);this.endBreak();this.contentPlay()};u.prototype.destroy=function(){var a;this.clearIntervals();null!=(a=this.adsManager)&&
"function"===typeof a.destroy&&a.destroy()};var Ve=function(){Ve.__super__.constructor.call(this)};f(Ve,puremvc.SimpleCommand);Ve.prototype.execute=function(a){this.facade.sendNotification(d.ADD_APPLICATION_STATE,"ad-overlay-mode")};var We=function(){We.__super__.constructor.call(this)};f(We,puremvc.SimpleCommand);We.prototype.execute=function(a){this.facade.retrieveProxy(Ca.NAME).stop();this.facade.player.sendNotification(d.REMOVE_APPLICATION_STATE,"ad-overlay-mode")};var Va=function(){Va.__super__.constructor.call(this)};
f(Va,Ma);Va.prototype.componentName="ad-overlay";Va.prototype.anchor=null;Va.prototype.image=null;Va.prototype.tracker=null;Va.prototype.tracker2=null;Va.prototype.closeButton=null;Va.prototype.closeText=null;Va.prototype.onRegister=function(){var a=this;Va.__super__.onRegister.call(this);this.anchor=this.create("ad-overlay-anchor");this.anchor.target="_blank";this.image=this.create("ad-overlay-img",this.anchor,"img");this.tracker=this.create();this.tracker.width=0;this.tracker.height=0;this.tracker2=
this.create(null,this,"img");this.tracker2.width=0;this.tracker2.height=0;this.closeButton=this.create("ad-close-button",this.anchor);this.closeButton.onclick=function(b){b.stopImmediatePropagation();a.sendNotification(Wb.REMOVE_OVERLAY);return!1};this.closeText=this.createText("ad-close-text","x",this.closeButton)};Va.prototype.listNotificationInterests=function(){return[Wb.ADD_OVERLAY,Wb.REMOVE_OVERLAY]};Va.prototype.handleNotification=function(a){switch(a.getName()){case Wb.ADD_OVERLAY:a=a.getBody(),
this.image.src=a.src,this.anchor.href=a.href,this.tracker.src=a.tracking[0],this.tracker2.src=a.tracking[1]}};var Xe=function(){Xe.__super__.constructor.call(this)};f(Xe,puremvc.SimpleCommand);Xe.prototype.execute=function(a){this.facade.retrieveProxy(u.NAME).ready()};var Ye=function(){Ye.__super__.constructor.call(this)};f(Ye,puremvc.SimpleCommand);Ye.prototype.execute=function(a){this.facade.retrieveProxy(u.NAME).resize(a.getBody())};var Ze=function(){Ze.__super__.constructor.call(this)};f(Ze,puremvc.SimpleCommand);
Ze.prototype.execute=function(a){this.facade.retrieveProxy(u.NAME).resize(a.getBody())};var gb=function(a){gb.__super__.constructor.call(this,a)};f(gb,u);gb.NAME=u.NAME;gb.prototype.createPlugin=function(){var a,b,c;a=this.facade.player.ui.ads.container;if(g.isIPhone()&&10>(null!=(b=g.getIOSversion())?b[0]:void 0))return new google.ima.AdDisplayContainer(a,this.facade.player.getMediaElement(),a);10<=(null!=(c=g.getIOSversion())?c[0]:void 0)&&(this.facade.player.getMediaElement().playsInline=null!=
this.facade.player.getConfig().playsinline?this.facade.player.getConfig().playsinline:!0);return new google.ima.AdDisplayContainer(a,this.facade.player.getMediaElement())};gb.prototype.engage=function(a){gb.__super__.engage.call(this,a);this.sendNotification(d.DISABLE_VIDEO_EVENTS,["paused","ended","durationchange","error"])};gb.prototype.reset=function(a){gb.__super__.reset.call(this,a);this.sendNotification(d.ENABLE_VIDEO_EVENTS,["paused","ended","durationchange","error"])};gb.prototype.breakStart=
function(){this.playbackCore=this.facade.player.retrieveProxy(R.NAME).getActivePlaybackCore();this.playbackCore.setEnabled(!1);this.setInProgress(!0)};gb.prototype.breakEnd=function(){gb.__super__.breakEnd.call(this);this.playbackCore.setEnabled(!0)};var T=function(a,b){T.__super__.constructor.call(this,a,b);Object.defineProperties(this,{enabled:{get:this.getEnabled,set:this.setEnabled,enumerable:!0,configurable:!1},inProgress:{get:this.getInProgress,enumerable:!0,configurable:!1},started:{get:this.getStarted,
enumerable:!0,configurable:!1},paused:{get:this.getPaused,enumerable:!0,configurable:!1},companions:{get:this.getCompanions,enumerable:!0,configurable:!1},currentAd:{get:this.getCurrentAd,enumerable:!0,configurable:!1}})};f(T,K);T.NAME="AdWrapper";T.prototype.enabled=!0;T.prototype.paused=!1;T.prototype.started=!1;T.prototype.adVO=null;T.prototype.partner=null;T.prototype.getFeatureName=function(){return"ads"};T.prototype.getInProgress=function(){return this.player.mediaElement.getPlayerProperty("adInProgress")};
T.prototype.getStarted=function(){return this.started};T.prototype.getPaused=function(){return this.paused};T.prototype.getCompanions=function(){var a;return null!=(a=this.adVO)?a.companions:void 0};T.prototype.setEnabled=function(a){this.enabled=a;this.player.mediaElement.setPlayerProperty("adsEnabled",a);return a};T.prototype.getEnabled=function(){return this.enabled};T.prototype.getCurrentAd=function(){return this.adVO};T.prototype.enable=function(){this.setEnabled(!0)};T.prototype.disable=function(){this.setEnabled(!1)};
T.prototype.createFlashVars=function(a){a.core_ads_enabled=!0;return a};T.prototype.listNotificationInterests=function(){var a,b;return T.__super__.listNotificationInterests.call(this).concat(function(){var c;c=[];for(a in ca)b=ca[a],c.push(b);return c}())};T.prototype.handleNotification=function(a){var b,c,e,f,g,l,m;T.__super__.handleNotification.call(this,a);b=a.getName();a=a.getBody();this.adVO=this.createAdVO(a);f=this;switch(b){case ca.BREAK_START:g=k.BREAK_START;this.facade.setPlayState("playing");
0<(null!=(c=a.cuePoints)?c.length:void 0)&&(b=a.cuePoints.map(function(a){return{startTime:isNaN(a.sceneStartSeconds)?a.sceneEndSeconds:a.sceneStartSeconds,endTime:a.sceneEndSeconds}}),this.facade.setCues(b));break;case ca.BREAK_END:g=k.BREAK_END;break;case ca.BREAK_SKIPPED:g=k.BREAK_SKIPPED;break;case ca.AD_MEDIA_LOADED:g=k.AD_LOADED;this.start=!1;f.dispatchEvent(new D(k.AD_DURATION_CHANGE.replace(/^ads/,""),this.adVO));break;case ca.AD_STARTED:g=k.AD_STARTED;this.started=!0;this.sendNotification(d.ADD_APPLICATION_STATE,
"ad-mode");break;case ca.AD_TIME_UPDATE:g=k.AD_TIME_UPDATE;b=a.duration-a.currentTime;f.dispatchEvent(new D(k.AD_TIME_REMAINING.replace(/^ads/,""),b));a=a.currentTime;break;case ca.AD_TIME_REMAINING:g=k.AD_TIME_REMAINING;a=a.timeElapsed;break;case ca.AD_ERROR:case ca.AD_PLAYBACK_FAILED:g=k.AD_ERROR;this.start=!1;this.sendNotification(d.REMOVE_APPLICATION_STATE,"ad-mode");break;case ca.COMPLETE:g=k.COMPLETE;break;case ca.AD_ENDED:case ca.AD_PLAYBACK_TERMINATED:g=k.AD_ENDED;this.sendNotification(d.REMOVE_APPLICATION_STATE,
"ad-mode");break;case ca.AD_CLICKED:g=k.AD_CLICKED;break;case ca.AD_COMPANION:g=k.AD_COMPANION;null!=this.adVO&&null!=a&&(this.adVO.companions=a);break;case ca.AD_PAUSE:g=k.AD_PAUSE;f=this.player;this.paused=!0;this.player.setPlayState("paused");break;case ca.AD_PLAY:g=k.AD_PLAY;this.paused=!1;this.player.setPlayState("playing");break;case ca.AD_LOG:g=k.AD_LOG;break;case ca.AD_FIRST_QUARTILE:g=k.FIRST_QUARTILE;break;case ca.AD_MIDPOINT:g=k.MIDPOINT;break;case ca.AD_THIRD_QUARTILE:g=k.THIRD_QUARTILE;
break;case ca.AD_REQUEST:g=k.REQUEST;break;case ca.AD_REQUEST_COMPLETE:g=k.REQUEST_COMPLETE;c=[];b=a.cuePoints||[];l=0;for(m=b.length;l<m;l++)e=b[l],c.push(new ta(e.sceneId,e.sceneTitle,e.sceneDuration,e.scenePodIndex,e.scenePodPosition,this.partner,null,null,null,{},e.sceneSubCount,e.sceneEndSeconds));this.adVO={pods:c};b=new D("response",this.adVO);b.player=this.player;f.dispatchEvent(b);break;case ca.AD_SKIPPED:g=k.SKIPPED;break;case ca.AD_IMPRESSION:g=k.IMPRESSION}null!=g&&(this.sendNotification(g,
this.adVO),b=g===k.AD_TIME_REMAINING||g===k.AD_TIME_UPDATE?new D(g.replace(/^ads/,""),a):new D(g.replace(/^ads/,""),this.adVO),b.player=this.player,f.dispatchEvent(b))};T.prototype.createAdVO=function(a){return null==a?null:new ta(a.id,a.title,a.duration,a.adIndex,a.podPosition,a.adPlatform,null,null,a.requestURL,a.metadata,a.totalAds,a.currentTime)};T.prototype.setPodLocks=function(a){var b,c,e,d;c=[];e=0;for(d=a.length;e<d;e++)b=a[e],c.push({sceneId:b.id,sceneLocked:b.locked,sceneTitle:b.title,
sceneStartSeconds:b.time,sceneEndSeconds:b.duration+b.time,scenePodIndex:b.position,scenePodPosition:b.type});this.player.mediaElement.setAdPodLocks(c)};T.prototype.terminateAd=function(){this.player.mediaElement.terminateAd()};T.prototype.terminateAllAds=function(){this.player.mediaElement.terminateAllAds()};T.prototype.requestAd=function(){this.player.mediaElement.triggerAd()};var cc=function(){return cc.__super__.constructor.apply(this,arguments)};f(cc,T);cc.NAME="IMAWrapper";cc.prototype.partner=
"ima";cc.prototype.flashPlugins=[{id:"GoogleIMAPlugin",src:"#{paths.resources}plugins/GoogleIMAPlugin.swf",blocking:!1,host:"akamai",main:"GoogleIMAPlugin",type:"application/x-shockwave-flash"},{id:"IMAOverlayAdPlugin",src:"#{paths.resources}plugins/IMAOverlayAdPlugin.swf",blocking:!1,host:"akamai",main:"IMAOverlayAdPlugin",type:"application/x-shockwave-flash"},{id:"AdOptionsPlugin",src:"#{paths.resources}plugins/AdOptionsPlugin.swf",blocking:!1,host:"akamai",main:"AdOptionsPlugin",type:"application/x-shockwave-flash"}];
cc.prototype.createXML=function(a){var b,c,e,d,f,g,k,l,m;c=a.firstChild;b=a.getElementsByTagName("admedia")[0];null==b&&(b=a.createElement("admedia"),c.appendChild(b));c=a.createElement("vendor");c.setAttribute("id","dfp");b.appendChild(c);d=[{value:this.config.adTagUrl,key:"DFP_AD_TAG_URL"},{value:this.config.maxBitrate,key:"DFP_MAX_BITRATE"},{value:this.config.sceneMarkers,key:"displaySceneMarkers"},{value:this.config.ppid,key:"DFP_PPID"}];f=0;for(k=d.length;f<k;f++)e=d[f],null!=e.value&&this.createProperty(a,
e.key,e.value,c);null!=this.config.position&&c.setAttribute("position",this.config.position);null!=this.config.params&&(null!=this.config.params.adTag&&this.createProperty(a,"DFP_AD_TAG_PARAMS",this.config.params.adTag,c),null!=this.config.params.manual&&this.createProperty(a,"DFP_MANUAL_PARAMS",this.config.params.manual,c));if(null!=this.config.companions){d=[];f=[];m=this.config.companions;k=0;for(l=m.length;k<l;k++)e=m[k],d.push(e.width+"x"+e.height),f.push(e.id);this.createProperty(a,"DFP_SIZE",
d.join(","),c);this.createProperty(a,"COMPANION_ID",f.join(","),c)}null!=this.config.disableCompanionAds&&this.createProperty(a,"disableCompanionAds",this.config.disableCompanionAds,c);if(null!=this.config.overlay)for(!0===this.config.overlay.enabled&&(g=a.createElement("overlay"),b.appendChild(g)),d=[{value:"dfp",key:"OVERLAY_AD_PARTNER"},{value:this.config.overlay.adTagUrl,key:"OVERLAY_AD_BASE_URL"},{value:this.config.overlay.delay,key:"OVERLAY_AD_DELAY"},{value:this.config.overlay.interval,key:"OVERLAY_AD_INTERVAL"},
{value:this.config.overlay.duration,key:"OVERLAY_AD_DURATION"},{value:""+this.config.overlay.width+"x"+this.config.overlay.height,key:"OVERLAY_AD_SIZE"}],b=0,c=d.length;b<c;b++)e=d[b],null!=e.value&&this.createProperty(a,e.key,e.value,g);return a};var X=function(){X.__super__.constructor.call(this);Object.defineProperties(this,{enabled:{get:this.getEnabled,set:this.setEnabled,enumerable:!0,configurable:!1},inProgress:{get:this.getInProgress,enumerable:!0,configurable:!1},started:{get:this.getStarted,
enumerable:!0,configurable:!1},paused:{get:this.getPaused,enumerable:!0,configurable:!1},companions:{get:this.getCompanions,enumerable:!0,configurable:!1},currentAd:{get:this.getCurrentAd,enumerable:!0,configurable:!1}})};f(X,Ya);X.NAME="AdPlugin";X.prototype.container=null;X.prototype.featureName="ads";X.prototype.createModel=function(){this.proxy=this.isFullscreenDevice()?this.createFullscreenProxy():this.createProxy();this.registerProxy(this.proxy)};X.prototype.createController=function(){X.__super__.createController.call(this);
this.registerCommand(d.MEDIA_CHANGE,Qe);this.registerCommand(k.BREAK_START,jd);this.registerCommand(k.AD_LOADED,id);this.registerCommand(k.BREAK_END,kd);this.registerCommand(ia.SEEKED,Re);this.registerCommand(k.AD_CONTAINER_CREATED,ld);this.registerCommand(d.REPLAY,Se);this.registerCommand(k.AD_STARTED,A);this.registerCommand(k.SKIPPED,A);this.registerCommand(k.AD_MANAGER_LOADED,A);this.registerCommand(k.AD_TIME_UPDATE,A);this.registerCommand(k.AD_TIME_REMAINING,A);this.registerCommand(k.AD_DURATION_CHANGE,
A);this.registerCommand(k.AD_ENDED,A);this.registerCommand(k.AD_ERROR,A);this.registerCommand(k.AD_COMPANION,A);this.registerCommand(k.FIRST_QUARTILE,A);this.registerCommand(k.MIDPOINT,A);this.registerCommand(k.THIRD_QUARTILE,A);this.registerCommand(k.COMPLETE,A);this.registerCommand(k.LOG,A);this.registerCommand(k.REQUEST,A);this.registerCommand(k.AD_RESUME,A);this.registerCommand(k.AD_PLAY,A);this.registerCommand(k.AD_PAUSE,A);this.registerCommand(k.AD_PAUSED,A);this.registerCommand(k.IMPRESSION,
A);this.registerCommand(k.AD_CLICKED,A);this.registerCommand(k.REQUEST_COMPLETE,A);this.registerCommand(k.RESPONSE,A);this.registerCommand(k.BREAK_SKIPPED,A)};X.prototype.isFullscreenDevice=function(){return g.isFullscreenDevice()};X.prototype.createProxy=function(){};X.prototype.createFullscreenProxy=function(){};X.prototype.listNotificationInterests=function(){return[d.MEDIA_CHANGE,d.REPLAY,d.PLAY,d.PAUSE,d.PAUSED,d.START,d.STARTED,d.ENDED,d.READY,d.VOLUME_CHANGE,d.FULL_SCREEN_CHANGE,d.CHANGE_ACTIVE_STATE,
d.PLAY_STATE_CHANGE,ia.PLAY,ia.PAUSE,ia.SEEKED,ia.TOGGLE_PLAY_PAUSE]};X.prototype.listNotificationPublications=function(){var a,b;return X.__super__.listNotificationPublications.call(this).concat(function(){var c;c=[];for(a in k)b=k[a],c.push(b);return c}()).concat([d.PLAY_REQUEST,d.UPDATE_DATA_BINDINGS,d.DISPLAY_TIME,d.DISABLE_FULL_SCREEN,d.ENABLE_VIDEO_EVENTS,d.DISABLE_VIDEO_EVENTS,d.HAS_POST_CONTENT,d.MEDIA_SEQUENCE_ENDED,d.CHANGE_PLAY_STATE,d.AUTOPLAY_BLOCKED])};X.prototype.setEnabled=function(a){this.proxy.setEnabled(a)};
X.prototype.getEnabled=function(){return this.proxy.getEnabled()};X.prototype.getInProgress=function(){return this.proxy.getInProgress()};X.prototype.getStarted=function(){return this.proxy.getStarted()};X.prototype.getPaused=function(){return this.proxy.getPaused()};X.prototype.getCompanions=function(){return this.proxy.getCompanions()};X.prototype.getCurrentAd=function(){return this.proxy.adVO};X.prototype.setPodLocks=function(a){this.proxy.setPodLocks(a)};X.prototype.resize=function(a){this.proxy.resize(a)};
X.prototype.terminateAd=function(){this.proxy.terminateAd()};X.prototype.terminateAllAds=function(){this.proxy.terminateAllAds()};X.prototype.requestAd=function(){this.proxy.start(!1)};var hb=function(a){hb.__super__.constructor.call(this,a)};f(hb,F);hb.NAME=F.NAME;hb.prototype.defaults={url:null};hb.prototype.hidden=!0;hb.prototype.getURL=function(){return this.data.url};hb.prototype.setURL=function(a){return this.data.url=a};hb.prototype.getHidden=function(){return this.hidden};hb.prototype.setHidden=
function(a){return this.hidden=a};hb.prototype.invoke=function(){var a,b=this;if(null!=this.data.url)return a=g.get(this.data.url,{onload:function(){null!=a.response&&b.sendNotification("bitratesUpdate",a.response)},onerror:function(a){return b.sendNotification("bitratesUpdate",null)}})};var $e=function(){$e.__super__.constructor.call(this)};f($e,puremvc.SimpleCommand);$e.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(hb.NAME);b.setHidden(a.getBody());b.setURL(""+this.facade.player.getSrc());
!1===a.getBody()&&b.invoke()};var Da=function(){Da.__super__.constructor.call(this)};f(Da,Bb);Da.prototype.componentName="stats";Da.prototype.container=null;Da.prototype.statsText=null;Da.prototype.statsButton=null;Da.prototype.bitrateText=null;Da.prototype.bitrateArr=null;Da.prototype.onRegister=function(){var a=this;Da.__super__.onRegister.call(this);this.sendNotification(d.ADD_CONTROL_STATE,"stats-enabled");this.classList.add("hidden");this.statsFormat=this.create("stats-text");this.statsQuality=
this.create("stats-text");this.statsBitRate=this.create("stats-text");this.statsPlayBack=this.create("stats-text");this.statsAnalytics=this.create("stats-text");this.statsButton=this.create("stats-button",!1);G.create(this.statsButton,G.CLICK,function(b){b.stopImmediatePropagation();a.sendNotification("statsvisibilitychange",!a.facade.getHidden());return!1});this.sendNotification(d.ADD_CONTROL,this.statsButton)};Da.prototype.listNotificationInterests=function(){return["statsvisibilitychange",d.PLAYING,
d.TIME_UPDATE]};Da.prototype.handleNotification=function(a){var b;b=a.getName();a.getBody();switch(b){case "statsvisibilitychange":this.plugin.getHidden()?this.classList.add("hidden"):(this.classList.remove("hidden"),this.statsBitRate.innerHTML="\x3cp\x3e\x3cb class\x3d'"+this.classList.prefix+"stats-header'\x3eAdaptive Bitrate Renditions\x3c/b\x3e\x3c/p\x3e\x3cp\x3eLoading...\x3c/p\x3e",this.renderStats());break;case d.TIME_UPDATE:this.renderQuality();break;case d.PLAYING:a=this.facade.player.getQualityLevels(),
0<(null!=a?a.length:void 0)?this.constructBitrateText(a):this.statsBitRate.innerHTML="\x3cp\x3e\x3cb class\x3d'"+this.classList.prefix+"stats-header'\x3eAdaptive Bitrate Renditions\x3c/b\x3e\x3c/p\x3e\x3cp\x3eNot Available\x3c/p\x3e"}};Da.prototype.renderQuality=function(){var a;a=this.facade.player.getQuality();this.quality!==a&&(this.statsQuality.innerHTML="\x3cp\x3e\x3cb class\x3d'"+this.classList.prefix+"stats-header'\x3eQuality\x3c/b\x3e\x3c/p\x3e\x3cp\x3e"+this.createBitrateText(this.facade.player.getQualityLevels()[a],
a)+"\x3c/p\x3e")};Da.prototype.renderStats=function(){var a,b,c,e,d,f,k,l;try{f=this.facade.player,c=void 0===f.getMedia()?"Not Available":f.getMedia().type,k=""===f.getSrc()||null===f.getSrc()?"Not Available":f.getSrc(),b=g.getDevice(),null==b&&(b=""),d=""!==this.facade.player.getConfig().mode&&null!==this.facade.player.getConfig().mode&&-1!==this.facade.player.getConfig().mode.indexOf("html")?this.facade.player.getVersion()+", HTML5 Video: "+b:"Not Available",e=null!=(l=this.facade.player.retrieveProxy(R.NAME).getActivePlaybackCore())?
l.proxyName.indexOf("dash"):void 0,-1<e&&(d+=", dash.js"),a=void 0===this.facade.player.getConfig().mediaanalytics||""===this.facade.player.getConfig().mediaanalytics.config||null===this.facade.player.getConfig().mediaanalytics.config?"Not Available":this.facade.player.getConfig().mediaanalytics.config,this.statsFormat.innerHTML="\x3cp\x3e\x3cb class\x3d'"+this.classList.prefix+"stats-header'\x3eStream\x3c/b\x3e\x3c/p\x3e\x3cp\x3eFormat: "+c+"\x3c/p\x3e\x3cp\x3eURL: "+k+"\x3c/p\x3e",this.statsPlayBack.innerHTML=
"\x3cp\x3e\x3cb class\x3d'"+this.classList.prefix+"stats-header'\x3ePlayback\x3c/b\x3e\x3c/p\x3e"+d,this.statsAnalytics.innerHTML="\x3cp\x3e\x3cb class\x3d'"+this.classList.prefix+"stats-header'\x3eAnalytics\x3c/b\x3e\x3c/p\x3e"+a}catch(m){this.facade.logger.error("[AMP Stats Render Error]:",m)}};Da.prototype.constructBitrateText=function(a){var b,c,e,d;this.bitrateArr=a;this.bitrateText="";this.bitrateArr.sort(function(a,b){var c,e;c=parseInt(a.bitrate);e=parseInt(b.bitrate);return c<e?-1:c>e?1:
0});d=this.bitrateArr;a=c=0;for(e=d.length;c<e;a=++c)b=d[a],this.bitrateText+=this.createBitrateText(b,a);""===this.bitrateText&&(this.bitrateText="\x3cp\x3eNot Available\x3c/p\x3e");this.statsBitRate.innerHTML="\x3cp\x3e\x3cb class\x3d'"+this.classList.prefix+"stats-header'\x3eAdaptive Bitrate Renditions\x3c/b\x3e\x3c/p\x3e"+this.bitrateText};Da.prototype.createBitrateText=function(a,b){return"\x3cp\x3e"+(b+1)+". "+(a.bitrate/1E3).toFixed(0)+" kbps "+a.width+"x"+a.height+"\x3c/p\x3e"};var af=function(){af.__super__.constructor.call(this)};
f(af,H);af.prototype.execute=function(a){this.facade.retrieveProxy(B.NAME).contentPaused()};var Za=function(){Za.__super__.constructor.call(this)};f(Za,X);Za.prototype.moduleName="ima";Za.prototype.createFullscreenProxy=function(){return new gb(this.config)};Za.prototype.createProxy=function(){return new u(this.config)};Za.prototype.isFullscreenDevice=function(){var a;a=navigator.userAgent;return!0===this.config.fullscreen||g.isFullscreenDevice()||/Android 4\.[0-1]/.test(a)||/CrKey/.test(a)};Za.prototype.createModel=
function(){Za.__super__.createModel.call(this);null!=this.config.overlay&&this.registerProxy(new Ca(this.config.overlay))};Za.prototype.createController=function(){Za.__super__.createController.call(this);null!=this.config.overlay&&(this.registerCommand(Wb.ADD_OVERLAY,Ve),this.registerCommand(Wb.REMOVE_OVERLAY,We));this.registerCommand(d.READY,Xe);this.registerCommand(d.FULL_SCREEN_CHANGE,Ye);this.registerCommand(d.CHANGE_ACTIVE_STATE,Ze)};Za.prototype.createView=function(){Za.__super__.createView.call(this);
null!=this.config.overlay&&this.registerMediator(new Va)};r.registerPlugin("ima","html",Za);r.registerPlugin("ima","flash",cc);var dc=function(){return dc.__super__.constructor.apply(this,arguments)};f(dc,T);dc.NAME="FreeWheelWrapper";dc.prototype.partner="freewheel";dc.prototype.flashPlugins=[{id:"FreewheelPlugin",src:"#{paths.resources}plugins/FreewheelPlugin.swf",blocking:!1,host:"akamai",main:"FreewheelPlugin"},{id:"AdOptionsPlugin",src:"#{paths.resources}plugins/AdOptionsPlugin.swf",blocking:!1,
host:"akamai",main:"AdOptionsPlugin",type:"application/x-shockwave-flash"}];dc.prototype.createXML=function(a){var b,c,e,d,f,g;c=a.firstChild;b=a.getElementsByTagName("admedia")[0];null==b&&(b=a.createElement("admedia"),c.appendChild(b));c=a.createElement("vendor");c.setAttribute("id","freewheel");b.appendChild(c);d=[{value:this.config.plugin.swf,key:"FREEWHEEL_AD_MANAGER_URL"},{value:this.config.serverUrl,key:"FREEWHEEL_SERVER_URL"},{value:this.config.networkId,key:"FREEWHEEL_NETWORK_ID"},{value:this.config.profileId,
key:"FREEWHEEL_PROFILE"},{value:this.config.siteSectionId,key:"FREEWHEEL_SITE_SECTION_ID"},{value:this.config.siteSectionFallbackId,key:"FREEWHEEL_SITE_SECTION_FALLBACK_ID"},{value:this.config.prerollSlotId,key:"FREEWHEEL_PREROLL_SLOT_ID"},{value:this.config.midrollSlotId,key:"FREEWHEEL_MIDROLL_SLOT_ID"},{value:this.config.postrollSlotId,key:"FREEWHEEL_POSTROLL_SLOT_ID"},{value:this.config.videoAssetId,key:"FREEWHEEL_VIDEO_ASSET_ID"},{value:this.config.videoAssetFallbackId,key:"FREEWHEEL_VIDEO_ASSET_FALLBACK_ID"},
{value:this.config.videoAssetVideoPlayRandom,key:"FREEWHEEL_VIDEO_ASSET_VIDEO_PLAY_RANDOM"},{value:this.config.visitorId,key:"FREEWHEEL_VISITOR_ID"},{value:this.config.keyValuesString,key:"FREEWHEEL_KEY_VALUES_STRING"},{value:this.config,key:"FREEWHEEL_SITE_SECTION_PAGE_VIEW_RANDOM"},{value:"EXACT",key:"FREEWHEEL_VIDEO_ASSET_DURATION_TYPE"},{value:this.config.visitorHeader,key:"FREEWHEEL_VISITOR_HTTP_HEADER_KEY_VALUE"},{value:this.config.synchronizeMultipleRequests,key:"FREEWHEEL_SYNCHRONIZE_MULTIPLE_REQUESTS"},
{value:this.config.subsessionToken,key:"FREEWHEEL_SUBSESSION_TOKEN"}];f=0;for(g=d.length;f<g;f++)b=d[f],null!=b.value&&this.createProperty(a,b.key,b.value,c);null!=this.config.position&&c.setAttribute("position",this.config.position);if(null!=this.config.keyValues){b=a.createElement("property");b.setAttribute("key","FREEWHEEL_KEY_VALUE");f=this.config.keyValues;for(e in f)d=f[e],null!=d&&this.createProperty(a,e,d,b);c.appendChild(b)}};var s=function(a){this.media={};this.handlers={onRequestComplete:this.onRequestComplete.bind(this),
onSlotStarted:this.onSlotStarted.bind(this),onSlotEnded:this.onSlotEnded.bind(this),onAdImpression:this.onAdImpression.bind(this),onAdImpressionEnd:this.onAdImpressionEnd.bind(this),onAdClick:this.onAdClick.bind(this),onResume:this.onResume.bind(this),adtimeupdate:this.adTimeupdate.bind(this),timeupdate:this.midrollCheck.bind(this),overlaytimeupdate:this.overlayCheck.bind(this),seekupdate:this.seekingHandler.bind(this),onAdEvent:this.onAdEvent.bind(this)};s.__super__.constructor.call(this,a);this.adVO=
this.createDefaultAdVO()};f(s,B);s.NAME=B.NAME;s.prototype.partner="freewheel";s.prototype.context=null;s.prototype.prerollSlots=null;s.prototype.midrollSlots=null;s.prototype.postrollSlots=null;s.prototype.initialized=!1;s.prototype.playWhenLoaded=!1;s.prototype.handlers=null;s.prototype.slot=null;s.prototype.playbackCore=null;s.prototype.nextMidroll=null;s.prototype.midrollEngaged=!1;s.prototype.overlayEngaged=!1;s.prototype.timeout=null;s.prototype.curTime=0;s.prototype.mediator=null;s.prototype.adPosition=
1;s.prototype.currentAd=null;s.prototype.defaults={networkId:"96749",serverUrl:"http://demo.v.fwmrm.net/ad/g/1",profileId:"global-js",siteSectionId:"DemoSiteGroup.01",siteSectionFallbackId:null,siteSectionPageViewRandom:null,videoAssetId:"#{media.guid}",videoAssetFallbackId:null,videoAssetVideoPlayRandom:null,prerollSlotId:null,midrollSlotId:null,postrollSlotId:null,visitorId:null,keyValues:null,keyValuesString:null,renderers:null,synchronizeMultipleRequests:null,subsessionToken:null,creativeParameters:null,
parameters:null};s.prototype.initialize=function(){var a;a=this.getDebug();switch(!0){case !0===a:a=tv.freewheel.SDK.LOG_LEVEL_INFO;break;case "number"===typeof a:break;default:a=tv.freewheel.SDK.LOG_LEVEL_QUIET}tv.freewheel.SDK.setLogLevel(a);this.plugin=this.createPlugin();this.plugin.setNetwork(this.value.networkId);this.plugin.setServer(this.value.serverUrl)};s.prototype.createPlugin=function(){return new tv.freewheel.SDK.AdManager};s.prototype.engage=function(a){this.terminateAd(!0);this.media=
a;s.__super__.engage.call(this,a);this.requestAd()};s.prototype.requestAd=function(){var a,b,c,e,f,k;this.terminateAllAds(!0);this.context=this.plugin.newContext();null!=this.value.synchronizeMultipleRequests&&this.context.setCapability("sync",this.value.synchronizeMultipleRequests?tv.freewheel.SDK.CAPABILITY_STATUS_ON:tv.freewheel.SDK.CAPABILITY_STATUS_OFF);this.context.registerVideoDisplayBase(this.facade.player.viewComponent.id);"video"!==this.getMediaElement().nodeName.toLowerCase()&&(this.sendNotification(d.PLAYBACK_CORE_CHANGE,
this.facade.player.mediator),this.mediator=this.facade.player.retrieveProxy(R.NAME).getActivePlaybackCore().mediator);this.context.setContentVideoElement(this.getMediaElement());this.context.setProfile(this.value.profileId);this.context.setVideoAsset(this.value.videoAssetId,this.media.duration,this.value.networkId,null,null,this.value.videoAssetVideoPlayRandom,null,this.value.videoAssetFallbackId);this.context.setSiteSection(this.value.siteSectionId,this.value.networkId,this.value.siteSectionPageViewRandom,
null,this.value.siteSectionFallbackId);null!=this.value.subsessionToken&&this.context.startSubsession(this.value.subsessionToken);null!=this.value.visitorId&&this.context.setVisitor(this.value.visitorId);if(null!=this.value.keyValues)for(c in k=this.value.keyValues,k)f=k[c],null!=f&&this.context.addKeyValue(c,f);if(null!=this.value.keyValuesString)for(c=this.value.keyValuesString.split("\x26"),f=0,k=c.length;f<k;f++)b=c[f],""!==b&&(b=b.split("\x3d"),this.context.addKeyValue(b[0],b[1]));this.context.addEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,
this.handlers.onRequestComplete);this.context.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.handlers.onSlotStarted);this.context.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.handlers.onSlotEnded);this.context.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.handlers.onAdImpression);this.context.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.handlers.onAdImpressionEnd);this.context.addEventListener(tv.freewheel.SDK.EVENT_AD_CLICK,this.handlers.onAdClick);
this.context.addEventListener(tv.freewheel.SDK.EVENT_AD,this.handlers.onAdEvent);this.context.addEventListener(tv.freewheel.SDK.EVENT_ERROR,this.handlers.onAdEvent);this.context.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT,1E4,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);this.context.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT,1E4,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);this.context.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE,
!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);this.context.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);this.context.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);if(null!=this.value.parameters)for(b=this.value.parameters,f=0,k=b.length;f<k;f++)c=b[f],this.context.setParameter(c.key,c.value,c.level||tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);
null!=this.value.prerollSlotId&&this.context.addTemporalSlot(this.value.prerollSlotId,tv.freewheel.SDK.ADUNIT_PREROLL,0);if(0<(null!=(a=this.media.scenes)?a.length:void 0)&&null!=this.value.midrollSlotId){a=[];k=this.media.scenes;b=c=0;for(f=k.length;c<f;b=++c)e=k[b],0<b&&(b=g.flattenTimecode(e.sceneStartTime),a.push(b),this.context.addTemporalSlot(this.value.midrollSlotId,tv.freewheel.SDK.ADUNIT_MIDROLL,b));this.setCues(a)}null!=this.value.postrollSlotId&&this.context.addTemporalSlot(this.value.postrollSlotId,
tv.freewheel.SDK.ADUNIT_POSTROLL,this.media.duration);c=this.value.renderers;if(0<(null!=c?c.length:void 0))for(f=0,k=c.length;f<k;f++)a=c[f],this.context.addRenderer(a.url,a.baseUnit,a.contentType,a.slotType,a.soAdUnit,a.creativeApi,a.parameters);this.initialized=!1;s.__super__.requestAd.call(this);this.context.submitRequest();try{this.facade.player.ui.ads.container.style.pointerEvents="none"}catch(l){}};s.prototype.reset=function(){s.__super__.reset.call(this);null!=this.mediator&&(this.sendNotification(d.PLAYBACK_CORE_CHANGE,
this.mediator),this.mediator=null);this.facade.registerCommand(d.PAUSED,af)};s.prototype.onRequestComplete=function(a){var b,c,e,f,g,l;c=[];this.pods=[];b=function(a){return new ta(a.getCustomId(),a.getCustomId(),a.getTotalDuration(),0,a.getTimePositionClass().toLowerCase(),"freewheel",null,null,null,a,a.getAdCount(),a.getTimePosition())};if(a.success)for(f=this.context.getTemporalSlots(),g=0,l=f.length;g<l;g++)switch(e=f[g],e.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:null!=
this.value.prerollSlotId&&(this.pods.push(b(e)),this.prerollSlots.push(e));break;case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:null!=this.value.midrollSlotId&&(this.pods.push(b(e)),c.push(e.getTimePosition()),this.midrollSlots.push(e));break;case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:null!=this.value.postrollSlotId&&(this.pods.push(b(e)),this.postrollSlots.push(e));break;case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:this.pods.push(b(e)),this.overlaySlotsArray.push(e)}0<c.length&&this.setCues(c);
0<this.postrollSlots.length&&this.sendNotification(d.HAS_POST_CONTENT,!0);this.initialized=!0;this.pods.sort(function(a,b){return a.time-b.time});c=-1;g=this.pods;e=0;for(f=g.length;e<f;e++)b=g[e],b.position="overlay"!==b.type?++c:c;this.sendNotification(k.REQUEST_COMPLETE,{pods:this.pods});this.sendNotification(k.RESPONSE,{pods:this.pods,response:a,context:this.context});!0===this.playWhenLoaded&&this.startAd()};s.prototype.breakStart=function(){var a;s.__super__.breakStart.call(this);this.adPosition=
1;this.playbackCore=this.facade.player.retrieveProxy(R.NAME).getActivePlaybackCore();this.playbackCore.setEnabled(!1);this.getMediaElement().removeEventListener("playing",this.handlers.onResume);a=this.getMediaElement();a.addEventListener("playing",this.playbackCore.handlers.playing);a.addEventListener("pause",this.playbackCore.handlers.pause);a.addEventListener("waiting",this.playbackCore.handlers.waiting);a.addEventListener("seeking",this.handlers.seekupdate);this.timeout=setInterval(function(){return this.curTime=
a.currentTime},500);"midroll"===this.adVO.type&&this.contentPause();1!==this.facade.player.playbackRate&&(this.playbackRate=this.facade.player.playbackRate,this.facade.player.playbackRate=1)};s.prototype.seekingHandler=function(a){a.target.currentTime>this.curTime&&(a.target.currentTime=this.curTime)};s.prototype.onAdImpression=function(a){var b,c,e,d,f,g,l,m;b=null!=(g=a.adInstance)?"function"===typeof g.getSlot?"function"===typeof(f=g.getSlot()).getTimePositionClass?f.getTimePositionClass():void 0:
void 0:void 0;try{b===tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY&&(d='[id^\x3d"_fw_ad_container_iframe_'+this.slot.getCustomId(),e=document.getElementById(document.querySelector(d).id).style.bottom,c=window.getComputedStyle(document.getElementsByClassName("akamai-control-bar")[0]).height,parseInt(e,10)<parseInt(c,10)&&(document.getElementById(document.querySelector(d).id).style.bottom=c))}catch(n){}b!==tv.freewheel.SDK.TIME_POSITION_CLASS_DISPLAY&&b!==tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY&&
(this.currentAd=a.adInstance,this.adVO.position=this.adPosition++,this.adVO.id=this.currentAd.getAdId(),this.adVO.duration=null!=(l=a.adInstance)?l.getDuration():void 0,!0===(null!=this.slot)&&(a={adtype:this.slot.getType()},this.updateAdMetadata(this.slot,a),this.adVO.metadata=a),a=null!=(m=this.currentAd)?m.getActiveCreativeRendition():void 0,null!=a&&(this.adVO.metadata.adwidth=a.getWidth(),this.adVO.metadata.adheight=a.getHeight()),this.sendNotification(k.IMPRESSION,this.adVO),this.sendNotification(k.AD_STARTED,
this.adVO))};s.prototype.onAdEvent=function(a){switch(a.subType){case tv.freewheel.SDK.EVENT_AD_FIRST_QUARTILE:this.sendNotification(k.FIRST_QUARTILE,this.adVO);break;case tv.freewheel.SDK.EVENT_AD_MIDPOINT:this.sendNotification(k.MIDPOINT,this.adVO);break;case tv.freewheel.SDK.EVENT_AD_THIRD_QUARTILE:this.sendNotification(k.THIRD_QUARTILE,this.adVO);break;case tv.freewheel.SDK.EVENT_AD_COMPLETE:this.sendNotification(k.COMPLETE,this.adVO);break;case tv.freewheel.SDK.EVENT_AD_AUTO_PLAY_BLOCKED:this.sendNotification(d.AUTOPLAY_BLOCKED);
break;case tv.freewheel.SDK.EVENT_ERROR:this.adVO.error={},this.adVO.error.errorcode=a.errorCode,this.adVO.error.errorinfo=a.errorInfo,this.adVO.error.errormodule=a.errorModule,this.facade.sendNotification(d.DISPATCH_EVENT,new D("error",this.adVO))}};s.prototype.onAdImpressionEnd=function(a){this.sendNotification(k.AD_ENDED,this.adVO)};s.prototype.onAdClick=function(a){!1===this.getMediaElement().paused&&this.pause();this.sendNotification(k.AD_CLICKED,this.adVO)};s.prototype.onResume=function(a){this.context.setVideoState(tv.freewheel.SDK.VIDEO_STATE_PLAYING);
this.getMediaElement().removeEventListener("playing",this.handlers.onResume)};s.prototype.adTimeupdate=function(a){var b;try{null!=this.slot&&(this.currentAd=this.slot.getCurrentAdInstance(),null!=this.currentAd&&(this.adVO.duration=this.currentAd.getDuration(),b=this.currentAd.getDuration()-this.currentAd.getPlayheadTime(),this.adVO.time=b,this.sendNotification(k.AD_TIME_UPDATE,this.currentAd.getPlayheadTime()),this.sendNotification(k.AD_TIME_REMAINING,b)))}catch(c){this.facade.logger.error("[AMP FREEWHEEL ERROR]",
c)}};s.prototype.onSlotStarted=function(a){var b,c;b=this.slot;c=a.slot;"temporal"===c.getType()&&(b&&(a="function"===typeof b.getTimePositionClass?b.getTimePositionClass():void 0,a===tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY&&this.isOverlayDisplayed&&"function"===typeof b.stop&&b.stop()),this.slot=c,this.getMediaElement().addEventListener("timeupdate",this.handlers.adtimeupdate))};s.prototype.onSlotEnded=function(a){var b,c;b=a.slot;a=!0===a.skipped?this.sendNotification.bind(this,k.BREAK_SKIPPED,
b):this.endBreak.bind(this);if("temporal"===b.getType())switch(this.getMediaElement().removeEventListener("timeupdate",this.handlers.adtimeupdate),c=b.getTimePositionClass(),b=this.getPodById(b.getCustomId()),b.locked=!0,this.slot=null,c){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:this.prerollSlots.length&&(this.prerollSlots.shift(),this.prerollSlots.length?this.playAd(this.prerollSlots[0]):a());break;case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:b=this.midrollSlots.indexOf(this.nextMidroll);
-1<b&&this.midrollSlots.splice(b,1);this.nextMidroll=null;a();break;case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:this.isOverlayDisplayed=!1;b=this.overlaySlotsArray.indexOf(this.nextOverlay);-1<b&&this.overlaySlotsArray.splice(b,1);this.nextOverlay=null;break;case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:this.postrollSlots.length&&(this.postrollSlots.shift(),this.postrollSlots.length?this.playAd(this.postrollSlots[0]):a())}};s.prototype.playAd=function(a){var b,c,e,d;e=this.getPodById(a.getCustomId());
if(!0===(null!=e?e.locked:void 0))this.onSlotEnded({slot:e.metadata,skipped:!0});else d={adtype:a.getType()},e=null!=a?null!=(b=a.getAdInstances())?b[0]:void 0:void 0,null!=e&&(c=e.getAdId(),d.adunit=e.getSoAdUnit(),b=e.getActiveCreativeRendition(),null!=b&&this.updateAdMetadata(a,d)),null==c&&(c=a.getCustomId()),this.adVO=new ta(c,a.getCustomId(),null!=e?e.getDuration():NaN,this.adPosition,a.getTimePositionClass().toLowerCase(),"freewheel",null,null,null,d,a.getAdCount()),this.sendNotification(k.AD_LOADED,
this.adVO),this.sendNotification(k.AD_DURATION_CHANGE,this.adVO),c="function"===typeof a.getTimePositionClass?a.getTimePositionClass():void 0,c!==tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY&&(this.context.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED),this.getMediaElement().load()),c===tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY&&(this.isOverlayDisplayed=!0),a.play()};s.prototype.start=function(){!0===this.canPlay()?this.startAd():this.playWhenLoaded=!0;return!0};s.prototype.canPlay=function(){return!0===
this.initialized};s.prototype.startAd=function(){var a,b,c,e,d,f;this.playWhenLoaded=!1;if(this.prerollSlots.length)for(a=!1,d=this.prerollSlots,c=0,e=d.length;c<e;c++)b=d[c],b=b.getCustomId(),!0===(null!=(f=this.getPodById(b))?f.locked:void 0)&&(a=!0),a?this.breakEnd():(b=this.prerollSlots[0],this.startBreak(this.getPodById(b.getCustomId())),this.playAd(b));else this.endBreak()};s.prototype.play=function(){var a;s.__super__.play.call(this);this.getMediaElement().play();null!=(a=this.slot)&&a.resume();
!0===this.terminateAdOnPlay&&(this.terminateAdOnPlay=!1,this.terminateAd())};s.prototype.pause=function(){var a,b;s.__super__.pause.call(this);a=this.getMediaElement();a.pause();null!=(b=this.slot)&&b.pause();setTimeout(function(){return a.controls=!1},0)};s.prototype.breakEnd=function(){var a,b=this;s.__super__.breakEnd.call(this);null==this.playbackCore&&(this.playbackCore=this.facade.player.retrieveProxy(R.NAME).getActivePlaybackCore());a=this.getMediaElement();a.removeEventListener("playing",
this.playbackCore.handlers.playing);a.removeEventListener("pause",this.playbackCore.handlers.pause);a.removeEventListener("waiting",this.playbackCore.handlers.waiting);a.removeEventListener("seeking",this.handlers.seekupdate);clearInterval(this.timeout);this.appState.getEnded()?this.context.setVideoState(tv.freewheel.SDK.VIDEO_STATE_COMPLETED):(this.playbackCore.setEnabled(!0),setTimeout(function(){b.contentPlay();null!=b.playbackRate&&(b.facade.player.playbackRate=b.playbackRate,b.playbackRate=null);
b.getMediaElement().addEventListener("playing",b.handlers.onResume)},1),setTimeout(function(){b.engageMidrollCheck();b.engageOverlayCheck()},500))};s.prototype.contentStarted=function(){this.engageMidrollCheck();this.engageOverlayCheck()};s.prototype.contentSeek=function(a){var b;if(!0!==this.appState.getSeekRequested())if(this.nextMidroll=this.getPreviousMidroll(a),this.nextOverlay=this.getPreviousOverlay(a),null==this.nextMidroll){if(this.nextMidroll=this.getNextMidroll(a),null!=this.nextMidroll&&
(b=this.nextMidroll.getTimePosition(),1>b-a||a<b))this.nextMidroll=null}else null==this.nextOverlay?this.nextOverlay=this.getNextOverlay(a):(this.midrollEngaged||this.engageMidrollCheck(),this.overlayEngaged||this.engageOverlayCheck())};s.prototype.contentEnded=function(){var a,b=this;this.context.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED);null!=(a=this.postrollSlots)&&a.length?setTimeout(function(){var a;a=b.postrollSlots[0];b.startBreak(b.getPodById(a.getCustomId()));b.playAd(a)},0):this.context.setVideoState(tv.freewheel.SDK.VIDEO_STATE_COMPLETED)};
s.prototype.engageMidrollCheck=function(){var a;0!==(null!=(a=this.midrollSlots)?a.length:void 0)&&!0!==this.midrollEngaged&&(this.midrollEngaged=!0,this.getMediaElement().addEventListener("timeupdate",this.handlers.timeupdate))};s.prototype.disengageMidrollCheck=function(){this.midrollEngaged=!1;this.getMediaElement().removeEventListener("timeupdate",this.handlers.timeupdate)};s.prototype.engageOverlayCheck=function(){var a;0!==(null!=(a=this.overlaySlotsArray)?a.length:void 0)&&!0!==this.overlayEngaged&&
(this.overlayEngaged=!0,this.getMediaElement().addEventListener("timeupdate",this.handlers.overlaytimeupdate))};s.prototype.disengageOverlayCheck=function(){this.overlayEngaged=!1;this.getMediaElement().removeEventListener("timeupdate",this.handlers.overlaytimeupdate)};s.prototype.midrollCheck=function(a){var b,c;if(!this.getMediaElement().paused&&!0!==this.appState.getSeeking()&&!0!==this.appState.getSeekRequested())if(a=this.playbackCore.getCurrentTime(),null==this.nextMidroll)c=this.getNextMidroll(a),
b=this.getPreviousMidroll(a),null!=b&&a>=(null!=b?b.getTimePosition():void 0)&&(null==c||null!=c&&a<=c.getTimePosition())&&(this.nextMidroll=b);else if(c=this.nextMidroll.getTimePosition(),!(a<c||(a="function"===typeof(b=this.nextMidroll).getAdCount?b.getAdCount():void 0,b=this.getPodById(this.nextMidroll.getCustomId()),null==a||b.locked)))if(0===a)this.onSlotEnded({slot:this.nextMidroll,skipped:!0});else this.disengageMidrollCheck(),this.disengageOverlayCheck(),this.adVO.type="midroll",this.startBreak(this.getPodById(this.nextMidroll.getCustomId())),
this.engageAds(),this.playAd(this.nextMidroll)};s.prototype.getNextMidroll=function(a){var b,c,d,f;a=0<=a?a:0;f=this.midrollSlots;c=0;for(d=f.length;c<d;c++)if(b=f[c],a<b.getTimePosition())return b};s.prototype.getPreviousMidroll=function(a){var b,c,d,f,g;d=this.pods.slice().reverse();f=0;for(g=d.length;f<g;f++)if(c=d[f],"midroll"===c.type&&(b=c.metadata,a>b.getTimePosition()))return!0!==c.locked?b:null};s.prototype.overlayCheck=function(a){var b;if(!this.getMediaElement().paused&&!0!==this.appState.getSeeking()&&
!0!==this.appState.getSeekRequested())if(null==this.nextOverlay)this.nextOverlay=this.getNextOverlay(this.playbackCore.getCurrentTime());else if(!(this.playbackCore.getCurrentTime()<this.nextOverlay.getTimePosition())&&(a="function"===typeof(b=this.nextOverlay).getAdCount?b.getAdCount():void 0,null!=a))if(0===a)this.onSlotEnded({slot:this.nextOverlay,skipped:!0});else this.disengageOverlayCheck(),this.adVO.type="overlay",this.playAd(this.nextOverlay)};s.prototype.getNextOverlay=function(a){var b,
c,d,f;a=0<=a?a:0;f=this.overlaySlotsArray;c=0;for(d=f.length;c<d;c++)if(b=f[c],a<b.getTimePosition())return b};s.prototype.getPreviousOverlay=function(a){var b,c,d,f,g;d=this.pods.slice().reverse();f=0;for(g=d.length;f<g;f++)if(c=d[f],"overlay"===c.type&&(b=c.metadata,a>b.getTimePosition()))return!0!==c.locked?b:null};s.prototype.terminateAd=function(a){!0===this.started&&!0===this.getMediaElement().paused&&!1===a?this.terminateAdOnPlay=!0:null!=this.slot&&this.slot.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL&&
this.sendNotification(d.HAS_POST_CONTENT,!1)};s.prototype.terminateAllAds=function(a){!0===a&&null!=this.context&&(this.context.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.handlers.onRequestComplete),this.context.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.handlers.onSlotStarted),this.context.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.handlers.onSlotEnded),this.context.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.handlers.onAdImpression),
this.context.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.handlers.onAdImpressionEnd),this.context.removeEventListener(tv.freewheel.SDK.EVENT_ERROR,this.handlers.onAdEvent));this.terminateAd();this.clearSlots();this.disengageMidrollCheck();this.disengageOverlayCheck();this.sendNotification(d.HAS_POST_CONTENT,!1);this.isOverlayDisplayed=!1};s.prototype.clearSlots=function(){this.prerollSlots=[];this.midrollSlots=[];this.postrollSlots=[];this.overlaySlotsArray=[];this.nextMidroll=
null};s.prototype.getCreativeParameters=function(a){var b,c,d,f,g,k;if(this.config.creativeParameters&&a)for(c={},k=this.config.creativeParameters,f=0,g=k.length;f<g;f++){b=k[f];d=null;try{d=a.getActiveCreativeRendition().getParameter(b)}catch(l){this.facade.logger.warn("[AMP FREEWHEEL WARNING]","Could not retrieve Freewheel creative parameter: "+b,l)}finally{d&&(c[b]=d)}}return c};s.prototype.contentPaused=function(){this.getInProgress()||(this.context.setVideoState(tv.freewheel.SDK.VIDEO_STATE_PAUSED),
this.getMediaElement().addEventListener("playing",this.handlers.onResume))};s.prototype.setVolume=function(a){var b;null!=(b=this.context)&&b.setAdVolume(a);return a};s.prototype.destroy=function(){this.terminateAllAds(!0)};s.prototype.updateAdMetadata=function(a,b){var c,d,f,g,k;if(null!=a&&null!=b&&(b.time=a.getTimePosition(),c=a.getCurrentAdInstance(),null!=c&&(f=c.getActiveCreativeRendition()),null!=f)){for(d in f)c=f[d],0===d.indexOf("get")&&"function"===typeof c&&(b[d.substring(3).toLowerCase()]=
c());b.baseunit=f.getBaseUnit();c=this.value.creativeParameters;if(null!=c)for(b.creativeparameters={},k=a.getAdInstances(),f=0,g=k.length;f<g;f++)c=k[f],d=c.getAdId(),b.creativeparameters[d]=this.getCreativeParameters(c)}return b};s.prototype.replay=function(){this.playWhenLoaded=!0};var $a=function(){$a.__super__.constructor.call(this)};f($a,Q);$a.prototype.moduleName="stats";$a.prototype.createModel=function(){this.proxy=new hb(this.config);this.registerProxy(this.proxy)};$a.prototype.createController=
function(){$a.__super__.createController.call(this);this.registerCommand("statsvisibilitychange",$e)};$a.prototype.createView=function(){this.registerMediator(new Da)};$a.prototype.listNotificationInterests=function(){return[d.PLAYING,d.TIME_UPDATE]};$a.prototype.listNotificationPublications=function(){return $a.__super__.listNotificationPublications.call(this).concat([d.ADD_CONTROL,d.REMOVE_CONTROL,d.ADD_CONTROL_STATE,d.REMOVE_CONTROL_STATE,"statsvisibilitychange"])};$a.prototype.getHidden=function(){return this.proxy.getHidden()};
$a.prototype.setHidden=function(a){this.sendNotification("statsvisibilitychange",a);return a};r.registerPlugin("stats","html",$a);var Xb=function(a){Xb.__super__.constructor.call(this,a)};f(Xb,Bb);Xb.prototype.componentName="playlist";Xb.prototype.playlistButton=null;Xb.prototype.onRegister=function(){var a;a=new ButtonMediator(null,this.viewComponent,null,"playlist",this.playlistOnClick.bind(this));this.facade.registerMediator(a);this.playlistButton=a.getViewComponent();this.sendNotification(d.ADD_CONTROL,
this.playlistButton);this.sendNotification(d.ADD_CONTROL_STATE,"playlist-enabled");Xb.__super__.onRegister.call(this)};Xb.prototype.playlistOnClick=function(a){this.facade.logger.debug("AMP Event: Playlist Clicked")};var ec=function(){ec.__super__.constructor.call(this)};f(ec,X);ec.prototype.moduleName="freewheel";ec.prototype.featureName="ads";ec.prototype.createProxy=function(){return new s(this.config)};ec.prototype.isFullscreenDevice=function(){return!1};r.registerPlugin("freewheel","html",ec);
r.registerPlugin("freewheel","flash",dc);var qd=function(){return qd.__super__.constructor.apply(this,arguments)};f(qd,K);qd.NAME="AdChoicesWrapper";qd.prototype.flashView={elements:{adOptions:{elements:{adChoices:{attributes:{target:"http://www.akamai.com/"}}}}}};var tb=function(){tb.__super__.constructor.call(this)};f(tb,fa);tb.prototype.componentName="ad-choices";tb.prototype.icon=null;tb.prototype.text=null;tb.prototype.container=null;tb.prototype.onRegister=function(){var a;tb.__super__.onRegister.call(this);
a=this.facade.retrieveProxy(F.NAME);this.container=this.create("ad-choices-link",this,"a");this.container.target="_blank";this.container.href=a.getTarget();this.text=this.createText("ad-choices-text","AdChoices",this.container);this.icon=this.create("ad-choices-icon",this.container)};tb.prototype.listNotificationInterests=function(){return[k.AD_CONTAINER_CREATED]};tb.prototype.handleNotification=function(a){switch(a.getName()){case k.AD_CONTAINER_CREATED:a=a.getBody(),null!=a&&a.appendChild(this.viewComponent)}};
var fc=function(a){fc.__super__.constructor.call(this,a)};f(fc,F);fc.NAME=F.NAME;fc.prototype.defaults={target:null};fc.prototype.getTarget=function(){return this.data.target};fc.prototype.setTarget=function(a){return this.data.target=a};var gc=function(){gc.__super__.constructor.call(this)};f(gc,Q);gc.prototype.moduleName="playlist";gc.prototype.createView=function(){this.registerMediator(new Xb)};gc.prototype.listNotificationPublications=function(){return gc.__super__.listNotificationPublications.call(this).concat([d.ADD_CONTROL,
d.REMOVE_CONTROL,d.ADD_CONTROL_STATE,d.REMOVE_CONTROL_STATE])};r.registerPlugin("playlist","html",gc);var rd=function(a,b){rd.__super__.constructor.call(this,a,b)};f(rd,K);rd.NAME="UplynkWrapper";rd.prototype.flashPlugins=[{id:"UplynkStreamingPlugin",src:"#{paths.resources}plugins/latest_upLynkOsmfPlugin.swf",host:"osmf",main:"#{paths.resources}plugins/latest_upLynkOsmfPlugin.swf",type:"application/x-shockwave-flash"}];var hc=function(){hc.__super__.constructor.call(this)};f(hc,Q);hc.prototype.moduleName=
"adchoices";hc.prototype.createModel=function(){this.registerProxy(new fc(this.config))};hc.prototype.createView=function(){this.registerMediator(new tb)};hc.prototype.listNotificationInterests=function(){return[k.AD_CONTAINER_CREATED]};r.registerPlugin("adchoices","html",hc);r.registerPlugin("adchoices","flash",qd);var sd=function(a,b){sd.__super__.constructor.call(this,a,b)};f(sd,K);sd.NAME="CustomAuthWrapper";sd.prototype.flashPlugins=[{id:"AuthenticationSamplePlugin",src:"#{paths.resources}plugins/AuthenticationSamplePlugin.swf",
blocking:!1,host:"akamai",main:"AuthenticationSamplePlugin",type:"application/x-shockwave-flash"}];r.registerPlugin("customauth","flash",sd);var bf=function(){bf.__super__.constructor.call(this)};f(bf,Q);bf.prototype.moduleName="uplynk";r.registerPlugin("uplynk","html",bf);r.registerPlugin("uplynk","flash",rd);var td=function(a,b){null==b&&(b={});td.__super__.constructor.call(this,a,b)};f(td,K);td.NAME="LinkedMenuWrapper";td.prototype.flashPlugins=[{id:"LinkedMenuPlugin",src:"#{paths.resources}plugins/LinkedMenuPlugin.swf",
blocking:!1,host:"akamai",main:"LinkedMenuPlugin"}];r.registerPlugin("linkedmenu","flash",td);var x=function(a){this._player=a};x.prototype.ContentType={AD:"ad",CONTENT:"ct"};x.prototype.AdPosition={PREROLL:"a1",MIDROLL:"a2",POSTROLL:"a3",OVERLAY:"a4",SPECIAL:"a5"};x.prototype.VideoState={UNPLAYED:"s1",PLAYED:"s2",STOPPED:"s3",COMPLETED:"s4"};x.prototype.media=null;x.prototype.facade=null;x.prototype.cur_position=0;x.prototype.queryInterval=2;x.prototype.timer=null;x.prototype.isPlayerReady=!1;x.prototype._player=
null;x.prototype.contentType=null;x.prototype.adType="";x.prototype.playbackState=x.prototype.VideoState.UNPLAYED;x.prototype.videoStartTime=null;x.prototype.isReady=function(){return this.isPlayerReady};x.prototype.getTitle=function(){var a;return null!=(a=this.media)?a.title:void 0};x.prototype.getVideoPath=function(){var a;return null!=(a=this.media)?a.src:void 0};x.prototype.getContentType=function(){return this.contentType};x.prototype.getAdPosition=function(){return this.adType};x.prototype.getTotalDuration=
function(){var a;return 1E3*(null!=(a=this.media)?a.duration:NaN)};x.prototype.getState=function(){return this.playbackState};x.prototype.getCurrentPlayTime=function(){this.media.isLive?this.cur_position=Math.floor(Date.now()/1E3):(this.cur_position=this.facade.player.getCurrentTime().toFixed(1),Math.abs(this.timer-this.cur_position)>this.queryInterval&&(this.timer=this.cur_position));return this.cur_position};x.prototype.getBitrate=function(){var a;a=NaN;try{a=this.facade.player.getQuality()}catch(b){}return a};
x.prototype.getThumbnailPath=function(){return this.facade.player.getMedia().poster};x.prototype.getViewStartTime=function(){return null!=this.videoStartTime?Math.round((new Date).getTime()-this.videoStartTime):0};x.verify=function(a){return!0};x.prototype.onVideoStart=function(){this.videoStartTime=(new Date).getTime()};x.prototype.onVideoEnd=function(){this.videoStartTime=null};var cf=function(){cf.__super__.constructor.call(this)};f(cf,Q);cf.prototype.moduleName="customauth";r.registerPlugin("customauth",
"html",cf);var df=function(){df.__super__.constructor.call(this)};f(df,puremvc.SimpleCommand);df.prototype.execute=function(a){this.facade.retrieveProxy(ha.NAME).start()};var ef=function(){ef.__super__.constructor.call(this)};f(ef,puremvc.SimpleCommand);ef.prototype.execute=function(a){this.facade.retrieveProxy(ha.NAME).adStart(a.body)};var ff=function(){ff.__super__.constructor.call(this)};f(ff,puremvc.SimpleCommand);ff.prototype.execute=function(a){this.facade.retrieveProxy(ha.NAME).adEnd(a.body)};
var gf=function(){gf.__super__.constructor.call(this)};f(gf,puremvc.SimpleCommand);gf.prototype.execute=function(a){this.facade.retrieveProxy(ha.NAME).end()};var hf=function(){hf.__super__.constructor.call(this)};f(hf,puremvc.SimpleCommand);hf.prototype.execute=function(a){this.facade.retrieveProxy(ha.NAME).contentChanged(a.body)};var jf=function(){jf.__super__.constructor.call(this)};f(jf,puremvc.SimpleCommand);jf.prototype.execute=function(a){this.facade.retrieveProxy(ha.NAME).paused()};var kf=
function(){kf.__super__.constructor.call(this)};f(kf,puremvc.SimpleCommand);kf.prototype.execute=function(a){this.facade.retrieveProxy(ha.NAME).canPlay(a.body)};var lf=function(){lf.__super__.constructor.call(this)};f(lf,puremvc.SimpleCommand);lf.prototype.execute=function(a){this.facade.retrieveProxy(ha.NAME).playing()};var mf=function(a,b){this.plugin=new ib;this.plugin.oninitialized=a.registerModule.bind(a,this.plugin);this.plugin.initialize(b,a);mf.__super__.constructor.call(this,a,b)};f(mf,K);
mf.NAME="ChartbeatAnalyticsWrapper";var ha=function(a){ha.__super__.constructor.call(this,a)};f(ha,Z);ha.NAME=F.NAME;ha.prototype.defaults={data:null,events:null,plugin:{js:"//static.chartbeat.com/js/chartbeat_video.js"}};ha.prototype.media=null;ha.prototype.initialize=function(){var a,b;try{a=this.facade.player.getMediaElement(),x.prototype._player=a,x.prototype.facade=this.facade,window._cbv_strategies=window._cbv_strategies||[],window._cbv_strategies.push(x),b=window._cbv||(window._cbv=[]),b.push(a),
this.setConfigMetadata()}catch(c){}r.addResources(this.facade.pluginResources);ha.__super__.initialize.call(this)};ha.prototype.setConfigMetadata=function(){var a,b,c,d;d=window._sf_async_config={};a=null!=(c=this.value)?c.data:void 0;if(null!=a)for(b in a)c=a[b],"null"!==c&&(d[b]=c)};ha.prototype.contentChanged=function(){this.media=this.facade.player.getMedia();this.setConfigMetadata();x.prototype.media=this.media;x.prototype.playbackState=x.prototype.VideoState.UNPLAYED;x.prototype.isPlayerReady=
!0};ha.prototype.adStart=function(a){x.prototype.contentType=x.prototype.ContentType.AD;"preroll"===(null!=a?a.type:void 0)&&(x.prototype.adType=x.prototype.AdPosition.PREROLL);"midroll"===(null!=a?a.type:void 0)&&(x.prototype.adType=x.prototype.AdPosition.MIDROLL);"postroll"===(null!=a?a.type:void 0)&&(x.prototype.adType=x.prototype.AdPosition.POSTROLL)};ha.prototype.adEnd=function(a){"postroll"===(null!=a?a.type:void 0)&&(x.prototype.contentType=x.prototype.ContentType.CONTENT)};ha.prototype.start=
function(a){x.prototype.contentType=x.prototype.ContentType.CONTENT;x.prototype.onVideoStart()};ha.prototype.playing=function(a){x.prototype.contentType=x.prototype.ContentType.CONTENT;x.prototype.playbackState=x.prototype.VideoState.PLAYED};ha.prototype.end=function(a){x.prototype.playbackState=x.prototype.VideoState.COMPLETED;x.prototype.onVideoEnd()};ha.prototype.paused=function(a){x.prototype.playbackState=x.prototype.VideoState.STOPPED};ha.prototype.canPlay=function(a){x.prototype.playbackReady=
!0};var nf=function(){nf.__super__.constructor.call(this)};f(nf,Q);nf.prototype.moduleName="linkedmenu";r.registerPlugin("linkedmenu","html",nf);var ib=function(){ib.__super__.constructor.call(this)};f(ib,Q);ib.prototype.moduleName="chartbeatanalytics";ib.prototype.pluginResources=null;ib.prototype.createModel=function(){this.registerProxy(new ha(this.config))};ib.prototype.loadModuleResources=function(){var a;this.pluginResources=null!=(a=this.config)?a.resources:void 0;this.config.resources=null;
return ib.__super__.loadModuleResources.call(this)};ib.prototype.createController=function(){ib.__super__.createController.call(this);this.registerCommand(k.BREAK_END,ff);this.registerCommand(k.AD_STARTED,ef);this.registerCommand(d.ENDED,gf);this.registerCommand(d.MEDIA_CHANGE,hf);this.registerCommand(d.CAN_PLAY_THROUGH,kf);this.registerCommand(d.STARTED,df);this.registerCommand(d.PLAYING,lf);this.registerCommand(d.PAUSED,jf)};ib.prototype.listNotificationInterests=function(){return[k.AD_STARTED,
k.BREAK_END,d.STARTED,d.ENDED,d.MEDIA_CHANGE,d.PLAYING,d.PAUSED,d.CAN_PLAY_THROUGH]};r.registerPlugin("chartbeatanalytics","html",ib);r.registerPlugin("chartbeatanalytics","flash",mf);var qf=function(a){function b(a,d){babelHelpers.classCallCheck(this,b);var f=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));f.player=a;f.config=d||{};f.logger=new Y(f.debug);var g=void 0;Events.values.forEach(function(a){g=f["on"+a];null!=g&&"function"==typeof g&&(g=f["on"+
a]=g.bind(f),f.player.addEventListener(a,g))});return f}babelHelpers.inherits(b,a);babelHelpers.createClass(b,[{key:"bindHandlers",value:function(a){var b=this;!1==a instanceof Array&&(a=[a]);a.forEach(function(a){b[a]=b[a].bind(b)})}},{key:"debug",get:function(){return null!=this.config.debug?this.config.debug:this.player.config.debug}},{key:"data",get:function(){return this.player.evaluateBindings(this.config)}}],[{key:"createFactory",value:function(a){return function(a,b){var c=this;return new Promise(function(d,
f){try{var g=new c(a,b);d(g)}catch(k){f(k)}})}.bind(a)}}]);return b}(Fa),xf=function(a){function b(a,d){babelHelpers.classCallCheck(this,b);return babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,d))}babelHelpers.inherits(b,a);babelHelpers.createClass(b,[{key:"dispatchEvent",value:function(a){this.player.logger.log("[AMP AD EVENT] "+a.type,a);"function"===typeof this.player.sendNotification&&this.player.sendNotification("ads"+a.type,a.detail);babelHelpers.get(b.prototype.__proto__||
Object.getPrototypeOf(b.prototype),"dispatchEvent",this).call(this,a)}}]);return b}(qf),yf=function(a){function b(a,d){babelHelpers.classCallCheck(this,b);var f=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,d));f.player.createDefaults.call(f);f.player.addEventListener("createflashvars",f.createFlashVars.bind(f));f.player.addEventListener("createxml",f.createXML.bind(f));return f}babelHelpers.inherits(b,a);babelHelpers.createClass(b,[{key:"createFlashVars",
value:function(a){}},{key:"createXML",value:function(a){}},{key:"createProperty",value:function(a,b,d,f){var g=a.createElement("property");g.setAttribute("key",b);null!=f&&f.appendChild(g);if(null!=d)if("object"!==("undefined"===typeof d?"undefined":babelHelpers.typeof(d))||d instanceof Array)a=akamai.amp.XMLUtils.createTextContent(a,d.toString()),g.appendChild(a);else for(var k in d)this.createProperty(a,k,d[k],g);return g}},{key:"flashPlugins",get:function(){return[]}}]);return b}(qf);Dc.akamai=
{amp:{AMP:r,utils:{Timer:Rb,Utils:g,QueryString:Ea,Logger:Y.instance,MRSSHelper:xb},Timer:Rb,Utils:g,Poller:la,Cookies:Wd,PlayState:U,DisplayState:V,PlaybackMode:Aa,QueryString:Ea,Logger:Y,Config:bb,XMLUtils:da,IdleUtil:La,chromecast:{ChromeCastShim:"undefined"!=typeof ChromeCastShim?ChromeCastShim.getInstance():null},XHR:ra,Resource:uc,Media:qa,Authorization:xd,Event:D,Events:Events,EventDispatcher:Fa,Plugin:qf,FlashPlugin:yf,AdPlugin:xf,DataBinding:Wa,Logger:Y,Transformer:ic,TransformType:jc}};
"undefined"!=typeof ta&&(Dc.akamai.amp.AdVO=ta);"undefined"!=typeof k&&(Dc.akamai.amp.AdEvents=function(){var a,b,c={values:[]};for(a in k)b=k[a].replace(/^ads/,""),c[a.replace(/^AD_/,"")]=b,c.values.push(b);return c}());window.AKAMAI_MEDIA_PLAYER.saveSDK("AMP Premier v2.94.5",Dc)}window.AKAMAI_MEDIA_PLAYER.setVersion("AMP Premier v2.94.5")})();