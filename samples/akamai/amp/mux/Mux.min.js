!function(e){"use strict";var a=function(){function e(a,i){babelHelpers.classCallCheck(this,e),this.player=a,this.config=i,this.sdk=mux,this.data=Object.assign({player_software_name:"AMP",player_software_version:a.version,player_mux_plugin_name:"amp-mux",player_mux_plugin_version:"1.66.0",player_init_time:a.initTime},i.data),mux.init(a.container,this)}return babelHelpers.createClass(e,[{key:"onready",value:function(){function e(e,r,t){for(var n in r)e.addEventListener(r[n],function(e,i,r){!t&&a.inProgress||(/timeupdate/.test(i)||console.log("mux.emit",i),mux.emit(e,i))}.bind(null,i,n))}var a=player.ads||{enabled:!1,inProgress:!1},i=player.container;e(player,{play:"play",playing:"playing",pause:"pause",timeupdate:"timeupdate",seeking:"seeking",seeked:"seeked",error:"error",ended:"ended",stalled:"stalled"}),a.enabled===!0&&(e(a,{adrequest:"request",adresponse:"response",adbreakstart:"breakstart",adplay:"play",adplaying:"playing",adpause:"pause",adfirstquartile:"firstquartile",admidpoint:"midpoint",adthirdquartile:"thirdquartile",adended:"ended",adbreakend:"breakend",aderror:"error"},!0),e(a,{adplay:"breakstart"},!0)),mux.emit(i,"playerready")}},{key:"onmediachange",value:function(e){var a=e.detail;console.log("mux.emit","videochange"),mux.emit(player.container,"videochange",{video_id:a.guid,video_title:a.title,video_duration:a.duration,video_is_live:"live"==a.temporalType,video_poster_url:a.poster,video_source_url:a.src,video_source_mime_type:a.type})}},{key:"getStateData",value:function(){var e=this.player,a=e.error||{},i=e.mediaElement;return{video_language_code:e.language,video_source_duration:isNaN(i.duration)?void 0:Math.round(1e3*i.duration),video_source_height:i.videoHeight,video_source_width:i.videoWidth,player_is_paused:e.paused,player_playhead_time:this.getPlayheadTime(),player_is_fullscreen:"fullscreen"==e.displayState,player_autoplay_on:e.autoplay,player_preload_on:i.preload,player_width:element.clientWidth,player_height:element.clientHeight,player_language_code:e.language,player_error_code:a.code,player_error_message:a.message}}},{key:"getPlayheadTime",value:function(){return Math.round(1e3*this.player.getCurrentTime())}}]),e}();akamai.amp.AMP.registerPlugin("mux",akamai.amp.Plugin.createFactory(a)),e.Mux=a}(this.akamai.amp.mux=this.akamai.amp.mux||{});
//# sourceMappingURL=Mux.min.js.map