!function(e){"use strict";var t=function(){function e(t){babelHelpers.classCallCheck(this,e);var a=t.amp;this.player=a,a.addEventListener("onmediachanged",this.onmediachanged.bind(this)),a.addEventListener("onstarted",this.onstarted.bind(this)),a.addEventListener("onplaying",this.onplaying.bind(this)),a.addEventListener("onpaused",this.onpaused.bind(this)),a.addEventListener("onended",this.onended.bind(this));var n=a.ads;null!=n&&(n.addEventListener("started",this.onadstarted.bind(this)),n.addEventListener("ended",this.onadended.bind(this)))}return babelHelpers.createClass(e,null,[{key:"verify",value:function(){return!0}},{key:"ContentType",get:function(){return{AD:"ad",CONTENT:"ct"}}},{key:"AdPosition",get:function(){return{PREROLL:"a1",MIDROLL:"a2",POSTROLL:"a3",OVERLAY:"a4",SPECIAL:"a5"}}},{key:"VideoState",get:function(){return{UNPLAYED:"s1",PLAYED:"s2",STOPPED:"s3",COMPLETED:"s4"}}}]),babelHelpers.createClass(e,[{key:"isReady",value:function(){return this.isPlayerReady}},{key:"getTitle",value:function(){return this.player.media.title}},{key:"getVideoPath",value:function(){return this.player.src}},{key:"getContentType",value:function(){return this.contentType}},{key:"getAdPosition",value:function(){return this.adPosition}},{key:"getTotalDuration",value:function(){return 1e3*this.player.duration}},{key:"getState",value:function(){return this.playbackState}},{key:"getCurrentPlayTime",value:function(){var e=0;return e=this.player.media.isLive?Math.floor(Date.now()/1e3):this.player.currentTime.toFixed(1)}},{key:"getBitrate",value:function(){return this.player.quality||NaN}},{key:"getThumbnailPath",value:function(){return this.player.media.poster}},{key:"getViewStartTime",value:function(){return this.videoStartTime?Math.round(Date.now()-this.videoStartTime):0}},{key:"onmediachanged",value:function(){this.playbackState=e.VideoState.UNPLAYED,this.isPlayerReady=!0}},{key:"onstarted",value:function(){this.contentType=e.ContentType.CONTENT,this.videoStartTime=Date.now()}},{key:"onplaying",value:function(){this.contentType=e.ContentType.CONTENT,this.playbackState=e.VideoState.PLAYED}},{key:"onended",value:function(){this.playbackState=e.VideoState.COMPLETED,this.videoStartTime=null}},{key:"onpaused",value:function(){this.playbackState=e.VideoState.STOPPED}},{key:"onadstarted",value:function(t){var a=t.detail;this.contentType=e.ContentType.AD,null!=a&&("preroll"==a.type?this.adPosition=e.AdPosition.PREROLL:"midroll"==a.type?this.adPosition=e.AdPosition.MIDROLL:"postroll"==a.type&&(this.adPosition=e.AdPosition.POSTROLL))}},{key:"onadended",value:function(t){var a=t.detail;null!=a&&"postroll"==a.type&&(this.contentType=e.ContentType.CONTENT)}}]),e}(),a=function(e){function a(e,t){return babelHelpers.classCallCheck(this,a),babelHelpers.possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t))}return babelHelpers.inherits(a,e),babelHelpers.createClass(a,[{key:"setConfigMetadata",value:function(){var e=window._sf_async_config={},t=this.data.data;if(null!=t)for(var a in t){var n=t[a];null!=n&&"null"!=n&&(e[a]=n)}}},{key:"onready",value:function(){window._cbv_strategies=window._cbv_strategies||[],window._cbv_strategies.push(t),_cbv=window._cbv||(window._cbv=[]),_cbv.push(this.player.mediaElement),this.player.loadResources(this.config.sdk)}},{key:"onmediachange",value:function(){this.setConfigMetadata()}}]),a}(akamai.amp.Plugin);akamai.amp.AMP.registerPlugin("chartbeatanalytics",akamai.amp.Plugin.createFactory(a)),e.ChartbeatAnalytics=a}(this.akamai.amp.chartbeatanalytics=this.akamai.amp.chartbeatanalytics||{});
//# sourceMappingURL=Chartbeatanalytics.min.js.map