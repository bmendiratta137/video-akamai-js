!function(a){"use strict";var e=function(a){function e(a,t){return babelHelpers.classCallCheck(this,e),babelHelpers.possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,a,t))}return babelHelpers.inherits(e,a),babelHelpers.createClass(e,[{key:"onready",value:function(a){var e=this.player.ads;null!=e&&(e.addEventListener("breakstart",this.onadbreakstart.bind(this)),e.addEventListener("managerloaded",this.onadmanagerloaded.bind(this)))}},{key:"track",value:function(){var a=this.adsManagerVO,e=this.data;null!=initMoatTracking&&null!=a&&null!=e&&initMoatTracking(a.adManager,{partnerCode:e.partnerCode,viewMode:a.viewMode,slicer1:e.slicer1,slicer2:e.slicer2},a.adContainer)}},{key:"onmediachange",value:function(a){this.adsManagerVO=null}},{key:"onadbreakstart",value:function(a){this.track()}},{key:"onadmanagerloaded",value:function(a){this.adsManagerVO=a.detail,this.track()}}]),e}(akamai.amp.Plugin),t=function(a){function e(a,t){return babelHelpers.classCallCheck(this,e),babelHelpers.possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,a,t))}return babelHelpers.inherits(e,a),babelHelpers.createClass(e,[{key:"createXML",value:function(a){var e=a.detail.xml,t=e.firstChild,i=e.getElementsByTagName("metrics")[0];null==i&&(i=e.createElement("metrics"),t.appendChild(i));var r=e.createElement("vendor");r.setAttribute("id","moat"),i.appendChild(r);var n=[{value:this.config.data.partnerCode,key:"partnerCode"},{value:this.config.data.slicer1,key:"slicer1"},{value:this.config.data.slicer2,key:"slicer2"}];n.forEach(function(a){null!=a.value&&this.createProperty(e,a.key,a.value,r)})}},{key:"flashPlugins",get:function(){return[{id:"MOATAnalyticsPlugin",src:"#{paths.resources}plugins/MOATAnalyticsPlugin.swf",blocking:!1,host:"akamai",main:"MOATAnalyticsPlugin"}]}}]),e}(akamai.amp.FlashPlugin);akamai.amp.AMP.registerPlugin("moat","html",akamai.amp.Plugin.createFactory(e)),akamai.amp.AMP.registerPlugin("moat","flash",akamai.amp.Plugin.createFactory(t)),a.Moat=e,a.MoatFlash=t}(this.akamai.amp.moat=this.akamai.amp.moat||{});
//# sourceMappingURL=Moat.min.js.map